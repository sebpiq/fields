!function(t,e,n){"use strict";function r(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return r(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var e=t?this.internal_createDelay(t):this.internal_createDelay();return r(e.delayTime),e},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start||(t.start=function(t,e,n){e||n?this.noteGrainOn(t,e,n):this.noteOn(t)}),t.stop||(t.stop=t.noteOff),r(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return r(t.threshold),r(t.knee),r(t.ratio),r(t.reduction),r(t.attack),r(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return r(t.frequency),r(t.detune),r(t.Q),r(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start||(t.start=t.noteOn),t.stop||(t.stop=t.noteOff),r(t.frequency),r(t.detune),t}))}(window),function(t,e,n){"use strict";function r(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return r(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var e=t?this.internal_createDelay(t):this.internal_createDelay();return r(e.delayTime),e},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start?(t.internal_start=t.start,t.start=function(e,n,r){"undefined"!=typeof r?t.internal_start(e||0,n,r):t.internal_start(e||0,n)}):t.start=function(t,e,n){e||n?this.noteGrainOn(t||0,e,n):this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},r(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return r(t.threshold),r(t.knee),r(t.ratio),r(t.reduction),r(t.attack),r(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return r(t.frequency),r(t.detune),r(t.Q),r(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start?(t.internal_start=t.start,t.start=function(e){t.internal_start(e||0)}):t.start=function(t){this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),r(t.frequency),r(t.detune),t})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}(window),function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=t("underscore"),i=t("pd-fileutils.parser"),o=t("./lib/core/Patch"),s=t("./lib/core/PdObject"),a=t("./lib/core/mixins"),u=t("./lib/waa/portlets"),c=t("./lib/waa/interfaces"),l=t("./lib/global"),f=t("./lib/core/interfaces"),h=r.extend({},a.UniqueIdsMixin);t("./lib/index").declareObjects(l.library);var p=e.exports={getSampleRate:function(){return l.settings.sampleRate},start:function(t){if(t=t||{},!l.isStarted){"undefined"!=typeof AudioContext?(l.audio=t.audio||new c.Audio({channelCount:l.settings.channelCount,audioContext:t.audioContext}),l.clock=t.clock||new c.Clock({audioContext:l.audio.context,waaClock:t.waaClock})):(l.audio=t.audio||f.Audio,l.clock=t.clock||f.Clock),t.storage?l.storage=t.storage:"undefined"!=typeof window?l.storage=new c.Storage:l.storage=f.Storage,l.audio.start();for(var e in l.patches)l.patches[e].start();l.isStarted=!0}},stop:function(){if(l.isStarted){l.isStarted=!1;for(var t in l.patches)l.patches[t].stop();l.audio.stop()}},isStarted:function(){return l.isStarted},getAudio:function(){return l.audio},send:function(t,e){l.emitter.emit("msg:"+t,e)},receive:function(t,e){l.emitter.on("msg:"+t,e)},registerAbstraction:function(t,e){r.isString(e)&&(e=i.parse(e));var n=function(t,n,r){var t=new o(t,n,r);return t.patchId=h._generateId(),p._preparePatch(t,e),t};n.prototype=o.prototype,this.registerExternal(t,n)},registerExternal:function(t,e){l.library[t]=e},createPatch:function(){var t=this._createPatch();return l.isStarted&&t.start(),t},destroyPatch:function(t){t.stop(),t.destroy(),delete l.patches[t.patchId]},loadPatch:function(t){var e=this._createPatch();return r.isString(t)&&(t=i.parse(t)),this._preparePatch(e,t),l.isStarted&&e.start(),e},_createPatch:function(){var t=new o;return t.patchId=h._generateId(),l.patches[t.patchId]=t,t},_preparePatch:function(t,e){var n={};e.nodes.forEach(function(e){var r,i=e.proto;if("graph"===i){var o=e.subpatch.nodes[0];r=t._createObject("array",o.args||[]),r.setData(new Float32Array(o.data),!0),i="array"}else r=t._createObject(i,e.args||[]);"pd"===i&&p._preparePatch(r,e.subpatch),n[e.id]=r}),e.connections.forEach(function(t){var e=n[t.source.id],r=n[t.sink.id];if(!e||!r)throw new Error("invalid connection");e.o(t.source.port).connect(r.i(t.sink.port))})},core:{PdObject:s,portlets:u},_glob:l};"undefined"!=typeof window&&(window.Pd=p)},{"./lib/core/Patch":4,"./lib/core/PdObject":5,"./lib/core/interfaces":6,"./lib/core/mixins":7,"./lib/global":10,"./lib/index":12,"./lib/waa/interfaces":14,"./lib/waa/portlets":15,"pd-fileutils.parser":21,underscore:22}],2:[function(t,e,n){var r=(t("events").EventEmitter,t("underscore")),i=t("./core/utils"),o=t("./core/mixins"),s=t("./core/PdObject"),a=(t("./core/Patch"),t("./global")),u=t("./waa/portlets");n.declareObjects=function(t){var e=s.extend({inletDefs:[u.Inlet.extend({message:function(t){this.obj._onMessageReceived(t)}})],outletDefs:[u.Outlet],init:function(t,e,n,r,i){if(this._eventReceiver=new o.EventReceiver,n?this.value=i:this.value=r,t&&"-"!==t&&"empty"!==t&&(this.receiveName=t,this._onMessageReceived&&(this._onMessageReceived=this._onMessageReceived.bind(this),this._eventReceiver.on(a.emitter,"msg:"+this.receiveName,this._onMessageReceived))),e&&"-"!==e&&"empty"!==e&&(this.sendName=e),n&&this.patch){var s=this;this._onPatchStarted=function(){s._sendMessage([s.value])},this._eventReceiver.on(this.patch,"started",this._onPatchStarted)}},destroy:function(){this._eventReceiver.destroy()},_sendMessage:function(t){this.o(0).message(t),this.sendName&&a.emitter.emit("msg:"+this.sendName,t)}});t.symbolatom=e.extend({type:"symbolatom",init:function(t){var n=(t[0]||void 0,t[1]||void 0,t[2]),r=t[3];e.prototype.init.apply(this,[n,r,0,"symbol",0])},_onMessageReceived:function(t){var e=t[0];return"bang"===e||r.isNumber(e)||"symbol"===e?(r.isNumber(e)?this.value="float":"symbol"===e&&(this.value=t[1]),void this._sendMessage(i.timeTag(["symbol",this.value],t))):console.error("invalid "+e)}});var n=e.extend({init:function(t,n,i,o,s,a){this._limitInput=function(t){return r.isNumber(s)&&(t=Math.min(t,s)),r.isNumber(o)&&(t=Math.max(t,o)),t},e.prototype.init.apply(this,[n,i,t,0,a])},_onMessageReceived:function(t){var e=t[0];return"bang"===e||r.isNumber(e)?(r.isNumber(e)&&(this.value=e),void this._sendMessage(i.timeTag([this._limitInput(this.value)],t))):console.error("invalid "+e)}});t.floatatom=n.extend({type:"floatatom",init:function(t){var e=t[0]||void 0,r=t[1]||void 0,i=t[2],o=t[3];n.prototype.init.apply(this,[0,i,o,e,r,0])}}),t.nbx=n.extend({type:"nbx",init:function(t){var e=t[0]||void 0,r=t[1]||void 0,i=t[2]||0,o=t[3],s=t[4],a=t[5]||0;n.prototype.init.apply(this,[i,o,s,e,r,a])}}),t.bng=e.extend({type:"bng",init:function(t){var n=t[0]||0,r=t[1],i=t[2];e.prototype.init.apply(this,[r,i,n,"bang","bang"])},_onMessageReceived:function(t){this._sendMessage(i.timeTag(["bang"],t))}}),t.tgl=e.extend({type:"tgl",init:function(t){var n=t[0]||0,i=t[1],o=t[2],s=t[3]||0,a=r.isNumber(t[4])?t[4]:1;e.prototype.init.apply(this,[i,o,n,0,s]),this.nonZeroValue=a},_onMessageReceived:function(t){var e=t[0];if("bang"===e)0===this.value?this.value=this.nonZeroValue:this.value=0,this._sendMessage(i.timeTag([this.value],t));else{if(!r.isNumber(e))return console.error("invalid message received "+t);0===e?this.value=0:this.value=this.nonZeroValue,this._sendMessage(i.timeTag([e],t))}}});var c=n.extend({init:function(t){var e=t[0]||0,i=r.isNumber(t[1])?t[1]:127,o=t[2]||0,s=t[3],a=t[4],u=t[5]||0;n.prototype.init.apply(this,[o,s,a,e,i,u])}});t.hsl=c.extend({type:"hsl"}),t.vsl=c.extend({type:"vsl"});var l=e.extend({init:function(t){var n=(t[0],t[1]),i=r.isNumber(t[2])?t[2]:8,o=t[3],s=t[4],a=t[5]||0;this._limitInput=function(t){return Math.floor(Math.min(Math.max(t,0),i-1))},e.prototype.init.apply(this,[o,s,n,0,a])},_onMessageReceived:function(t){var e=t[0];return"bang"===e||r.isNumber(e)?(r.isNumber(e)&&(this.value=e),void this._sendMessage(i.timeTag([this._limitInput(this.value)],t))):console.error("invalid "+e)}});t.hradio=l.extend({type:"hradio"}),t.vradio=l.extend({type:"vradio"}),t.vu=e.extend({init:function(t){var n=t[0];e.prototype.init.apply(this,[n,void 0,0,0,0])},_onMessageReceived:function(t){this._sendMessage(t)}})}},{"./core/Patch":4,"./core/PdObject":5,"./core/mixins":7,"./core/utils":9,"./global":10,"./waa/portlets":15,events:16,underscore:22}],3:[function(t,e,n){var r=t("underscore"),i=(t("util").inherits,t("./portlets"),t("./utils"),e.exports=function(t,e,n){n=n||[];var r=this;this.id=e,this.patch=t,this.inlets=this.inletDefs.map(function(t,e){return new t(r,e)}),this.outlets=this.outletDefs.map(function(t,e){return new t(r,e)}),this.init(n)});r.extend(i.prototype,{endPoint:!1,doResolveArgs:!1,outletDefs:[],inletDefs:[],init:function(){},start:function(){},stop:function(){},destroy:function(){},i:function(t){if(t<this.inlets.length)return this.inlets[t];throw new Error("invalid inlet "+t)},o:function(t){if(t<this.outlets.length)return this.outlets[t];throw new Error("invalid outlet "+t)},startPortlets:function(){this.outlets.forEach(function(t){t.start()}),this.inlets.forEach(function(t){t.start()})},stopPortlets:function(){this.outlets.forEach(function(t){t.stop()}),this.inlets.forEach(function(t){t.stop()})}})},{"./portlets":8,"./utils":9,underscore:22,util:20}],4:[function(t,e,n){var r=t("underscore"),i=t("events").EventEmitter,o=t("./mixins"),s=t("./utils"),a=t("./BaseNode"),u=t("../global"),c=e.exports=function(){a.apply(this,arguments),this.objects=[],this.endPoints=[],this.patchId=null,this.sampleRate=u.settings.sampleRate,this.blockSize=u.settings.blockSize};r.extend(c.prototype,a.prototype,o.UniqueIdsMixin,i.prototype,{type:"patch",init:function(t){this.args=t},start:function(){this._startStopGeneric("start","startPortlets","started")},stop:function(){this._startStopGeneric("stop","stopPortlets","stopped")},destroy:function(){this.objects.forEach(function(t){t.destroy()})},_startStopGeneric:function(t,e,n){var r=function(e){e instanceof c?(i.push(e),e.objects.forEach(r)):e[t]()},i=[this];this.objects.forEach(r),i.forEach(function(t){t.objects.forEach(function(t){t instanceof c||t[e]()})}),i.forEach(function(t){t.emit(n)})},createObject:function(t,e){var n=this._createObject(t,e);return u.isStarted&&(n.start(),n.startPortlets()),n},_createObject:function(t,e){var n;if(e=e||[],!u.library.hasOwnProperty(t))throw new Error("unknown object "+t);var r=u.library[t];return r.prototype.doResolveArgs&&(e=this.resolveArgs(e)),n=new r(this,this._generateId(),e),this.objects[n.id]=n,n.endPoint&&this.endPoints.push(n),l(n)&&this.inlets.push(n.inlets[0]),f(n)&&this.outlets.push(n.outlets[0]),n},resolveArgs:function(t){var e,n=t.slice(0),r=this.getPatchRoot().patchId;return e=[r].concat(this.args),t.forEach(function(t,e){"b"===t?n[e]="bang":"f"===t?n[e]="float":"s"===t?n[e]="symbol":"a"===t?n[e]="anything":"l"===t&&(n[e]="list")}),s.getDollarResolver(n)(e)},getPatchRoot:function(){for(var t=this;t.patch;)t=t.patch;return t}});var l=function(t){return[u.library.inlet,u.library["inlet~"]].some(function(e){return t instanceof e})},f=function(t){return[u.library.outlet,u.library["outlet~"]].some(function(e){return t instanceof e})}},{"../global":10,"./BaseNode":3,"./mixins":7,"./utils":9,events:16,underscore:22}],5:[function(t,e,n){var r=t("underscore"),i=(t("util").inherits,t("./portlets"),t("./utils")),o=t("./BaseNode"),s=(t("./Patch"),t("../global"),e.exports=function(){o.apply(this,arguments)});s.extend=i.chainExtend,r.extend(s.prototype,o.prototype,{doResolveArgs:!0})},{"../global":10,"./BaseNode":3,"./Patch":4,"./portlets":8,"./utils":9,underscore:22,util:20}],6:[function(t,e,n){n.Clock={time:0,schedule:function(t,e,n){},unschedule:function(t){}},n.Audio={start:function(){},stop:function(){},decode:function(t,e){e(null,t)}},n.Storage={get:function(t,e){}}},{}],7:[function(t,e,n){var r=t("events").EventEmitter,i=t("underscore"),o=t("../global");n.NamedMixin={nameIsUnique:!1,setName:function(t){if(!i.isString(t))return console.error("expected ["+this.type+"] name to be a string, got "+t);var e=this.name;this.emit("changing:name",e,t),this.name=t,o.namedObjects.register(this,this.type,t,this.nameIsUnique,e),this.emit("changed:name",e,t)},destroy:function(){o.namedObjects.unregister(this,this.type,this.name)}};var s=n.EventEmitterMixin=i.extend({},r.prototype,{destroy:function(){this.removeAllListeners()}}),a=n.Reference=function(t){this.referencedType=t,this._onNewObject=null,this._onChangedName=null,this.resolved=null,this._eventName="namedObjects:registered:"+this.referencedType,this._eventReceiver=new u};i.extend(a.prototype,s,{set:function(t){var e=this,n=o.namedObjects.get(this.referencedType,t)[0];this.name=t,this._stopListening(),n?this._setResolved(n):(this._setResolved(null),this._onNewObject=function(n){n.name===t&&(e._stopListening(),e._setResolved(n))},this._eventReceiver.on(o.emitter,this._eventName,this._onNewObject))},destroy:function(){this._eventReceiver.destroy(),s.destroy.apply(this)},_setResolved:function(t){var e=this,n=this.resolved;this.resolved=t,n&&n.removeListener("changing:name",e._onChangedName),t&&(this._onChangedName=function(){e._setResolved(null)},this._eventReceiver.on(t,"changing:name",this._onChangedName)),this.emit("changed",t,n)},_stopListening:function(){this._onNewObject&&(this._eventReceiver.removeListener(o.emitter,this._eventName,this._onNewObject),this._onNewObject=null)}}),n.UniqueIdsMixin={_generateId:function(){return this._idCounter++,this._idCounter},_idCounter:-1};var u=n.EventReceiver=function(){this._handlers=[]};i.extend(u.prototype,{addListener:function(t,e,n){this._handlers.push([t,e,n]),t.addListener(e,n)},once:function(t,e,n){var r=[t,e,n];this._handlers.push(r),t.once(e,n)},removeListener:function(t,e,n){this._handlers=i.reject(this._handlers,function(r){var i=r[0]===t&&r[1]===e&&r[2]===n;return i&&t.removeListener(e,n),i})},destroy:function(){this._handlers.forEach(function(t){t[0].removeListener(t[1],t[2])}),this._handlers=[]}}),u.prototype.on=u.prototype.addListener},{"../global":10,events:16,underscore:22}],8:[function(t,e,n){var r=t("underscore"),i=t("./utils"),o=n.Portlet=function(t,e){this.obj=t,this.id=e,this.connections=[],this.init()};r.extend(o.prototype,{crossPatch:!1,init:function(){},start:function(){},stop:function(){},message:function(t){},connection:function(t){},disconnection:function(t){},connect:function(t){if(-1!==this.connections.indexOf(t))return!1;if(!this.crossPatch&&!t.crossPatch&&this.obj.patch!==t.obj.patch)throw new Error("cannot connect objects that belong to different patches");return this.connections.push(t),t.connect(this),this.connection(t),!0},disconnect:function(t){var e=this.connections.indexOf(t);return-1===e?!1:(this.connections.splice(e,1),t.disconnect(this),this.disconnection(t),!0)}}),o.extend=i.chainExtend;n.Inlet=o.extend({}),n.Outlet=o.extend({})},{"./utils":9,underscore:22}],9:[function(t,e,n){var r=t("underscore"),i=t("../global"),o=/\$(\d+)/,s=/\$(\d+)/g;n.getDollarResolver=function(t){t=t.slice(0);var e=function(t,e){if(e>=t.length||0>e)throw new Error("$"+(e+1)+": argument number out of range");return t[e]},n=t.map(function(t){var n=o.exec(t);return n&&n[0]===t?function(t){var r=parseInt(n[1],10);return function(t){return e(t,r)}}(t):n?function(t){for(var n,r=[];n=s.exec(t);)r.push([n[0],parseInt(n[1],10)]);return function(n){var i=t.substr(0);return r.forEach(function(t){i=i.replace(t[0],e(n,t[1]))}),i}}(t):function(t){return function(){return t}}(t)});return function(t){return n.map(function(e,n){return e(t)})}},n.chainExtend=function(){var t=Array.prototype.slice.call(arguments,0),e=this,n=function(){e.apply(this,arguments)};return n.prototype=new e,r.extend.apply(this,[n.prototype,e.prototype].concat(t)),n.extend=this.extend,n},n.timeTag=function(t,e){return e?(r.isNumber(e)?t.timeTag=e:t.timeTag=e.timeTag,t):t},n.getTimeTag=function(t){return t&&t.timeTag||i.clock&&i.clock.time||0}},{"../global":10,underscore:22}],10:[function(t,e,n){var r=t("underscore"),i=t("events").EventEmitter;n.settings={sampleRate:44100,blockSize:16384,channelCount:2},n.isStarted=!1;var o=n.emitter=new i;o.emit=function(t){if(!r.contains([],t)&&0!==t.indexOf("msg:")&&0!==t.indexOf("namedObjects:registered")&&0!==t.indexOf("namedObjects:unregistered"))throw new Error("unknown event : "+t);i.prototype.emit.apply(this,arguments)},n.library={},n.patches={},n.audio=null,n.clock=null,n.storage=null,n.namedObjects={register:function(t,e,r,i,o){var s,a;if(this._store[e]=s=this._store[e]||{},s[r]=a=s[r]||[],-1===a.indexOf(t)){if(i&&a.length>0)throw new Error("there is already a "+e+' with name "'+r+'"');a.push(t)}o&&(a=s[o],a.splice(a.indexOf(t),1)),n.emitter.emit("namedObjects:registered:"+e,t)},unregister:function(t,e,r){var i,o=this._store[e],s=o?o[r]:null;s&&(i=s.indexOf(t),-1!==i&&(s.splice(i,1),n.emitter.emit("namedObjects:unregistered:"+e,t)))},get:function(t,e){return(this._store[t]||{})[e]||[]},reset:function(){this._store={}},_store:{}}},{events:16,underscore:22}],11:[function(t,e,n){var r=t("underscore"),i=t("./core/utils"),o=t("./core/mixins"),s=t("./core/PdObject"),a=t("./core/Patch"),u=t("./global"),c=t("./waa/portlets");n.declareObjects=function(t){t.receive=t.r=s.extend(o.NamedMixin,o.EventEmitterMixin,{type:"receive",outletDefs:[c.Outlet],abbreviations:["r"],init:function(t){var e=t[0],n=this;this._eventReceiver=new o.EventReceiver,this._onMessageReceived=this._onMessageReceived.bind(this),this._eventReceiver.on(this,"changed:name",function(t,e){t&&n._eventReceiver.removeListener(u.emitter,"msg:"+t,n._onMessageReceived),n._eventReceiver.on(u.emitter,"msg:"+e,n._onMessageReceived)}),this.setName(e)},destroy:function(){o.NamedMixin.destroy.apply(this,arguments),this._eventReceiver.destroy(),o.EventEmitterMixin.destroy.apply(this,arguments)},_onMessageReceived:function(t){this.o(0).message(t)}}),t.send=t.s=s.extend(o.NamedMixin,o.EventEmitterMixin,{type:"send",inletDefs:[c.Inlet.extend({message:function(t){u.emitter.emit("msg:"+this.obj.name,t)}})],abbreviations:["s"],init:function(t){this.setName(t[0])},destroy:function(){o.NamedMixin.destroy.apply(this,arguments),o.EventEmitterMixin.destroy.apply(this,arguments)}}),t.msg=s.extend({type:"msg",doResolveArgs:!1,inletDefs:[c.Inlet.extend({message:function(t){var e=t.timeTag;t=t.slice(0),t.unshift(0),this.obj.outlets[0].message(i.timeTag(this.obj.resolver(t),e))}})],outletDefs:[c.Outlet],init:function(t){this.resolver=i.getDollarResolver(t)}}),t.print=s.extend({type:"print",inletDefs:[c.Inlet.extend({message:function(t){console.log(this.obj.prefix?[this.obj.prefix].concat(t):t)}})],init:function(t){this.prefix=t[0]||"print"}}),t.text=s.extend({type:"text",init:function(t){this.text=t[0]}}),t.loadbang=s.extend({type:"loadbang",outletDefs:[c.Outlet],init:function(){var t=this;this._eventReceiver=new o.EventReceiver,this._onPatchStarted=function(){t.o(0).message(["bang"])},this._eventReceiver.on(this.patch,"started",this._onPatchStarted)},destroy:function(){this._eventReceiver.destroy()}});var e=s.extend({inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];"bang"!==e&&this.obj.setVal(e),this.obj.o(0).message(i.timeTag([this.obj.val],t))}}),c.Inlet.extend({message:function(t){var e=t[0];this.obj.setVal(e)}})],outletDefs:[c.Outlet],init:function(t){var e=t[0];this.setVal(e||0)},setVal:function(t){this.val=t}});t["float"]=t.f=e.extend({type:"float",setVal:function(t){return r.isNumber(t)?void(this.val=t):console.error("invalid [float] value "+t)}}),t["int"]=t.i=e.extend({type:"int",setVal:function(t){return r.isNumber(t)?void(this.val=Math.floor(t)):console.error("invalid [int] value "+t)}});var n=s.extend({inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];r.isNumber(e)?this.obj.valLeft=e:"bang"!==e&&console.error("invalid message : "+t),this.obj.o(0).message(i.timeTag([this.obj.compute()],t))}}),c.Inlet.extend({message:function(t){var e=t[0];return r.isNumber(e)?void(this.obj.valRight=e):console.error("invalid operand for ["+this.obj.type+"] "+e)}})],outletDefs:[c.Outlet],init:function(t){this.valRight=t[0]||0,this.valLeft=0},compute:function(){}});t["+"]=n.extend({type:"+",compute:function(){return this.valLeft+this.valRight}}),t["-"]=n.extend({type:"-",compute:function(){return this.valLeft-this.valRight}}),t["*"]=n.extend({type:"*",compute:function(){return this.valLeft*this.valRight}}),t["/"]=n.extend({type:"/",compute:function(){return this.valLeft/this.valRight}}),t.mod=t["%"]=n.extend({type:"mod",compute:function(){return this.valLeft%this.valRight}}),t.pow=n.extend({type:"pow",compute:function(){return Math.pow(this.valLeft,this.valRight)}});var l=s.extend({inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];this.obj.checkInput(e),this.obj.o(0).message(i.timeTag([this.obj.compute(e)],t))}})],outletDefs:[c.Outlet],checkInput:function(t){},compute:function(){}}),f=l.extend({checkInput:function(t){return r.isNumber(t)?void 0:console.error("invalid ["+this.type+"] value "+t)}});t.cos=f.extend({type:"cos",compute:function(t){return Math.cos(t)}}),t.sin=f.extend({type:"sin",compute:function(t){return Math.sin(t)}}),t.tan=f.extend({type:"tan",compute:function(t){return Math.tan(t)}}),t.atan=f.extend({type:"atan",compute:function(t){return Math.atan(t)}}),t.exp=f.extend({type:"exp",compute:function(t){return Math.exp(t)}}),t.log=f.extend({type:"log",compute:function(t){return Math.log(t)}}),t.abs=f.extend({type:"abs",compute:function(t){return Math.abs(t)}}),t.sqrt=f.extend({type:"sqrt",compute:function(t){return Math.sqrt(t)}}),t.mtof=f.extend({type:"mtof",maxMidiNote:8.17579891564*Math.exp(86.585635235),compute:function(t){var e=0;return r.isNumber(t)?e=-1500>=t?0:t>1499?this.maxMidiNote:8.17579891564*Math.exp(.057762265*t):console.error("invalid [mtof] value "+t)}}),t["samplerate~"]=l.extend({type:"samplerate~",compute:function(){return u.settings.sampleRate}}),t.spigot=s.extend({type:"spigot",inletDefs:[c.Inlet.extend({message:function(t){this.obj.passing&&this.obj.o(0).message(t)}}),c.Inlet.extend({message:function(t){var e=t[0];this.obj.setPassing(e)}})],outletDefs:[c.Outlet],init:function(t){var e=t[0];this.setPassing(e||0)},setPassing:function(t){return r.isNumber(t)?void(this.passing=Boolean(t)):console.error("invalid [spigot] value "+t)}}),t.trigger=t.t=s.extend({type:"trigger",inletDefs:[c.Inlet.extend({message:function(t){var e,n,o;for(e=this.obj.filters.length-1;e>=0;e--)if(n=this.obj.filters[e],"bang"===n)this.obj.o(e).message(i.timeTag(["bang"],t));else if("list"===n||"anything"===n)this.obj.o(e).message(t);else if("float"===n||r.isNumber(n))o=t[0],r.isNumber(o)?this.obj.o(e).message(i.timeTag([o],t)):this.obj.o(e).message(i.timeTag([0],t));else if("symbol"===n)if(o=t[0],"bang"===o)this.obj.o(e).message(i.timeTag(["symbol"],t));else if(r.isNumber(o))this.obj.o(e).message(i.timeTag(["float"],t));else{if(!r.isString(o))throw new Error("Got unexpected input "+t);this.obj.o(e).message(i.timeTag([o],t))}else this.obj.o(e).message(i.timeTag(["bang"],t))}})],init:function(t){var e,n;for(0===t.length&&(t=["bang","bang"]),e=0,n=t.length;n>e;e++)this.outlets.push(new c.Outlet(this,e));this.filters=t}});var h=c.Inlet.extend({message:function(t){var e=t[0];"bang"!==e&&(this.obj.memory[0]=e),this.obj.o(0).message(i.timeTag(this.obj.memory.slice(0),t))}}),p=c.Inlet.extend({message:function(t){var e=t[0];this.obj.memory[this.id]=e}});t.pack=s.extend({type:"pack",outletDefs:[c.Outlet],init:function(t){var e,n=t.length;for(0===n&&(t=["float","float"]),n=t.length,this.filters=t,this.memory=new Array(n),e=0;n>e;e++)0===e?this.inlets[e]=new h(this,e):this.inlets[e]=new p(this,e),"float"===t[e]?this.memory[e]=0:"symbol"===t[e]?this.memory[e]="symbol":this.memory[e]=t[e]}}),t.select=t.sel=s.extend({type:"select",inletDefs:[c.Inlet.extend({message:function(t){var e,n=t[0];-1!==(e=this.obj.filters.indexOf(n))?this.obj.o(e).message(i.timeTag(["bang"],t)):this.obj.outlets.slice(-1)[0].message(i.timeTag([n],t))}}),c.Inlet.extend({message:function(t){this.obj.filters.length<=1&&(this.obj.filters=t)}})],init:function(t){var e,n;for(0===t.length&&(t=[0]),t.length>1&&this.inlets.pop(),e=0,n=t.length;n>e;e++)this.outlets[e]=new c.Outlet(this,e);this.outlets[e]=new c.Outlet(this,e),this.filters=t}}),t.moses=s.extend({type:"moses",inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];return r.isNumber(e)?void(e<this.obj.val?this.obj.o(0).message(i.timeTag([e],t)):this.obj.o(1).message(i.timeTag([e],t))):console.error("invalid [moses] value "+e)}}),c.Inlet.extend({message:function(t){var e=t[0];this.obj.setVal(e)}})],outletDefs:[c.Outlet,c.Outlet],init:function(t){var e=t[0];this.setVal(e||0)},setVal:function(t){return r.isNumber(t)?void(this.val=t):console.error("invalid [moses] value "+t)}}),t.until=s.extend({type:"until",inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];if("bang"===e)this.obj._startLoop(t.timeTag);else{if(!r.isNumber(e))return console.error("invalid [until] value "+e);this.obj._startLoop(t.timeTag,e)}}}),c.Inlet.extend({message:function(t){var e=t[0];return"bang"!==e?console.error("invalid command for [until] "+e):void this.obj._stopLoop()}})],outletDefs:[c.Outlet],init:function(){this._looping=!1},_startLoop:function(t,e){this._looping=!0;var n=this,o=0,s=function(){n.o(0).message(i.timeTag(["bang"],t))};if(r.isNumber(e))for(;this._looping&&e>o;)s(),o++;else for(;this._looping;)s();this._looping=!1},_stopLoop:function(){this._looping=!1}}),t.random=s.extend({type:"random",inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];"bang"===e&&this.obj.o(0).message(i.timeTag([Math.floor(Math.random()*this.obj.max)],t))}}),c.Inlet.extend({message:function(t){var e=t[0];this.obj.setMax(e)}})],outletDefs:[c.Outlet],init:function(t){var e=t[0];this.setMax(e||1)},setMax:function(t){return r.isNumber(t)?void(this.max=t):console.error("invalid [random] value "+t)}}),t.metro=s.extend({type:"metro",inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];if("bang"===e)this.obj._restartMetroTick(i.getTimeTag(t));else if("stop"===e)this.obj._stopMetroTick();else{if(!r.isNumber(e))return console.error("invalid [metro] value "+e);0===e?this.obj._stopMetroTick():this.obj._restartMetroTick(i.getTimeTag(t))}}}),c.Inlet.extend({message:function(t){var e=t[0];this.obj.setRate(e),this.obj._metroTick=this.obj._metroTickRateChange}})],outletDefs:[c.Outlet],init:function(t){var e=t[0];this.setRate(e||0),this._metroHandle=null,this._metroTick=this._metroTickNormal},setRate:function(t){return r.isNumber(t)?void(this.rate=Math.max(t,1)):console.error("invalid [metro] rate "+t)},destroy:function(){this._stopMetroTick()},_startMetroTick:function(t){var e=this;null===this._metroHandle&&(this._metroHandle=u.clock.schedule(function(t){e._metroTick(t.timeTag)},t,this.rate))},_stopMetroTick:function(){null!==this._metroHandle&&(u.clock.unschedule(this._metroHandle),this._metroHandle=null)},_restartMetroTick:function(t){this._metroTick===this._metroTickRateChange&&(this._metroTick=this._metroTickNormal),this._stopMetroTick(),this._startMetroTick(t)},_metroTickNormal:function(t){this.outlets[0].message(i.timeTag(["bang"],t))},_metroTickRateChange:function(t){this._metroTick=this._metroTickNormal,this._restartMetroTick(t)}}),t.delay=t.del=s.extend({type:"delay",inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];"bang"===e?(this.obj._stopDelay(),this.obj._startDelay(i.getTimeTag(t))):"stop"===e?this.obj._stopDelay():(this.obj.setDelay(e),this.obj._stopDelay(),this.obj._startDelay(i.getTimeTag(t)))}}),c.Inlet.extend({message:function(t){var e=t[0];this.obj.setDelay(e)}})],outletDefs:[c.Outlet],init:function(t){var e=t[0];this.setDelay(e||0),this._delayHandle=null},setDelay:function(t){return r.isNumber(t)?void(this.delay=t):console.error("invalid [delay] length "+t)},destroy:function(){this._stopDelay()},_startDelay:function(t){var e=this;null===this._delayHandle&&(this._delayHandle=u.clock.schedule(function(){e.outlets[0].message(["bang"])},t+this.delay))},_stopDelay:function(){null!==this._delayHandle&&(u.clock.unschedule(this._delayHandle),this._delayHandle=null)}}),t.timer=s.extend({type:"timer",inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];return"bang"!==e?console.error("invalid command for [timer] "+e):void(this.obj.refTime=i.getTimeTag(t))}}),c.Inlet.extend({message:function(t){var e=t[0];return"bang"!==e?console.error("invalid command for [timer] "+e):void this.obj.outlets[0].message(i.timeTag([i.getTimeTag(t)-this.obj.refTime],t));
}})],outletDefs:[c.Outlet],init:function(){this.refTime=0}}),t.change=s.extend({type:"change",inletDefs:[c.Inlet.extend({message:function(t){var e=t[0];e!==this.obj.last&&(this.obj.last=e,this.obj.o(0).message(i.timeTag([e],t)))}})],outletDefs:[c.Outlet],init:function(){this.last=null}}),t.array=t.table=s.extend(o.NamedMixin,o.EventEmitterMixin,{type:"array",nameIsUnique:!0,init:function(t){var e=t[0],n=t[1]||100;e&&this.setName(e),this.size=n,this.data=new Float32Array(n)},destroy:function(){o.NamedMixin.destroy.apply(this,arguments),o.EventEmitterMixin.destroy.apply(this,arguments)},setData:function(t,e){e&&(this.data=new Float32Array(t.length)),this.data.set(t.subarray(0,Math.min(this.data.length,t.length))),this.size=this.data.length,this.emit("changed:data")}}),t.soundfiler=s.extend({type:"soundfiler",inletDefs:[c.Inlet.extend({message:function(t){var e,n,i,o=this,s=t[0],a=!1;if(t=t.slice(1),"read"===s){for(;t.length&&"-"===t[0][0];){if(e=t.shift(),"-resize"!==e)return"-wave"===e&&"-aiff"===e&&"-nextstep"===e&&"-raw"===e&&"-bytes"===e&&"-nframes"===e?console.error(e+" not supported"):console.error(e+" not understood");a=!0}n=t.shift(),i=t,u.storage.get(n,function(t,e){return t?console.error("could not load file : "+t):void u.audio.decode(e,function(t,e){if(t)return console.error("Could not decode file : "+t);var n,s,c;s=i.map(function(t){return n=u.namedObjects.get("array",t)[0],n?n:(console.error('array "'+t+'" not found'),null)}),r.contains(s,null)||(1!==r.uniq(r.pluck(s,"size")).length&&(a=!0),s.forEach(function(t,n){c=e[n],c&&t.setData(c,a)}),o.obj.o(0).message([Math.min(s[0].size,e[0].length)]))})})}else console.error('command "'+s+'" is not supported')}})],outletDefs:[c.Outlet]}),t.pd=a}},{"./core/Patch":4,"./core/PdObject":5,"./core/mixins":7,"./core/utils":9,"./global":10,"./waa/portlets":15,underscore:22}],12:[function(t,e,n){t("underscore");n.declareObjects=function(e){t("./glue").declareObjects(e),t("./controls").declareObjects(e),t("./waa/dsp").declareObjects(e),t("./waa/portlets").declareObjects(e)}},{"./controls":2,"./glue":11,"./waa/dsp":13,"./waa/portlets":15,underscore:22}],13:[function(t,e,n){var r=t("underscore"),i=t("waaoffsetnode"),o=t("waawhitenoisenode"),s=t("waatablenode"),a=t("../core/utils"),u=t("../core/mixins"),c=t("../core/PdObject"),l=t("./portlets"),f=t("../global");n.declareObjects=function(t){var e=c.extend({inletDefs:[l.DspInlet.extend({message:function(t){var e=t[0];if(!this.hasDspSource()){if(!r.isNumber(e))return console.error("invalid ["+this.obj.type+"] frequency "+e);e===1/0&&(e=0),this.obj.frequency=e,this.obj._updateFrequency(a.getTimeTag(t))}}}),l.Inlet.extend({message:function(t){var e=t[0];return r.isNumber(e)?void this.obj._updatePhase(e,a.getTimeTag(t)):console.error("invalid ["+this.obj.type+"] phase "+e)}})],outletDefs:[l.DspOutlet],init:function(t){this.frequency=t[0]||0},start:function(){this._createOscillator(0,0)},stop:function(){this._destroyOscillator()},_updateFrequency:function(t){this._oscNode&&this._oscNode.frequency.setValueAtTime(this.frequency,t/1e3)},_updatePhase:function(t,e){f.isStarted&&this._createOscillator(t,e)}});t["osc~"]=e.extend({type:"osc~",_createOscillator:function(t,e){t=2*t*Math.PI,this._oscNode=f.audio.context.createOscillator(),this._oscNode.setPeriodicWave(f.audio.context.createPeriodicWave(new Float32Array([0,Math.cos(t)]),new Float32Array([0,Math.sin(-t)]))),this._oscNode.start(e/1e3),this.o(0).setWaa(this._oscNode,0),this.i(0).setWaa(this._oscNode.frequency,0),this.i(0).message([this.frequency])},_destroyOscillator:function(){this._oscNode.stop(0),this._oscNode=null}}),t["phasor~"]=e.extend({type:"phasor~",_createOscillator:function(t,e){this._gainNode=f.audio.context.createGain(),this._gainNode.gain.value=.5,this._oscNode=f.audio.context.createOscillator(),this._oscNode.type="sawtooth",this._oscNode.start(e/1e3),this._oscNode.connect(this._gainNode),this._offsetNode=new i(f.audio.context),this._offsetNode.offset.value=1,this._offsetNode.connect(this._gainNode),this.o(0).setWaa(this._gainNode,0),this.i(0).setWaa(this._oscNode.frequency,0),this.i(0).message([this.frequency])},_destroyOscillator:function(){this._oscNode.stop(0),this._oscNode=null,this._gainNode=null,this._offsetNode=null}}),t["triangle~"]=e.extend({type:"triangle~",_createOscillator:function(t,e){this._oscNode=f.audio.context.createOscillator(),this._oscNode.type="triangle",this._oscNode.start(e/1e3),this.o(0).setWaa(this._oscNode,0),this.i(0).setWaa(this._oscNode.frequency,0),this.i(0).message([this.frequency])},_destroyOscillator:function(){this._oscNode.stop(0),this._oscNode=null}}),t["square~"]=e.extend({type:"square~",_createOscillator:function(t,e){this._oscNode=f.audio.context.createOscillator(),this._oscNode.type="square",this._oscNode.start(e/1e3),this.o(0).setWaa(this._oscNode,0),this.i(0).setWaa(this._oscNode.frequency,0),this.i(0).message([this.frequency])},_destroyOscillator:function(){this._oscNode.stop(0),this._oscNode=null}}),t["noise~"]=c.extend({type:"noise~",outletDefs:[l.DspOutlet],start:function(){this._noiseNode=new o(f.audio.context),this._noiseNode.start(0),this.o(0).setWaa(this._noiseNode,0)},stop:function(){this._noiseNode.stop(0),this._noiseNode.disconnect(),this._noiseNode=null}}),t["line~"]=c.extend({type:"line~",inletDefs:[l.Inlet.extend({init:function(){this._queue=[],this._lastValue=0},message:function(t){var e=this;if(this.obj._offsetNode){var n=t[0],i=a.getTimeTag(t),o=t[1]||0;if(!r.isNumber(n))return console.error("invalid [line~] value "+n);if(o&&!r.isNumber(o))return console.error("invalid [line~] duration "+o);this._refreshQueue(f.audio.time);var s=this._pushToQueue(i,n,o);this.obj._offsetNode.offset.cancelScheduledValues(s[0].t1/1e3+1e-6),s.forEach(function(t){t.t1!==t.t2?e.obj._offsetNode.offset.linearRampToValueAtTime(t.v2,t.t2/1e3):e.obj._offsetNode.offset.setValueAtTime(t.v2,t.t2/1e3)})}},_interpolate:function(t,e){return(e-t.t1)*(t.v2-t.v1)/(t.t2-t.t1)+t.v1},_refreshQueue:function(t){if(0!==this._queue.length){for(var e,n,r=0;(e=this._queue[r++])&&t>=e.t2;);n=this._queue.slice(0,r-1),this._queue=this._queue.slice(r-1),0===this._queue.length&&(this._lastValue=n[n.length-1].v2)}},_pushToQueue:function(t,e,n){for(var r,i=0,o=[];(r=this._queue[i++])&&t>=r.t2;);if(this._queue=this._queue.slice(0),this._queue.length){var s=this._queue[this._queue.length-1];t<s.t2?(this._queue=this._queue.slice(0,-1),r={t1:s.t1,v1:s.v1,t2:t,v2:this._interpolate(s,t)},o.push(r),this._queue.push(r)):t>s.t2&&(r={t1:s.t2,v1:s.v2,t2:t,v2:s.v2},o.push(r),this._queue.push(r))}else r={t1:0,v1:this._lastValue,t2:t,v2:this._lastValue},o.push(r),this._queue.push(r);return r={t1:t,v1:this._queue[this._queue.length-1].v2,t2:t+n,v2:e},o.push(r),this._queue.push(r),o}})],outletDefs:[l.DspOutlet],start:function(){this._offsetNode=new i(f.audio.context),this._offsetNode.offset.setValueAtTime(0,0),this.o(0).setWaa(this._offsetNode,0)},stop:function(){this._offsetNode=null}}),t["sig~"]=c.extend({type:"sig~",inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];return r.isNumber(e)?(this.obj.value=e,void(this.obj._offsetNode&&this.obj._offsetNode.offset.setValueAtTime(e,a.getTimeTag(t)/1e3))):console.error("invalid [sig~] value "+e)}})],outletDefs:[l.DspOutlet],init:function(t){this.value=t[0]||0},start:function(){this._offsetNode=new i(f.audio.context),this._offsetNode.offset.setValueAtTime(0,0),this.o(0).setWaa(this._offsetNode,0),this.i(0).message([this.value])},stop:function(){this._offsetNode=null}});var n={message:function(t){var e=t[0];return r.isNumber(e)?(this.obj.frequency=e,void(this.obj._filterNode&&this.obj._filterNode.frequency.setValueAtTime(e,a.getTimeTag(t)/1e3))):console.error("invalid ["+this.obj.type+"] frequency "+e)}},h={message:function(t){var e=t[0];return r.isNumber(e)?(this.obj.Q=e,void(this.obj._filterNode&&this.obj._filterNode.Q.setValueAtTime(e,a.getTimeTag(t)/1e3))):console.error("invalid ["+this.obj.type+"] Q "+e)}},p=c.extend({inletDefs:[l.DspInlet,l.Inlet.extend(n)],outletDefs:[l.DspOutlet],init:function(t){this.frequency=t[0]||0},start:function(){this._filterNode=f.audio.context.createBiquadFilter(),this._filterNode.frequency.setValueAtTime(this.frequency,0),this._filterNode.type=this.waaFilterType,this.i(0).setWaa(this._filterNode,0),this.o(0).setWaa(this._filterNode,0),this.i(1).message([this.frequency])},stop:function(){this._filterNode=null}}),d=p.extend({waaFilterType:"bandpass",init:function(t){p.prototype.init.call(this,t),this.Q=t[1]||1},start:function(t){p.prototype.start.call(this,t),this._filterNode.Q.setValueAtTime(this.Q,0),this.i(2).message([this.Q])}});t["lop~"]=p.extend({type:"lop~",waaFilterType:"lowpass"}),t["hip~"]=p.extend({type:"hip~",waaFilterType:"highpass"}),t["bp~"]=d.extend({type:"bp~",inletDefs:[l.DspInlet,l.Inlet.extend(n),l.Inlet.extend(h)]}),t["vcf~"]=d.extend({type:"vcf~",inletDefs:[l.DspInlet,l.DspInlet.extend(n),l.Inlet.extend(h)],start:function(t){d.prototype.start.call(this,t),this.i(1).setWaa(this._filterNode.frequency,0)}});var g=c.extend({outletDefs:[l.DspOutlet],init:function(t){var e=t[0];this.setVal(e||0)},setVal:function(t){return r.isNumber(t)?void(this.val=t):console.error("invalid ["+this.obj.type+"] value "+t)}}),v={message:function(t){var e=t[0];this.obj.setVal(e),this.hasDspSource()||this._setValNoDsp(e,a.getTimeTag(t))},disconnection:function(t){l.DspInlet.prototype.disconnection.apply(this,arguments),t instanceof l.DspOutlet&&!this.hasDspSource()&&this._setValNoDsp(this.obj.val,0)}};t["*~"]=g.extend({type:"*~",inletDefs:[l.DspInlet,l.DspInlet.extend(v,{_setValNoDsp:function(t,e){this.obj._gainNode&&this.obj._gainNode.gain.setValueAtTime(t,e/1e3)}})],start:function(){this._gainNode=f.audio.context.createGain(),this.i(0).setWaa(this._gainNode,0),this.i(1).setWaa(this._gainNode.gain,0),this.o(0).setWaa(this._gainNode,0),this.i(1).hasDspSource()||this.i(1)._setValNoDsp(this.val,0)},stop:function(){this._gainNode=null}}),t["+~"]=g.extend({type:"+~",inletDefs:[l.DspInlet,l.DspInlet.extend(v,{_setValNoDsp:function(t,e){this.obj._offsetNode&&this.obj._offsetNode.offset.setValueAtTime(t,e/1e3)}})],start:function(){this._offsetNode=new i(f.audio.context),this._gainNode=f.audio.context.createGain(),this._gainNode.gain.value=1,this._offsetNode.offset.value=0,this._offsetNode.connect(this._gainNode,0,0),this.i(0).setWaa(this._gainNode,0),this.i(1).setWaa(this._offsetNode.offset,0),this.o(0).setWaa(this._gainNode,0),this.i(1).hasDspSource()||this.i(1)._setValNoDsp(this.val,0)},stop:function(){this._offsetNode.disconnect(),this._gainNode=null,this._offsetNode=null}}),t["-~"]=g.extend({type:"-~",inletDefs:[l.DspInlet,l.DspInlet.extend(v,{_setValNoDsp:function(t,e){this.obj._offsetNode&&this.obj._offsetNode.offset.setValueAtTime(t,e/1e3)}})],start:function(){this._offsetNode=new i(f.audio.context),this._gainNode=f.audio.context.createGain(),this._negateGainNode=f.audio.context.createGain(),this._gainNode.gain.value=1,this._negateGainNode.gain.value=-1,this._offsetNode.offset.value=0,this._offsetNode.connect(this._negateGainNode,0,0),this._negateGainNode.connect(this._gainNode,0,0),this.i(0).setWaa(this._gainNode,0),this.i(1).setWaa(this._offsetNode.offset,0),this.o(0).setWaa(this._gainNode,0),this.i(1).hasDspSource()||this.i(1)._setValNoDsp(this.val,0)},stop:function(){this._negateGainNode.disconnect(),this._offsetNode.disconnect(),this._gainNode=null,this._negateGainNode=null,this._offsetNode=null}});var m=c.extend({init:function(t){var e=this;this.array=new u.Reference("array"),this._onDataChangedHandler=null,this._eventReceiver=new u.EventReceiver,this._eventReceiver.on(this.array,"changed",function(t,n){n&&n.removeListener("changed:data",e._onDataChangedHandler),t&&(e._onDataChangedHandler=function(){e.dataChanged()},e._eventReceiver.on(t,"changed:data",e._onDataChangedHandler))})},dataChanged:function(){},destroy:function(){this._eventReceiver.destroy(),this.array.destroy()}});t["tabread~"]=t["tabread4~"]=m.extend({type:"tabread~",inletDefs:[l.DspInlet.extend({message:function(t){var e=t[0];"set"===e?this.obj.array.set(t[1]):console.error("unknown method "+e)},connection:function(){l.DspInlet.prototype.connection.apply(this,arguments),this.obj._updateDsp()},disconnection:function(){l.DspInlet.prototype.disconnection.apply(this,arguments),this.obj._updateDsp()}})],outletDefs:[l.DspOutlet],init:function(t){var e=this,n=t[0];m.prototype.init.apply(this,arguments),this._eventReceiver.on(this.array,"changed",function(){e._updateDsp()}),n&&this.array.set(n)},start:function(){this._tableNode=new s(f.audio.context),this._gainNode=f.audio.context.createGain(),this.i(0).setWaa(this._tableNode.position,0),this.o(0).setWaa(this._gainNode,0),this._updateDsp()},stop:function(){this._tableNode=null,this._gainNode=null},dataChanged:function(){this._tableNode&&(this._tableNode.table=this.array.resolved.data)},_updateDsp:function(){this._tableNode&&this.array.resolved&&this.i(0).hasDspSource()?(this._tableNode.table=this.array.resolved.data,this._tableNode.connect(this._gainNode)):this._tableNode&&this._tableNode.disconnect()}}),t["delwrite~"]=c.extend(u.NamedMixin,u.EventEmitterMixin,{type:"delwrite~",inletDefs:[l.DspInlet],init:function(t){var e=t[0],n=t[1];this.maxDelayTime=n||1e3,e&&this.setName(e)},start:function(){this._pipeNode=f.audio.context.createGain(),this.i(0).setWaa(this._pipeNode,0),this.emit("started")},stop:function(){this._pipeNode.disconnect(),this._pipeNode=null},destroy:function(){u.NamedMixin.destroy.apply(this,arguments),u.EventEmitterMixin.destroy.apply(this,arguments)}}),t["delread~"]=t["vd~"]=c.extend({type:"delread~",inletDefs:[l.DspInlet.extend({message:function(t){var e=t[0];this.obj.setDelayTime(e,a.getTimeTag(t))}})],outletDefs:[l.DspOutlet],init:function(t){var e=t[0],n=t[1];this._eventReceiver=new u.EventReceiver,this._delayTime=n||0,this._delWrite=new u.Reference("delwrite~"),this._onDelWriteStarted=null,e&&this._delWrite.set(e)},start:function(){this._createDelay(),this._onDelWriteChanged=function(t,e){f.isStarted&&t&&self._createDelay()},this._eventReceiver.on(this._delWrite,"changed",this._onDelWriteChanged)},stop:function(){this._toSecondsGain=null,this._delayNode.disconnect(),this._delayNode=null,this._delWrite.removeListener("changed",this._onDelWriteChanged),this._onDelWriteChanged=null},destroy:function(){this._delWrite.destroy(),this._eventReceiver.destroy()},setDelayTime:function(t,e){return r.isNumber(t)?(this._delayTime=t,void(this._delayNode&&!this.i(0).hasDspSource()&&this._delayNode.delayTime.setValueAtTime(this._delayTime/1e3,e/1e3||0))):console.error("invalid [delread~] length "+t)},_createDelay:function(){this._delayNode&&this._delayNode.disconnect();var t=this._delWrite.resolved?this._delWrite.resolved.maxDelayTime/1e3:1,e=this;if(this._delayNode=f.audio.context.createDelay(t),this._toSecondsGain||(this._toSecondsGain=f.audio.context.createGain(),this._toSecondsGain.gain.value=.001,this.i(0).setWaa(this._toSecondsGain,0)),this._toSecondsGain.connect(this._delayNode.delayTime),this.o(0).setWaa(this._delayNode,0),this.setDelayTime(this._delayTime),this._delWrite.resolved){var n=function(){e._delWrite.resolved._pipeNode.connect(e._delayNode)};this._delWrite.resolved._pipeNode?n():(this._onDelWriteStarted=n,this._eventReceiver.once(this._delWrite.resolved,"started",this._onDelWriteStarted))}}}),t["clip~"]=c.extend({type:"clip~",inletDefs:[l.DspInlet,l.Inlet.extend({message:function(t){var e=t[0];return r.isNumber(e)?(this.obj.minValue=e,void this.obj._updateGains()):console.error("invalid [clip~] min "+e)}}),l.Inlet.extend({message:function(t){var e=t[0];return r.isNumber(e)?(this.obj.maxValue=e,void this.obj._updateGains()):console.error("invalid [clip~] max "+e)}})],outletDefs:[l.DspOutlet],init:function(t){this.minValue=t[0]||0,this.maxValue=t[1]||0},start:function(){this._gainInNode=f.audio.context.createGain(),this._gainOutNode=f.audio.context.createGain(),this._waveShaperNode=f.audio.context.createWaveShaper(),this._gainInNode.connect(this._waveShaperNode),this.i(0).setWaa(this._gainInNode,0),this.o(0).setWaa(this._waveShaperNode,0),this._updateGains()},stop:function(){this._gainInNode=null,this._waveShaperNode=null,this._gainOutNode.disconnect(),this._gainOutNode=null},_updateGains:function(){if(this._waveShaperNode){var t,e=Math.max(Math.abs(this.minValue),Math.abs(this.maxValue)),n=Pd.getSampleRate(),r=new Float32Array(n),i=-e,o=2*e/n;for(t=0;n>t;t++)i>=this.minValue&&i<=this.maxValue?r[t]=i:i>this.maxValue?r[t]=this.maxValue:r[t]=this.minValue,i+=o;this._waveShaperNode.curve=r,this._gainInNode.gain.setValueAtTime(0!==e?1/e:0,0)}}}),t["dac~"]=c.extend({type:"dac~",endPoint:!0,inletDefs:[l.DspInlet,l.DspInlet],start:function(){this.i(0).setWaa(f.audio.channels[0],0),this.i(1).setWaa(f.audio.channels[1],0)}})}},{"../core/PdObject":5,"../core/mixins":7,"../core/utils":9,"../global":10,"./portlets":15,underscore:22,waaoffsetnode:25,waatablenode:27,waawhitenoisenode:31}],14:[function(t,e,n){var r=t("underscore"),i=t("waaclock"),o=t("../global"),s=n.Audio=function(t){return"undefined"==typeof AudioContext?console.error("this environment doesn't support Web Audio API"):(this.channelCount=t.channelCount,this.setContext(t.audioContext||new AudioContext),o.settings.sampleRate=this.context.sampleRate,void Object.defineProperty(this,"time",{get:function(){return 1e3*this.context.currentTime}}))};s.prototype.start=function(){},s.prototype.stop=function(){},s.prototype.decode=function(t,e){this.context.decodeAudioData(t,function(t){var n,r=[];for(n=0;n<t.numberOfChannels;n++)r.push(t.getChannelData(n));e(null,r)},function(t){e(new Error("error decoding "+t))})},s.prototype.setContext=function(t){var e;for(this.context=t,this._channelMerger=this.context.createChannelMerger(this.channelCount),this._channelMerger.connect(this.context.destination),this.channels=[],e=0;e<this.channelCount;e++)this.channels.push(this.context.createGain()),this.channels[e].connect(this._channelMerger,0,e)};var a=n.Clock=function(t){var e=this;this._audioContext=t.audioContext,this._waaClock=t.waaClock||new i(t.audioContext),this._waaClock.start(),Object.defineProperty(this,"time",{get:function(){return 1e3*e._audioContext.currentTime}})};a.prototype.schedule=function(t,e,n){var i=function(e){void 0==e.timeTag&&(e.timeTag=1e3*e.deadline),t(e)},o=this._waaClock.callbackAtTime(i,e/1e3);return Object.defineProperty(o,"timeTag",{get:function(){return 1e3*this.deadline}}),r.isNumber(n)&&o.repeat(n/1e3),o},a.prototype.unschedule=function(t){t.clear()};var u=n.Storage=function(){};u.prototype.get=function(t,e){var n=new XMLHttpRequest;n.onload=function(t){200===this.status?e(null,this.response):e(new Error("HTTP "+this.status+": "+this.statusText))},n.onerror=function(t){e(t)},n.open("GET",t,!0),n.responseType="arraybuffer",n.send()}},{"../global":10,underscore:22,waaclock:23}],15:[function(t,e,n){var r=t("underscore"),i=t("waawire"),o=t("../core/utils"),s=t("../core/PdObject"),a=t("../core/portlets").Inlet,u=t("../core/portlets").Outlet,c=t("../global"),l="undefined"!=typeof window?window.AudioParam:function(){},f={future:function(t,e){this.message(o.timeTag(e,t))}},h=n.Inlet=a.extend(f),p=n.Outlet=u.extend({message:function(t){this.connections.forEach(function(e){e.message(t)})}}),d=n.DspInlet=a.extend(f,{hasDspSource:function(){return r.filter(this.connections,function(t){return t instanceof g}).length>0},init:function(){this._started=!1},start:function(){this._started=!0},stop:function(){this._waa=null,this._started=!1},setWaa:function(t,e){var n=this;this._waa={node:t,input:e},t instanceof l&&t.setValueAtTime(0,0),this._started&&r.chain(this.connections).filter(function(t){return t instanceof g}).forEach(function(t){t._waaUpdate(n)}).value()}}),g=n.DspOutlet=u.extend({init:function(){this._waaConnections={},this._started=!1},start:function(){this._started=!0,this.connections.forEach(this._waaConnect.bind(this))},stop:function(){this._started=!1,this.connections.forEach(this._waaDisconnect.bind(this)),this._waaConnections={}},connection:function(t){if(!(t instanceof d))throw new Error("can only connect to DSP inlet");this._started&&this._waaConnect(t)},disconnection:function(t){this._started&&this._waaDisconnect(t)},message:function(){throw new Error("dsp outlet received a message")},setWaa:function(t,e){this._waa={node:t,output:e},t instanceof l&&t.setValueAtTime(0,0),this._started&&r.values(this._waaConnections).forEach(function(n){n.swapSource(t,e)})},_waaConnect:function(t){var e=new i(c.audio.context);this._waaConnections[this._getConnectionId(t)]=e,e.connect(this._waa.node,t._waa.node,this._waa.output,t._waa.input)},_waaDisconnect:function(t){var e=this._waaConnections[this._getConnectionId(t)];delete this._waaConnections[this._getConnectionId(t)],e.close()},_waaUpdate:function(t){this._waaConnections[this._getConnectionId(t)].swapDestination(t._waa.node,t._waa.input)},_getConnectionId:function(t){return t.obj.id+":"+t.id}});n.declareObjects=function(t){var e=h.extend({message:function(t){this.obj.outlets[0].message(t)}}),n=d.extend({message:function(t){this.obj.outlets[0].message(t)}}),r=g.extend({message:function(t){this.sinks.forEach(function(e){e.message(t)})}}),i={start:function(){this._gainNode=c.audio.context.createGain(),this._gainNode.gain.value=1,this.i(0).setWaa(this._gainNode,0),this.o(0).setWaa(this._gainNode,0)},stop:function(){this._gainNode=null}};t.outlet=s.extend({type:"outlet",inletDefs:[e],outletDefs:[p.extend({crossPatch:!0})]}),t.inlet=s.extend({type:"inlet",inletDefs:[e.extend({crossPatch:!0})],outletDefs:[p]}),t["outlet~"]=s.extend(i,{type:"outlet~",inletDefs:[n],outletDefs:[r.extend({crossPatch:!0})]}),t["inlet~"]=s.extend(i,{type:"inlet~",inletDefs:[n.extend({crossPatch:!0})],outletDefs:[r]})}},{"../core/PdObject":5,"../core/portlets":8,"../core/utils":9,"../global":10,underscore:22,waawire:33}],16:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],17:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],18:[function(t,e,n){function r(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var r=[];if(e){var i=document.createElement("div"),o=new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})});return o.observe(i,{attributes:!0}),function(t){r.length||i.setAttribute("yes","no"),r.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],19:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],20:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&A(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=c(t,e);if(o)return o;var s=Object.keys(e),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),N(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(e);if(0===s.length){if(A(e)){var v=e.name?": "+e.name:"";return t.stylize("[Function"+v+"]","special")}if(_(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(T(e))return t.stylize(Date.prototype.toString.call(e),"date");if(N(e))return l(e)}var m="",y=!1,x=["{","}"];if(d(e)&&(y=!0,x=["[","]"]),A(e)){var w=e.name?": "+e.name:"";m=" [Function"+w+"]"}if(_(e)&&(m=" "+RegExp.prototype.toString.call(e)),T(e)&&(m=" "+Date.prototype.toUTCString.call(e)),N(e)&&(m=" "+l(e)),0===s.length&&(!y||0==e.length))return x[0]+m+x[1];if(0>r)return _(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return E=y?f(t,e,r,g,s):s.map(function(n){return h(t,e,r,g,n,y)}),t.seen.pop(),p(E,m,x)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],s=0,a=e.length;a>s;++s)S(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),S(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=v(n)?u(t,c.value,null):u(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function x(t){return"symbol"==typeof t}function w(t){return void 0===t}function _(t){return E(t)&&"[object RegExp]"===k(t)}function E(t){return"object"==typeof t&&null!==t}function T(t){return E(t)&&"[object Date]"===k(t)}function N(t){return E(t)&&("[object Error]"===k(t)||t instanceof Error)}function A(t){return"function"==typeof t}function j(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function k(t){return Object.prototype.toString.call(t)}function O(t){return 10>t?"0"+t.toString(10):t.toString(10)}function C(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],e].join(" ")}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(D,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),a=r[n];o>n;a=r[++n])s+=v(a)||!E(a)?" "+a:" "+i(a);return s},n.deprecate=function(t,i){function o(){if(!s){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;
var s=!1;return o};var M,P={};n.debuglog=function(t){if(w(M)&&(M=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var r=e.pid;P[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else P[t]=function(){};return P[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=g,n.isNull=v,n.isNullOrUndefined=m,n.isNumber=y,n.isString=b,n.isSymbol=x,n.isUndefined=w,n.isRegExp=_,n.isObject=E,n.isDate=T,n.isError=N,n.isFunction=A,n.isPrimitive=j,n.isBuffer=t("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",C(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":19,_process:18,inherits:17}],21:[function(t,e,n){var r=t("underscore"),i=["obj","floatatom","symbolatom","msg","text"],o=/ |\r\n?|\n/,s=/,(?!\\)/,a=/\\(\$\d+)/g,u=/\\\,/g,c=/\\\;/g,l=/(#((.|\r|\n)*?)[^\\\\])\r{0,1}\n{0,1};\r{0,1}(\n|$)/i,f=function(t){return t.split("").reverse().join("")},h=n.parseArg=function(t){var e=p(t);if(r.isNumber(e)&&!isNaN(e))return e;if(r.isString(t)){var n,t=t.substr(0);for(t=t.replace(u,","),t=t.replace(c,";");n=a.exec(t);)t=t.replace(n[0],n[1]);return t}throw new Error("couldn't parse arg "+t)},p=n.parseFloat=function(t){return r.isNumber(t)&&!isNaN(t)?t:r.isString(t)?parseFloat(t):NaN},d=n.parseArgs=function(t){if(r.isNumber(t)&&!isNaN(t))return[t];var e,n,i,s=r.isString(t)?t.split(o):t,a=[];for(n=0,i=s.length;i>n;n++)""!==(e=s[n])&&a.push(h(e));return a};n.parse=function(t){return g(t)[0]};var g=function(t){var e,n=null,a=-1,u=function(){return a++,a},c={nodes:[],connections:[],layout:void 0,args:[]},h=!0,p=function(){t=t.slice(e.index+e[0].length)};for(l.lastIndex=0;e=t.match(l);){var m=f(e[1]).split(s).reverse().map(f),y=m[1],b=m[0].split(o),x=b[0];if("#N"===x){var w=b[1];if("canvas"!==w)throw new Error("invalid element type for chunk #N : "+w);if(h)c.layout={x:parseInt(b[2],10),y:parseInt(b[3],10),width:parseInt(b[4],10),height:parseInt(b[5],10),openOnLoad:b[7]},c.args=[b[6]],p();else{var _=g(t),E=_[0],T=_[2];c.nodes.push(r.extend({id:u(),subpatch:E},T)),t=_[1]}}else if("#X"===x){var w=b[1];if("restore"===w){var N={x:parseInt(b[2],10),y:parseInt(b[3],10)},A=b[4],j=[];if("pd"===A&&j.push(b[5]),n){for(var k=n.args[1];n.data.length<k;)n.data.push(0);n=null}return p(),[c,t,{proto:A,args:j,layout:N}]}if(r.contains(i,w)){var O,j,_,N={x:parseInt(b[2],10),y:parseInt(b[3],10)};if("obj"===w?(O=b[4],j=b.slice(5)):(O=w,j=b.slice(4)),"text"===w&&(j=[b.slice(4).join(" ")]),_=v(O,j,N),j=_[0],N=_[1],y)for(var C=y.split(o);C.length;){var S=C.shift();"f"===S&&(N.width=C.shift())}c.nodes.push({id:u(),proto:O,layout:N,args:d(j)})}else if("array"===w){var D=b[2],M=parseFloat(b[3]),P={id:u(),proto:"table",args:[D,M],data:[]};c.nodes.push(P),n=P}else if("connect"===w){var I=parseInt(b[2],10),L=parseInt(b[4],10),R=parseInt(b[3],10),q=parseInt(b[5],10);c.connections.push({source:{id:I,port:R},sink:{id:L,port:q}})}else if("coords"!==w)throw new Error("invalid element type for chunk #X : "+w);p()}else{if("#A"!==x)throw new Error("invalid chunk : "+x);var B,F,W,U=parseFloat(b[1]);if(n)for(B=2,F=b.length;F>B;B++,U++)W=parseFloat(b[B]),r.isNumber(W)&&!isNaN(W)&&(n.data[U]=W);else console.error("got table data outside of a table.");p()}h=!1}return[c,""]},v=function(t,e,n){return"floatatom"===t?(n.width=e[0],n.labelPos=e[3],n.label=e[4],e=[e[1],e[2],e[5],e[6]]):"symbolatom"===t?(n.width=e[0],n.labelPos=e[3],n.label=e[4],e=[e[1],e[2],e[5],e[6]]):"bng"===t?(n.size=e[0],n.hold=e[1],n.interrupt=e[2],n.label=e[6],n.labelX=e[7],n.labelY=e[8],n.labelFont=e[9],n.labelFontSize=e[10],n.bgColor=e[11],n.fgColor=e[12],n.labelColor=e[13],e=[e[3],e[4],e[5]]):"tgl"===t?(n.size=e[0],n.label=e[4],n.labelX=e[5],n.labelY=e[6],n.labelFont=e[7],n.labelFontSize=e[8],n.bgColor=e[9],n.fgColor=e[10],n.labelColor=e[11],e=[e[1],e[2],e[3],e[12],e[13]]):"nbx"===t?(n.size=e[0],n.height=e[1],n.log=e[4],n.label=e[8],n.labelX=e[9],n.labelY=e[10],n.labelFont=e[11],n.labelFontSize=e[12],n.bgColor=e[13],n.fgColor=e[14],n.labelColor=e[15],n.logHeight=e[17],e=[e[2],e[3],e[5],e[6],e[7],e[16]]):"vsl"===t?(n.width=e[0],n.height=e[1],n.log=e[4],n.label=e[8],n.labelX=e[9],n.labelY=e[10],n.labelFont=e[11],n.labelFontSize=e[12],n.bgColor=e[13],n.fgColor=e[14],n.labelColor=e[15],n.steadyOnClick=e[17],e=[e[2],e[3],e[5],e[6],e[7],e[2]+(e[3]-e[2])*e[16]/12700]):"hsl"===t?(n.width=e[0],n.height=e[1],n.log=e[4],n.label=e[8],n.labelX=e[9],n.labelY=e[10],n.labelFont=e[11],n.labelFontSize=e[12],n.bgColor=e[13],n.fgColor=e[14],n.labelColor=e[15],n.steadyOnClick=e[17],e=[e[2],e[3],e[5],e[6],e[7],e[2]+(e[3]-e[2])*e[16]/12700]):"vradio"===t?(n.size=e[0],n.label=e[6],n.labelX=e[7],n.labelY=e[8],n.labelFont=e[9],n.labelFontSize=e[10],n.bgColor=e[11],n.fgColor=e[12],n.labelColor=e[13],e=[e[1],e[2],e[3],e[4],e[5],e[14]]):"hradio"===t?(n.size=e[0],n.label=e[6],n.labelX=e[7],n.labelY=e[8],n.labelFont=e[9],n.labelFontSize=e[10],n.bgColor=e[11],n.fgColor=e[12],n.labelColor=e[13],e=[e[1],e[2],e[3],e[4],e[5],e[14]]):"vu"===t?(n.width=e[0],n.height=e[1],n.label=e[3],n.labelX=e[4],n.labelY=e[5],n.labelFont=e[6],n.labelFontSize=e[7],n.bgColor=e[8],n.labelColor=e[9],n.log=e[10],e=[e[2],e[11]]):"cnv"===t&&(n.size=e[0],n.width=e[1],n.height=e[2],n.label=e[5],n.labelX=e[6],n.labelY=e[7],n.labelFont=e[8],n.labelFontSize=e[9],n.bgColor=e[10],n.labelColor=e[11],e=[e[3],e[4],e[12]]),[e,n]}},{underscore:22}],22:[function(t,e,n){(function(){var t=this,r=t._,i={},o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,l=o.concat,f=s.toString,h=s.hasOwnProperty,p=o.forEach,d=o.map,g=o.reduce,v=o.reduceRight,m=o.filter,y=o.every,b=o.some,x=o.indexOf,w=o.lastIndexOf,_=Array.isArray,E=Object.keys,T=a.bind,N=function(t){return t instanceof N?t:this instanceof N?void(this._wrapped=t):new N(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=N),n._=N):t._=N,N.VERSION="1.4.4";var A=N.each=N.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var s in t)if(N.has(t,s)&&e.call(n,t[s],s,t)===i)return};N.map=N.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(A(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),r)};var j="Reduce of empty array with no initial value";N.reduce=N.foldl=N.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return r&&(e=N.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(A(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError(j);return n},N.reduceRight=N.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return r&&(e=N.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=N.keys(t);o=s.length}if(A(t,function(a,u,c){u=s?s[--o]:--o,i?n=e.call(r,n,t[u],u,c):(n=t[u],i=!0)}),!i)throw new TypeError(j);return n},N.find=N.detect=function(t,e,n){var r;return k(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},N.filter=N.select=function(t,e,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(e,n):(A(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},N.reject=function(t,e,n){return N.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},N.every=N.all=function(t,e,n){e||(e=N.identity);var r=!0;return null==t?r:y&&t.every===y?t.every(e,n):(A(t,function(t,o,s){return(r=r&&e.call(n,t,o,s))?void 0:i}),!!r)};var k=N.some=N.any=function(t,e,n){e||(e=N.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(A(t,function(t,o,s){return r||(r=e.call(n,t,o,s))?i:void 0}),!!r)};N.contains=N.include=function(t,e){return null==t?!1:x&&t.indexOf===x?-1!=t.indexOf(e):k(t,function(t){return t===e})},N.invoke=function(t,e){var n=c.call(arguments,2),r=N.isFunction(e);return N.map(t,function(t){return(r?e:t[e]).apply(t,n)})},N.pluck=function(t,e){return N.map(t,function(t){return t[e]})},N.where=function(t,e,n){return N.isEmpty(e)?n?null:[]:N[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},N.findWhere=function(t,e){return N.where(t,e,!0)},N.max=function(t,e,n){if(!e&&N.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&N.isEmpty(t))return-(1/0);var r={computed:-(1/0),value:-(1/0)};return A(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s>=r.computed&&(r={value:t,computed:s})}),r.value},N.min=function(t,e,n){if(!e&&N.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&N.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return A(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s<r.computed&&(r={value:t,computed:s})}),r.value},N.shuffle=function(t){var e,n=0,r=[];return A(t,function(t){e=N.random(n++),r[n-1]=r[e],r[e]=t}),r};var O=function(t){return N.isFunction(t)?t:function(e){return e[t]}};N.sortBy=function(t,e,n){var r=O(e);return N.pluck(N.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index<e.index?-1:1}),"value")};var C=function(t,e,n,r){var i={},o=O(e||N.identity);return A(t,function(e,s){var a=o.call(n,e,s,t);r(i,a,e)}),i};N.groupBy=function(t,e,n){return C(t,e,n,function(t,e,n){(N.has(t,e)?t[e]:t[e]=[]).push(n)})},N.countBy=function(t,e,n){return C(t,e,n,function(t,e){N.has(t,e)||(t[e]=0),t[e]++})},N.sortedIndex=function(t,e,n,r){n=null==n?N.identity:O(n);for(var i=n.call(r,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(r,t[a])<i?o=a+1:s=a}return o},N.toArray=function(t){return t?N.isArray(t)?c.call(t):t.length===+t.length?N.map(t,N.identity):N.values(t):[]},N.size=function(t){return null==t?0:t.length===+t.length?t.length:N.keys(t).length},N.first=N.head=N.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:c.call(t,0,e)},N.initial=function(t,e,n){return c.call(t,0,t.length-(null==e||n?1:e))},N.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},N.rest=N.tail=N.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},N.compact=function(t){return N.filter(t,N.identity)};var S=function(t,e,n){return A(t,function(t){N.isArray(t)?e?u.apply(n,t):S(t,e,n):n.push(t)}),n};N.flatten=function(t,e){return S(t,e,[])},N.without=function(t){return N.difference(t,c.call(arguments,1))},N.uniq=N.unique=function(t,e,n,r){N.isFunction(e)&&(r=n,n=e,e=!1);var i=n?N.map(t,n,r):t,o=[],s=[];return A(i,function(n,r){(e?r&&s[s.length-1]===n:N.contains(s,n))||(s.push(n),o.push(t[r]))}),o},N.union=function(){return N.uniq(l.apply(o,arguments))},N.intersection=function(t){var e=c.call(arguments,1);return N.filter(N.uniq(t),function(t){return N.every(e,function(e){return N.indexOf(e,t)>=0})})},N.difference=function(t){var e=l.apply(o,c.call(arguments,1));return N.filter(t,function(t){return!N.contains(e,t)})},N.zip=function(){for(var t=c.call(arguments),e=N.max(N.pluck(t,"length")),n=new Array(e),r=0;e>r;r++)n[r]=N.pluck(t,""+r);return n},N.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},N.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=N.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(x&&t.indexOf===x)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},N.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(w&&t.lastIndexOf===w)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},N.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o},N.bind=function(t,e){if(t.bind===T&&T)return T.apply(t,c.call(arguments,1));var n=c.call(arguments,2);return function(){return t.apply(e,n.concat(c.call(arguments)))}},N.partial=function(t){var e=c.call(arguments,1);return function(){return t.apply(this,e.concat(c.call(arguments)))}},N.bindAll=function(t){var e=c.call(arguments,1);return 0===e.length&&(e=N.functions(t)),A(e,function(e){t[e]=N.bind(t[e],t)}),t},N.memoize=function(t,e){var n={};return e||(e=N.identity),function(){var r=e.apply(this,arguments);return N.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},N.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},N.defer=function(t){return N.delay.apply(N,[t,1].concat(c.call(arguments,1)))},N.throttle=function(t,e){var n,r,i,o,s=0,a=function(){s=new Date,i=null,o=t.apply(n,r)};return function(){var u=new Date,c=e-(u-s);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,s=u,o=t.apply(n,r)):i||(i=setTimeout(a,c)),o}},N.debounce=function(t,e,n){var r,i;return function(){var o=this,s=arguments,a=function(){r=null,n||(i=t.apply(o,s))},u=n&&!r;return clearTimeout(r),r=setTimeout(a,e),u&&(i=t.apply(o,s)),i}},N.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},N.wrap=function(t,e){return function(){var n=[t];return u.apply(n,arguments),e.apply(this,n)}},N.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},N.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},N.keys=E||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)N.has(t,n)&&(e[e.length]=n);return e},N.values=function(t){var e=[];for(var n in t)N.has(t,n)&&e.push(t[n]);return e},N.pairs=function(t){var e=[];for(var n in t)N.has(t,n)&&e.push([n,t[n]]);return e},N.invert=function(t){var e={};for(var n in t)N.has(t,n)&&(e[t[n]]=n);return e},N.functions=N.methods=function(t){var e=[];for(var n in t)N.isFunction(t[n])&&e.push(n);return e.sort()},N.extend=function(t){return A(c.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},N.pick=function(t){var e={},n=l.apply(o,c.call(arguments,1));return A(n,function(n){n in t&&(e[n]=t[n])}),e},N.omit=function(t){var e={},n=l.apply(o,c.call(arguments,1));for(var r in t)N.contains(n,r)||(e[r]=t[r]);return e},N.defaults=function(t){return A(c.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},N.clone=function(t){return N.isObject(t)?N.isArray(t)?t.slice():N.extend({},t):t},N.tap=function(t,e){return e(t),t};var D=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof N&&(t=t._wrapped),e instanceof N&&(e=e._wrapped);var i=f.call(t);if(i!=f.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;n.push(t),r.push(e);var s=0,a=!0;if("[object Array]"==i){if(s=t.length,a=s==e.length)for(;s--&&(a=D(t[s],e[s],n,r)););}else{var u=t.constructor,c=e.constructor;if(u!==c&&!(N.isFunction(u)&&u instanceof u&&N.isFunction(c)&&c instanceof c))return!1;for(var l in t)if(N.has(t,l)&&(s++,!(a=N.has(e,l)&&D(t[l],e[l],n,r))))break;if(a){for(l in e)if(N.has(e,l)&&!s--)break;a=!s}}return n.pop(),r.pop(),a};N.isEqual=function(t,e){return D(t,e,[],[])},N.isEmpty=function(t){if(null==t)return!0;if(N.isArray(t)||N.isString(t))return 0===t.length;for(var e in t)if(N.has(t,e))return!1;return!0},N.isElement=function(t){return!(!t||1!==t.nodeType)},N.isArray=_||function(t){return"[object Array]"==f.call(t)},N.isObject=function(t){return t===Object(t)},A(["Arguments","Function","String","Number","Date","RegExp"],function(t){N["is"+t]=function(e){return f.call(e)=="[object "+t+"]"}}),N.isArguments(arguments)||(N.isArguments=function(t){return!(!t||!N.has(t,"callee"))}),"function"!=typeof/./&&(N.isFunction=function(t){return"function"==typeof t}),N.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},N.isNaN=function(t){return N.isNumber(t)&&t!=+t},N.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==f.call(t)},N.isNull=function(t){return null===t},N.isUndefined=function(t){return void 0===t},N.has=function(t,e){return h.call(t,e)},N.noConflict=function(){return t._=r,this},N.identity=function(t){return t},N.times=function(t,e,n){for(var r=Array(t),i=0;t>i;i++)r[i]=e.call(n,i);return r},N.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=N.invert(M.escape);var P={escape:new RegExp("["+N.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+N.keys(M.unescape).join("|")+")","g")};N.each(["escape","unescape"],function(t){N[t]=function(e){return null==e?"":(""+e).replace(P[t],function(e){return M[t][e]})}}),N.result=function(t,e){if(null==t)return null;var n=t[e];return N.isFunction(n)?n.call(t):n},N.mixin=function(t){A(N.functions(t),function(e){var n=N[e]=t[e];N.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),B.call(this,n.apply(N,t))}})};var I=0;N.uniqueId=function(t){var e=++I+"";return t?t+e:e},N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\t|\u2028|\u2029/g;N.template=function(t,e,n){var r;n=N.defaults({},n,N.templateSettings);var i=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,function(e,n,r,i,a){return s+=t.slice(o,a).replace(q,function(t){return"\\"+R[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return r(e,N);var u=function(t){return r.call(this,t,N)};return u.source="function("+(n.variable||"obj")+"){\n"+s+"}",u},N.chain=function(t){return N(t).chain()};var B=function(t){return this._chain?N(t).chain():t};N.mixin(N),A(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];N.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],B.call(this,n)}}),A(["concat","join","slice"],function(t){var e=o[t];N.prototype[t]=function(){return B.call(this,e.apply(this._wrapped,arguments))}}),N.extend(N.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],23:[function(t,e,n){var r=t("./lib/WAAClock");e.exports=r,"undefined"!=typeof window&&(window.WAAClock=r)},{"./lib/WAAClock":24}],24:[function(t,e,n){(function(t){var n=("undefined"!=typeof window,{toleranceLate:.1,toleranceEarly:.001}),r=function(t,e,n){this.clock=t,this.func=n,this._cleared=!1,this.toleranceLate=t.toleranceLate,this.toleranceEarly=t.toleranceEarly,this._latestTime=null,this._earliestTime=null,this.deadline=null,this.repeatTime=null,this.schedule(e)};r.prototype.clear=function(){return this.clock._removeEvent(this),this._cleared=!0,this},r.prototype.repeat=function(t){if(0===t)throw new Error("delay cannot be 0");return this.repeatTime=t,this.clock._hasEvent(this)||this.schedule(this.deadline+this.repeatTime),this},r.prototype.tolerance=function(t){return"number"==typeof t.late&&(this.toleranceLate=t.late),"number"==typeof t.early&&(this.toleranceEarly=t.early),this._refreshEarlyLateDates(),this.clock._hasEvent(this)&&(this.clock._removeEvent(this),this.clock._insertEvent(this)),this},r.prototype.isRepeated=function(){return null!==this.repeatTime},r.prototype.schedule=function(t){this._cleared=!1,this.deadline=t,this._refreshEarlyLateDates(),this.clock.context.currentTime>=this._earliestTime?this._execute():this.clock._hasEvent(this)?(this.clock._removeEvent(this),this.clock._insertEvent(this)):this.clock._insertEvent(this)},r.prototype.timeStretch=function(t,e){this.isRepeated()&&(this.repeatTime=this.repeatTime*e);var n=t+e*(this.deadline-t);if(this.isRepeated())for(;this.clock.context.currentTime>=n-this.toleranceEarly;)n+=this.repeatTime;this.schedule(n)},r.prototype._execute=function(){this.clock._started!==!1&&(this.clock._removeEvent(this),this.clock.context.currentTime<this._latestTime?this.func(this):(this.onexpired&&this.onexpired(this),console.warn("event expired")),this.clock._hasEvent(this)||!this.isRepeated()||this._cleared||this.schedule(this.deadline+this.repeatTime))},r.prototype._refreshEarlyLateDates=function(){this._latestTime=this.deadline+this.toleranceLate,this._earliestTime=this.deadline-this.toleranceEarly};var i=e.exports=function(t,e){e=e||{},this.tickMethod=e.tickMethod||"ScriptProcessorNode",this.toleranceEarly=e.toleranceEarly||n.toleranceEarly,this.toleranceLate=e.toleranceLate||n.toleranceLate,this.context=t,this._events=[],this._started=!1};i.prototype.setTimeout=function(t,e){return this._createEvent(t,this._absTime(e))},i.prototype.callbackAtTime=function(t,e){return this._createEvent(t,e)},i.prototype.timeStretch=function(t,e,n){return e.forEach(function(e){e.timeStretch(t,n)}),e},i.prototype.start=function(){if(this._started===!1){var e=this;if(this._started=!0,this._events=[],"ScriptProcessorNode"===this.tickMethod){var n=256;this._clockNode=this.context.createScriptProcessor(n,1,1),this._clockNode.connect(this.context.destination),this._clockNode.onaudioprocess=function(){t.nextTick(function(){e._tick()})}}else if("manual"!==this.tickMethod)throw new Error("invalid tickMethod "+this.tickMethod)}},i.prototype.stop=function(){this._started===!0&&(this._started=!1,this._clockNode.disconnect())},i.prototype._tick=function(){for(var t=this._events.shift();t&&t._earliestTime<=this.context.currentTime;)t._execute(),t=this._events.shift();t&&this._events.unshift(t)},i.prototype._createEvent=function(t,e){return new r(this,e,t)},i.prototype._insertEvent=function(t){this._events.splice(this._indexByTime(t._earliestTime),0,t)},i.prototype._removeEvent=function(t){var e=this._events.indexOf(t);-1!==e&&this._events.splice(e,1)},i.prototype._hasEvent=function(t){return-1!==this._events.indexOf(t)},i.prototype._indexByTime=function(t){for(var e,n=0,r=this._events.length;r>n;)e=Math.floor((n+r)/2),this._events[e]._earliestTime<t?n=e+1:r=e;return n},i.prototype._absTime=function(t){return t+this.context.currentTime},i.prototype._relTime=function(t){return t-this.context.currentTime}}).call(this,t("_process"))},{_process:18}],25:[function(t,e,n){var r=t("./lib/WAAOffsetNode");e.exports=r,"undefined"!=typeof window&&(window.WAAOffsetNode=r)},{"./lib/WAAOffsetNode":26}],26:[function(t,e,n){var r=e.exports=function(t){this.context=t,this._ones=r._ones.filter(function(e){return e.context===t})[0],this._ones?this._ones=this._ones.ones:(this._ones=t.createOscillator(),this._ones.frequency.value=0,this._ones.setPeriodicWave(t.createPeriodicWave(new Float32Array([0,1]),new Float32Array([0,0]))),this._ones.start(0),r._ones.push({context:t,ones:this._ones})),this._output=t.createGain(),this._ones.connect(this._output),this.offset=this._output.gain,this.offset.value=0};r.prototype.connect=function(){this._output.connect.apply(this._output,arguments)},r.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments)},r._ones=[]},{}],27:[function(t,e,n){var r=t("./lib/WAATableNode");e.exports=r,"undefined"!=typeof window&&(window.WAATableNode=r)},{"./lib/WAATableNode":28}],28:[function(t,e,n){var r=t("waaoffset"),i=e.exports=function(t){this.context=t,this._output=t.createWaveShaper(),this._positionNode=new r(t),this._positionNode.connect(this._output),this._positionNode.offset.value=-1,this.position=t.createGain(),this.position.connect(this._positionNode.offset),this.position.gain.value=0,this._table=null,Object.defineProperty(this,"table",{get:function(){return this._table},set:function(t){this._setTable(t)}})};i.prototype.connect=function(){this._output.connect.apply(this._output,arguments)},i.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments)},i.prototype._setTable=function(t){t instanceof AudioBuffer&&(t=t.getChannelData(0)),this._table=t,null!==t&&(this._output.curve=t,this.position.gain.setValueAtTime(2/(t.length-1),0))}},{waaoffset:29}],29:[function(t,e,n){var r=t("./lib/WAAOffset");e.exports=r,"undefined"!=typeof window&&(window.WAAOffset=r)},{"./lib/WAAOffset":30}],30:[function(t,e,n){var r=e.exports=function(t){this.context=t,this._ones=t.createOscillator(),this._ones.frequency.value=0,this._ones.setPeriodicWave(t.createPeriodicWave(new Float32Array([0,1]),new Float32Array([0,0]))),this._ones.start(0),this._output=t.createGain(),this._ones.connect(this._output),this.offset=this._output.gain,this.offset.value=0};r.prototype.connect=function(){this._output.connect.apply(this._output,arguments)},r.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments)}},{}],31:[function(t,e,n){var r=t("./lib/WAAWhiteNoiseNode");e.exports=r,"undefined"!=typeof window&&(window.WAAWhiteNoiseNode=r)},{"./lib/WAAWhiteNoiseNode":32}],32:[function(t,e,n){var r=e.exports=function(t){this.context=t,this._buffer=t.createBuffer(1,131072,t.sampleRate);var e,n=this._buffer.getChannelData(0);for(e=0;131072>e;e++)n[e]=2*Math.random()-1;this._prepareOutput()};r.prototype.connect=function(){this._output.connect.apply(this._output,arguments)},r.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments)},r.prototype.start=function(){this._output.start.apply(this._output,arguments)},r.prototype.stop=function(){this._output.stop.apply(this._output,arguments),this._prepareOutput()},r.prototype._prepareOutput=function(){this._output=this.context.createBufferSource(),this._output.buffer=this._buffer,this._output.loop=!0}},{}],33:[function(t,e,n){var r=t("./lib/WAAWire");e.exports=r,"undefined"!=typeof window&&(window.WAAWire=r)},{"./lib/WAAWire":34}],34:[function(t,e,n){var r=e.exports=function(t){this.context=t,this._source=null,this._output=null,this._destination=null,this._input=null,this._gainNode=null,this._discardedGainNode=null,this._atTime=0,this._closed=!1},i=function(t){return function(){return this._clean(),this[t].apply(this,[this._atTime].concat([].slice.call(arguments,0))),this._atTime=0,this}};r.prototype.connect=i("_connect"),r.prototype.swapSource=i("_swapSource"),r.prototype.swapDestination=i("_swapDestination"),r.prototype.close=i("_close"),r.prototype.atTime=function(t){return this._atTime=t,this},r.prototype._connect=function(t,e,n,r,i){if(this._gainNode)throw new Error("Wire already connected");this._source=e,this._destination=n,this._output=r||0,this._input=i||0,this._doConnections(t)},r.prototype._swapSource=function(t,e,n){this._discardedGainNode=this._gainNode,this._discardedGainNode.gain.setValueAtTime(0,t),this._source=e,this._output=n||0,this._doConnections(t)},r.prototype._swapDestination=function(t,e,n){this._discardedGainNode=this._gainNode,this._discardedGainNode.gain.setValueAtTime(0,t),this._destination=e,this._input=n||0,this._doConnections(t)},r.prototype._close=function(t){if(this._closed===!0)throw new Error("Wire already closed");this._discardedGainNode=this._gainNode,this._gainNode.gain.setValueAtTime(0,t),this._gainNode=null,this._closed=!0},r.prototype._doConnections=function(t){var e=this.context.createGain();e.gain.setValueAtTime(0,0),e.gain.setValueAtTime(1,t),this._gainNode=e,this._source.connect(e,this._output),this._destination instanceof AudioParam?e.connect(this._destination,0):e.connect(this._destination,0,this._input)},r.prototype._clean=function(){this._discardedGainNode&&0===this._discardedGainNode.gain.value&&(this._discardedGainNode.disconnect(),this._discardedGainNode=null)};var o=function(){if("undefined"!=typeof window&&window.OfflineAudioContext){var t=new OfflineAudioContext(1,1,44100),e=t.createBufferSource(),n=t.createGain(),r=t.createBuffer(1,1,44100);r.getChannelData(0)[0]=1,e.buffer=r,e.connect(n),e.connect(t.destination),e.start(0),n.connect(t.destination),e.disconnect(n),t.oncomplete=function(t){s=!!t.renderedBuffer.getChannelData(0)[0]},t.startRendering()}},s=null;o()},{}]},{},[1]),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=tt.type(t);return"function"===n||tt.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(tt.isFunction(e))return tt.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return tt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(at.test(e))return tt.filter(e,t,n);e=tt.filter(e,t)}return tt.grep(t,function(t){return G.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=dt[t]={};return tt.each(t.match(pt)||[],function(t,n){e[n]=!0}),e}function s(){K.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),tt.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=tt.expando+Math.random()}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(xt,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?tt.parseJSON(n):n}catch(i){}yt.set(t,e,n)}else n=void 0;return n}function c(){return!0}function l(){return!1}function f(){try{return K.activeElement}catch(t){}}function h(t,e){return tt.nodeName(t,"table")&&tt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function d(t){var e=Lt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)mt.set(t[n],"globalEval",!e||mt.get(e[n],"globalEval"))}function v(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(mt.hasData(t)&&(o=mt.access(t),s=mt.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)tt.event.add(e,i,c[i][n])}yt.hasData(t)&&(a=yt.access(t),u=tt.extend({},a),yt.set(e,u))}}function m(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&tt.nodeName(t,e)?tt.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Tt.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var r=tt(n.createElement(e)).appendTo(n.body),i=t.getDefaultComputedStyle?t.getDefaultComputedStyle(r[0]).display:tt.css(r[0],"display");return r.detach(),i}function x(t){var e=K,n=Ft[t];return n||(n=b(t,e),"none"!==n&&n||(Bt=(Bt||tt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Bt[0].contentDocument,
e.write(),e.close(),n=b(t,e),Bt.detach()),Ft[t]=n),n}function w(t,e,n){var r,i,o,s,a=t.style;return n=n||zt(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||tt.contains(t.ownerDocument,t)||(s=tt.style(t,e)),Ut.test(s)&&Wt.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function _(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Xt.length;i--;)if(e=Xt[i]+n,e in t)return e;return r}function T(t,e,n){var r=Vt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function N(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=tt.css(t,n+_t[o],!0,i)),r?("content"===n&&(s-=tt.css(t,"padding"+_t[o],!0,i)),"margin"!==n&&(s-=tt.css(t,"border"+_t[o]+"Width",!0,i))):(s+=tt.css(t,"padding"+_t[o],!0,i),"padding"!==n&&(s+=tt.css(t,"border"+_t[o]+"Width",!0,i)));return s}function A(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=zt(t),s="border-box"===tt.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(t,e,o),(0>i||null==i)&&(i=t.style[e]),Ut.test(i))return i;r=s&&(Q.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+N(t,e,n||(s?"border":"content"),r,o)+"px"}function j(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=mt.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Et(r)&&(o[s]=mt.access(r,"olddisplay",x(r.nodeName)))):o[s]||(i=Et(r),(n&&"none"!==n||!i)&&mt.set(r,"olddisplay",i?n:tt.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function k(t,e,n,r,i){return new k.prototype.init(t,e,n,r,i)}function O(){return setTimeout(function(){Jt=void 0}),Jt=tt.now()}function C(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=_t[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function S(t,e,n){for(var r,i=(ne[e]||[]).concat(ne["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function D(t,e,n){var r,i,o,s,a,u,c,l=this,f={},h=t.style,p=t.nodeType&&Et(t),d=mt.get(t,"fxshow");n.queue||(a=tt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,l.always(function(){l.always(function(){a.unqueued--,tt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=tt.css(t,"display"),"none"===c&&(c=x(t.nodeName)),"inline"===c&&"none"===tt.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Kt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!d||void 0===d[r])continue;p=!0}f[r]=d&&d[r]||tt.style(t,r)}if(!tt.isEmptyObject(f)){d?"hidden"in d&&(p=d.hidden):d=mt.access(t,"fxshow",{}),o&&(d.hidden=!p),p?tt(t).show():l.done(function(){tt(t).hide()}),l.done(function(){var e;mt.remove(t,"fxshow");for(e in f)tt.style(t,e,f[e])});for(r in f)s=S(p?d[r]:0,r,l),r in d||(d[r]=s.start,p&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function M(t,e){var n,r,i,o,s;for(n in t)if(r=tt.camelCase(n),i=e[r],o=t[n],tt.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=tt.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function P(t,e,n){var r,i,o=0,s=ee.length,a=tt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Jt||O(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:tt.extend({},e),opts:tt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Jt||O(),duration:n.duration,tweens:[],createTween:function(e,n){var r=tt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),l=c.props;for(M(l,c.opts.specialEasing);s>o;o++)if(r=ee[o].call(c,t,l,c.opts))return r;return tt.map(l,S,c),tt.isFunction(c.opts.start)&&c.opts.start.call(t,c),tt.fx.timer(tt.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function I(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(pt)||[];if(tt.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function L(t,e,n,r){function i(a){var u;return o[a]=!0,tt.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===we;return i(e.dataTypes[0])||!o["*"]&&i("*")}function R(t,e){var n,r,i=tt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&tt.extend(!0,t,r),t}function q(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function B(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function F(t,e,n,r){var i;if(tt.isArray(e))tt.each(e,function(e,i){n||Ne.test(t)?r(t,i):F(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==tt.type(e))r(t,e);else for(i in e)F(t+"["+i+"]",e[i],n,r)}function W(t){return tt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var U=[],z=U.slice,H=U.concat,V=U.push,G=U.indexOf,$={},Y=$.toString,X=$.hasOwnProperty,J="".trim,Q={},K=t.document,Z="2.1.0",tt=function(t,e){return new tt.fn.init(t,e)},et=/^-ms-/,nt=/-([\da-z])/gi,rt=function(t,e){return e.toUpperCase()};tt.fn=tt.prototype={jquery:Z,constructor:tt,selector:"",length:0,toArray:function(){return z.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:z.call(this)},pushStack:function(t){var e=tt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return tt.each(this,t,e)},map:function(t){return this.pushStack(tt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:U.sort,splice:U.splice},tt.extend=tt.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||tt.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(c&&r&&(tt.isPlainObject(r)||(i=tt.isArray(r)))?(i?(i=!1,o=n&&tt.isArray(n)?n:[]):o=n&&tt.isPlainObject(n)?n:{},s[e]=tt.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},tt.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===tt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return t-parseFloat(t)>=0},isPlainObject:function(t){if("object"!==tt.type(t)||t.nodeType||tt.isWindow(t))return!1;try{if(t.constructor&&!X.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?$[Y.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=tt.trim(t),t&&(1===t.indexOf("use strict")?(e=K.createElement("script"),e.text=t,K.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,rt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,s=t.length,a=n(t);if(r){if(a)for(;s>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(a)for(;s>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":J.call(t)},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?tt.merge(r,"string"==typeof t?[t]:t):V.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:G.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;s>o;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,s=t.length,a=n(t),u=[];if(a)for(;s>o;o++)i=e(t[o],o,r),null!=i&&u.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&u.push(i);return H.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),tt.isFunction(t)?(r=z.call(arguments,2),i=function(){return t.apply(e||this,r.concat(z.call(arguments)))},i.guid=t.guid=t.guid||tt.guid++,i):void 0},now:Date.now,support:Q}),tt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){$["[object "+e+"]"]=e.toLowerCase()});var it=function(t){function e(t,e,n,r){var i,o,s,a,u,c,f,d,g,v;if((e?e.ownerDocument||e:F)!==D&&S(e),e=e||D,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(P&&!r){if(i=yt.exec(t))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&q(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&E.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(s)),n}if(E.qsa&&(!I||!I.test(t))){if(d=f=B,g=e,v=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=h(t),(f=e.getAttribute("id"))?d=f.replace(xt,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+p(c[u]);g=bt.test(t)&&l(e.parentNode)||e,v=c.join(",")}if(v)try{return Z.apply(n,g.querySelectorAll(v)),n}catch(m){}finally{f||e.removeAttribute("id")}}}return w(t.replace(ut,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>T.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[B]=!0,t}function i(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)T.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&typeof t.getElementsByTagName!==$&&t}function f(){}function h(t,n){var r,i,o,s,a,u,c,l=H[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=T.preFilter;a;){(!r||(i=ct.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=lt.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),a=a.slice(r.length));for(s in T.filter)!(i=dt[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):H(t,u).slice(0)}function p(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=U++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,c=[W,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[B]||(e[B]={}),(a=u[r])&&a[0]===W&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=t(e,n,s))return!0}}}function g(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function v(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;u>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),c&&e.push(a));return s}function m(t,e,n,i,o,s){return i&&!i[B]&&(i=m(i)),o&&!o[B]&&(o=m(o,s)),r(function(r,s,a,u){var c,l,f,h=[],p=[],d=s.length,g=r||x(e||"*",a.nodeType?[a]:a,[]),m=!t||!r&&e?g:v(g,h,t,a,u),y=n?o||(r?t:d||i)?[]:s:m;if(n&&n(m,y,a,u),i)for(c=v(y,p),i(c,[],a,u),l=c.length;l--;)(f=c[l])&&(y[p[l]]=!(m[p[l]]=f));if(r){if(o||t){if(o){for(c=[],l=y.length;l--;)(f=y[l])&&c.push(m[l]=f);o(null,y=[],c,u)}for(l=y.length;l--;)(f=y[l])&&(c=o?et.call(r,f):h[l])>-1&&(r[c]=!(s[c]=f))}}else y=v(y===s?y.splice(d,y.length):y),o?o(null,s,y,u):Z.apply(s,y)})}function y(t){for(var e,n,r,i=t.length,o=T.relative[t[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(t){return t===e},s,!0),c=d(function(t){return et.call(e,t)>-1},s,!0),l=[function(t,n,r){return!o&&(r||n!==k)||((e=n).nodeType?u(t,n,r):c(t,n,r))}];i>a;a++)if(n=T.relative[t[a].type])l=[d(g(l),n)];else{if(n=T.filter[t[a].type].apply(null,t[a].matches),n[B]){for(r=++a;i>r&&!T.relative[t[r].type];r++);return m(a>1&&g(l),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ut,"$1"),n,r>a&&y(t.slice(a,r)),i>r&&y(t=t.slice(r)),i>r&&p(t))}l.push(n)}return g(l)}function b(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,c){var l,f,h,p=0,d="0",g=r&&[],m=[],y=k,b=r||o&&T.find.TAG("*",c),x=W+=null==y?1:Math.random()||.1,w=b.length;for(c&&(k=s!==D&&s);d!==w&&null!=(l=b[d]);d++){if(o&&l){for(f=0;h=t[f++];)if(h(l,s,a)){u.push(l);break}c&&(W=x)}i&&((l=!h&&l)&&p--,r&&g.push(l))}if(p+=d,i&&d!==p){for(f=0;h=n[f++];)h(g,m,s,a);if(r){if(p>0)for(;d--;)g[d]||m[d]||(m[d]=Q.call(u));m=v(m)}Z.apply(u,m),c&&!r&&m.length>0&&p+n.length>1&&e.uniqueSort(u)}return c&&(W=x,k=y),g};return i?r(s):s}function x(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function w(t,e,n,r){var i,o,s,a,u,c=h(t);if(!r&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&E.getById&&9===e.nodeType&&P&&T.relative[o[1].type]){if(e=(T.find.ID(s.matches[0].replace(wt,_t),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(i=dt.needsContext.test(t)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(wt,_t),bt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&p(o),!t)return Z.apply(n,r),n;break}}return j(t,c)(r,e,!P,n,bt.test(t)&&l(e.parentNode)||e),n}var _,E,T,N,A,j,k,O,C,S,D,M,P,I,L,R,q,B="sizzle"+-new Date,F=t.document,W=0,U=0,z=n(),H=n(),V=n(),G=function(t,e){return t===e&&(C=!0),0},$="undefined",Y=1<<31,X={}.hasOwnProperty,J=[],Q=J.pop,K=J.push,Z=J.push,tt=J.slice,et=J.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),st="\\["+rt+"*("+it+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+rt+"*\\]",at=":("+it+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ut=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ct=new RegExp("^"+rt+"*,"+rt+"*"),lt=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ft=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),ht=new RegExp(at),pt=new RegExp("^"+ot+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),_t=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(J=tt.call(F.childNodes),F.childNodes),J[F.childNodes.length].nodeType}catch(Et){Z={apply:J.length?function(t,e){K.apply(t,tt.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}E=e.support={},A=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},S=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:F,r=n.defaultView;return n!==D&&9===n.nodeType&&n.documentElement?(D=n,M=n.documentElement,P=!A(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){S()},!1):r.attachEvent&&r.attachEvent("onunload",function(){S()})),E.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),E.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),E.getElementsByClassName=mt.test(n.getElementsByClassName)&&i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),E.getById=i(function(t){return M.appendChild(t).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),E.getById?(T.find.ID=function(t,e){if(typeof e.getElementById!==$&&P){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var n=typeof t.getAttributeNode!==$&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=E.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==$?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=E.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==$&&P?e.getElementsByClassName(t):void 0},L=[],I=[],(E.qsa=mt.test(n.querySelectorAll))&&(i(function(t){t.innerHTML="<select t=''><option selected=''></option></select>",t.querySelectorAll("[t^='']").length&&I.push("[*^$]="+rt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+rt+"*(?:value|"+nt+")"),t.querySelectorAll(":checked").length||I.push(":checked")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+rt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(E.matchesSelector=mt.test(R=M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(t){E.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),L.push("!=",at)}),I=I.length&&new RegExp(I.join("|")),L=L.length&&new RegExp(L.join("|")),e=mt.test(M.compareDocumentPosition),q=e||mt.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return C=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r?r:(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!E.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===F&&q(F,t)?-1:e===n||e.ownerDocument===F&&q(F,e)?1:O?et.call(O,t)-et.call(O,e):0:4&r?-1:1)}:function(t,e){if(t===e)return C=!0,0;var r,i=0,o=t.parentNode,a=e.parentNode,u=[t],c=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:O?et.call(O,t)-et.call(O,e):0;if(o===a)return s(t,e);for(r=t;r=r.parentNode;)u.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;u[i]===c[i];)i++;return i?s(u[i],c[i]):u[i]===F?-1:c[i]===F?1:0},n):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&S(t),n=n.replace(ft,"='$1']"),E.matchesSelector&&P&&(!L||!L.test(n))&&(!I||!I.test(n)))try{var r=R.call(t,n);if(r||E.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&S(t),q(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&S(t);var n=T.attrHandle[e.toLowerCase()],r=n&&X.call(T.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==r?r:E.attributes||!P?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(C=!E.detectDuplicates,O=!E.sortStable&&t.slice(0),t.sort(G),C){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return O=null,t},N=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=N(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=N(e);return n},T=e.selectors={cacheLength:50,createPseudo:r,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:n&&ht.test(n)&&(e=h(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+rt+")"+t+"("+rt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==$&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,h,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(l=v[B]||(v[B]={}),c=l[t]||[],p=c[0]===W&&c[1],h=c[0]===W&&c[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(h=p=0)||d.pop();)if(1===f.nodeType&&++h&&f===e){l[t]=[W,p,h];break}}else if(y&&(c=(e[B]||(e[B]={}))[t])&&c[0]===W)h=c[1];else for(;(f=++p&&f&&f[g]||(h=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++h||(y&&((f[B]||(f[B]={}))[t]=[W,h]),f!==e)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(i=[t,t,"",n],T.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=et.call(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=j(t.replace(ut,"$1"));return i[B]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||N(e)).indexOf(t)>-1}}),lang:r(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,_t).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},T.pseudos.nth=T.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})T.pseudos[_]=u(_);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,j=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=h(t)),n=e.length;n--;)o=y(e[n]),o[B]?r.push(o):i.push(o);o=V(t,b(i,r))}return o},E.sortStable=B.split("").sort(G).join("")===B,E.detectDuplicates=!!C,S(),E.sortDetached=i(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),E.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(nt,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);tt.find=it,tt.expr=it.selectors,tt.expr[":"]=tt.expr.pseudos,tt.unique=it.uniqueSort,tt.text=it.getText,tt.isXMLDoc=it.isXML,tt.contains=it.contains;var ot=tt.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;tt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?tt.find.matchesSelector(r,t)?[r]:[]:tt.find.matches(t,tt.grep(e,function(t){return 1===t.nodeType}))},tt.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(tt(t).filter(function(){for(e=0;n>e;e++)if(tt.contains(i[e],this))return!0}));for(e=0;n>e;e++)tt.find(t,i[e],r);return r=this.pushStack(n>1?tt.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ot.test(t)?tt(t):t||[],!1).length}});var ut,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,lt=tt.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ct.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ut).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof tt?e[0]:e,tt.merge(this,tt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:K,!0)),st.test(n[1])&&tt.isPlainObject(e))for(n in e)tt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=K.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):tt.isFunction(t)?"undefined"!=typeof ut.ready?ut.ready(t):t(tt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),tt.makeArray(t,this))};lt.prototype=tt.fn,ut=tt(K);var ft=/^(?:parents|prev(?:Until|All))/,ht={children:!0,contents:!0,next:!0,prev:!0};tt.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&tt(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),tt.fn.extend({has:function(t){var e=tt(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(tt.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=ot.test(t)||"string"!=typeof t?tt(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&tt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?tt.unique(o):o)},index:function(t){return t?"string"==typeof t?G.call(tt(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(tt.unique(tt.merge(this.get(),tt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),tt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return tt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return tt.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return tt.dir(t,"nextSibling")},prevAll:function(t){return tt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return tt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return tt.dir(t,"previousSibling",n)},siblings:function(t){return tt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return tt.sibling(t.firstChild)},contents:function(t){return t.contentDocument||tt.merge([],t.childNodes);
}},function(t,e){tt.fn[t]=function(n,r){var i=tt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=tt.filter(r,i)),this.length>1&&(ht[t]||tt.unique(i),ft.test(t)&&i.reverse()),this.pushStack(i)}});var pt=/\S+/g,dt={};tt.Callbacks=function(t){t="string"==typeof t?dt[t]||o(t):tt.extend({},t);var e,n,r,i,s,a,u=[],c=!t.once&&[],l=function(o){for(e=t.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(c?c.length&&l(c.shift()):e?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(e){tt.each(e,function(e,n){var r=tt.type(n);"function"===r?t.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?s=u.length:e&&(i=n,l(e))}return this},remove:function(){return u&&tt.each(arguments,function(t,e){for(var n;(n=tt.inArray(e,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?tt.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||f.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],r?c.push(e):l(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},tt.extend({Deferred:function(t){var e=[["resolve","done",tt.Callbacks("once memory"),"resolved"],["reject","fail",tt.Callbacks("once memory"),"rejected"],["notify","progress",tt.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return tt.Deferred(function(n){tt.each(e,function(e,o){var s=tt.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&tt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?tt.extend(t,r):r}},i={};return r.pipe=r.then,tt.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=z.call(arguments),s=o.length,a=1!==s||t&&tt.isFunction(t.promise)?s:0,u=1===a?t:tt.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?z.call(arguments):i,r===e?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&tt.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,e)):--a;return a||u.resolveWith(r,o),u.promise()}});var gt;tt.fn.ready=function(t){return tt.ready.promise().done(t),this},tt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?tt.readyWait++:tt.ready(!0)},ready:function(t){(t===!0?--tt.readyWait:tt.isReady)||(tt.isReady=!0,t!==!0&&--tt.readyWait>0||(gt.resolveWith(K,[tt]),tt.fn.trigger&&tt(K).trigger("ready").off("ready")))}}),tt.ready.promise=function(e){return gt||(gt=tt.Deferred(),"complete"===K.readyState?setTimeout(tt.ready):(K.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),gt.promise(e)},tt.ready.promise();var vt=tt.access=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===tt.type(n)){i=!0;for(a in n)tt.access(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,tt.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(tt(t),n)})),e))for(;u>a;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o};tt.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=tt.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=a.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,tt.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(tt.isEmptyObject(o))tt.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,tt.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{tt.isArray(e)?r=e.concat(e.map(tt.camelCase)):(i=tt.camelCase(e),e in s?r=[e,i]:(r=i,r=r in s?[r]:r.match(pt)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(t){return!tt.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var mt=new a,yt=new a,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xt=/([A-Z])/g;tt.extend({hasData:function(t){return yt.hasData(t)||mt.hasData(t)},data:function(t,e,n){return yt.access(t,e,n)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,n){return mt.access(t,e,n)},_removeData:function(t,e){mt.remove(t,e)}}),tt.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=yt.get(o),1===o.nodeType&&!mt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)r=s[n].name,0===r.indexOf("data-")&&(r=tt.camelCase(r.slice(5)),u(o,r,i[r]));mt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){yt.set(this,t)}):vt(this,function(e){var n,r=tt.camelCase(t);if(o&&void 0===e){if(n=yt.get(o,t),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){yt.remove(this,t)})}}),tt.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=mt.get(t,e),n&&(!r||tt.isArray(n)?r=mt.access(t,e,tt.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=tt.queue(t,e),r=n.length,i=n.shift(),o=tt._queueHooks(t,e),s=function(){tt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return mt.get(t,n)||mt.access(t,n,{empty:tt.Callbacks("once memory").add(function(){mt.remove(t,[e+"queue",n])})})}}),tt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?tt.queue(this[0],t):void 0===e?this:this.each(function(){var n=tt.queue(this,t,e);tt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&tt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){tt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=tt.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=mt.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=["Top","Right","Bottom","Left"],Et=function(t,e){return t=e||t,"none"===tt.css(t,"display")||!tt.contains(t.ownerDocument,t)},Tt=/^(?:checkbox|radio)$/i;!function(){var t=K.createDocumentFragment(),e=t.appendChild(K.createElement("div"));e.innerHTML="<input type='radio' checked='checked' name='t'/>",Q.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Nt="undefined";Q.focusinBubbles="onfocusin"in t;var At=/^key/,jt=/^(?:mouse|contextmenu)|click/,kt=/^(?:focusinfocus|focusoutblur)$/,Ot=/^([^.]*)(?:\.(.+)|)$/;tt.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,f,h,p,d,g,v=mt.get(t);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=tt.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return typeof tt!==Nt&&tt.event.triggered!==e.type?tt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],c=e.length;c--;)a=Ot.exec(e[c])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p&&(f=tt.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=tt.event.special[p]||{},l=tt.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&tt.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||(h=u[p]=[],h.delegateCount=0,f.setup&&f.setup.call(t,r,d,s)!==!1||t.addEventListener&&t.addEventListener(p,s,!1)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),tt.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,f,h,p,d,g,v=mt.hasData(t)&&mt.get(t);if(v&&(u=v.events)){for(e=(e||"").match(pt)||[""],c=e.length;c--;)if(a=Ot.exec(e[c])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p){for(f=tt.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,h=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)l=h[o],!i&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));s&&!h.length&&(f.teardown&&f.teardown.call(t,d,v.handle)!==!1||tt.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)tt.event.remove(t,p+e[c],n,r,!0);tt.isEmptyObject(u)&&(delete v.handle,mt.remove(t,"events"))}},trigger:function(e,n,r,i){var o,s,a,u,c,l,f,h=[r||K],p=X.call(e,"type")?e.type:e,d=X.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!kt.test(p+tt.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[tt.expando]?e:new tt.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:tt.makeArray(n,[e]),f=tt.event.special[p]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!tt.isWindow(r)){for(u=f.delegateType||p,kt.test(u+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(r.ownerDocument||K)&&h.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||p,l=(mt.get(s,"events")||{})[e.type]&&mt.get(s,"handle"),l&&l.apply(s,n),l=c&&s[c],l&&l.apply&&tt.acceptData(s)&&(e.result=l.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!tt.acceptData(r)||c&&tt.isFunction(r[p])&&!tt.isWindow(r)&&(a=r[c],a&&(r[c]=null),tt.event.triggered=p,r[p](),tt.event.triggered=void 0,a&&(r[c]=a)),e.result}},dispatch:function(t){t=tt.event.fix(t);var e,n,r,i,o,s=[],a=z.call(arguments),u=(mt.get(this,"events")||{})[t.type]||[],c=tt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=tt.event.handlers.call(this,t,u),e=0;(i=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((tt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;a>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?tt(i,this).index(u)>=0:tt.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||K,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[tt.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=jt.test(i)?this.mouseHooks:At.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new tt.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=K),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&tt.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return tt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=tt.extend(new tt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?tt.event.trigger(i,null,e):tt.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},tt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},tt.Event=function(t,e){return this instanceof tt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.getPreventDefault&&t.getPreventDefault()?c:l):this.type=t,e&&tt.extend(this,e),this.timeStamp=t&&t.timeStamp||tt.now(),void(this[tt.expando]=!0)):new tt.Event(t,e)},tt.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=c,this.stopPropagation()}},tt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){tt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!tt.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Q.focusinBubbles||tt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){tt.event.simulate(e,t.target,tt.event.fix(t),!0)};tt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=mt.access(r,e);i||r.addEventListener(t,n,!0),mt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=mt.access(r,e)-1;i?mt.access(r,e,i):(r.removeEventListener(t,n,!0),mt.remove(r,e))}}}),tt.fn.extend({on:function(t,e,n,r,i){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=l;else if(!r)return this;return 1===i&&(o=r,r=function(t){return tt().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=tt.guid++)),this.each(function(){tt.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,tt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=l),this.each(function(){tt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){tt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?tt.event.trigger(t,e,n,!0):void 0}});var Ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,St=/<([\w:]+)/,Dt=/<|&#?\w+;/,Mt=/<(?:script|style|link)/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^$|\/(?:java|ecma)script/i,Lt=/^true\/(.*)/,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,qt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td,tt.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=tt.contains(t.ownerDocument,t);if(!(Q.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||tt.isXMLDoc(t)))for(s=m(a),o=m(t),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(e)if(n)for(o=o||m(t),s=s||m(a),r=0,i=o.length;i>r;r++)v(o[r],s[r]);else v(t,a);return s=m(a,"script"),s.length>0&&g(s,!u&&m(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,u,c,l=e.createDocumentFragment(),f=[],h=0,p=t.length;p>h;h++)if(i=t[h],i||0===i)if("object"===tt.type(i))tt.merge(f,i.nodeType?[i]:i);else if(Dt.test(i)){for(o=o||l.appendChild(e.createElement("div")),s=(St.exec(i)||["",""])[1].toLowerCase(),a=qt[s]||qt._default,o.innerHTML=a[1]+i.replace(Ct,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;tt.merge(f,o.childNodes),o=l.firstChild,o.textContent=""}else f.push(e.createTextNode(i));for(l.textContent="",h=0;i=f[h++];)if((!r||-1===tt.inArray(i,r))&&(u=tt.contains(i.ownerDocument,i),o=m(l.appendChild(i),"script"),u&&g(o),n))for(c=0;i=o[c++];)It.test(i.type||"")&&n.push(i);return l},cleanData:function(t){for(var e,n,r,i,o,s,a=tt.event.special,u=0;void 0!==(n=t[u]);u++){if(tt.acceptData(n)&&(o=n[mt.expando],o&&(e=mt.cache[o]))){if(r=Object.keys(e.events||{}),r.length)for(s=0;void 0!==(i=r[s]);s++)a[i]?tt.event.remove(n,i):tt.removeEvent(n,i,e.handle);mt.cache[o]&&delete mt.cache[o]}delete yt.cache[n[yt.expando]]}}}),tt.fn.extend({text:function(t){return vt(this,function(t){return void 0===t?tt.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?tt.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||tt.cleanData(m(n)),n.parentNode&&(e&&tt.contains(n.ownerDocument,n)&&g(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(tt.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return tt.clone(this,t,e)})},html:function(t){return vt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!qt[(St.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ct,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(tt.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,tt.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=H.apply([],t);var n,r,i,o,s,a,u=0,c=this.length,l=this,f=c-1,h=t[0],g=tt.isFunction(h);if(g||c>1&&"string"==typeof h&&!Q.checkClone&&Pt.test(h))return this.each(function(n){var r=l.eq(n);g&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)});if(c&&(n=tt.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=tt.map(m(n,"script"),p),o=i.length;c>u;u++)s=n,u!==f&&(s=tt.clone(s,!0,!0),o&&tt.merge(i,m(s,"script"))),e.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,tt.map(i,d),u=0;o>u;u++)s=i[u],It.test(s.type||"")&&!mt.access(s,"globalEval")&&tt.contains(a,s)&&(s.src?tt._evalUrl&&tt._evalUrl(s.src):tt.globalEval(s.textContent.replace(Rt,"")))}return this}}),tt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){tt.fn[t]=function(t){for(var n,r=[],i=tt(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),tt(i[s])[e](n),V.apply(r,n.get());return this.pushStack(r)}});var Bt,Ft={},Wt=/^margin/,Ut=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),zt=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",o.appendChild(s);var e=t.getComputedStyle(a,null);n="1%"!==e.top,r="4px"===e.width,o.removeChild(s)}var n,r,i="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",o=K.documentElement,s=K.createElement("div"),a=K.createElement("div");a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(a),t.getComputedStyle&&tt.extend(Q,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=a.appendChild(K.createElement("div"));return n.style.cssText=a.style.cssText=i,n.style.marginRight=n.style.width="0",a.style.width="1px",o.appendChild(s),e=!parseFloat(t.getComputedStyle(n,null).marginRight),o.removeChild(s),a.innerHTML="",e}})}(),tt.swap=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i};var Ht=/^(none|table(?!-c[ea]).+)/,Vt=new RegExp("^("+wt+")(.*)$","i"),Gt=new RegExp("^([+-])=("+wt+")","i"),$t={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Xt=["Webkit","O","Moz","ms"];tt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=tt.camelCase(e),u=t.style;return e=tt.cssProps[a]||(tt.cssProps[a]=E(u,a)),s=tt.cssHooks[e]||tt.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Gt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(tt.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||tt.cssNumber[a]||(n+="px"),Q.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]="",u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,s,a=tt.camelCase(e);return e=tt.cssProps[a]||(tt.cssProps[a]=E(t.style,a)),s=tt.cssHooks[e]||tt.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=w(t,e,r)),"normal"===i&&e in Yt&&(i=Yt[e]),""===n||n?(o=parseFloat(i),n===!0||tt.isNumeric(o)?o||0:i):i}}),tt.each(["height","width"],function(t,e){tt.cssHooks[e]={get:function(t,n,r){return n?0===t.offsetWidth&&Ht.test(tt.css(t,"display"))?tt.swap(t,$t,function(){return A(t,e,r)}):A(t,e,r):void 0},set:function(t,n,r){var i=r&&zt(t);return T(t,n,r?N(t,e,r,"border-box"===tt.css(t,"boxSizing",!1,i),i):0)}}}),tt.cssHooks.marginRight=_(Q.reliableMarginRight,function(t,e){return e?tt.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),tt.each({margin:"",padding:"",border:"Width"},function(t,e){tt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+_t[r]+e]=o[r]||o[r-2]||o[0];return i}},Wt.test(t)||(tt.cssHooks[t+e].set=T)}),tt.fn.extend({css:function(t,e){return vt(this,function(t,e,n){var r,i,o={},s=0;if(tt.isArray(e)){for(r=zt(t),i=e.length;i>s;s++)o[e[s]]=tt.css(t,e[s],!1,r);return o}return void 0!==n?tt.style(t,e,n):tt.css(t,e)},t,e,arguments.length>1)},show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Et(this)?tt(this).show():tt(this).hide()})}}),tt.Tween=k,k.prototype={constructor:k,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(tt.cssNumber[n]?"":"px")},cur:function(){var t=k.propHooks[this.prop];return t&&t.get?t.get(this):k.propHooks._default.get(this)},run:function(t){var e,n=k.propHooks[this.prop];return this.options.duration?this.pos=e=tt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=tt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){tt.fx.step[t.prop]?tt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[tt.cssProps[t.prop]]||tt.cssHooks[t.prop])?tt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},tt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},tt.fx=k.prototype.init,tt.fx.step={};var Jt,Qt,Kt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[D],ne={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Zt.exec(e),o=i&&i[3]||(tt.cssNumber[t]?"":"px"),s=(tt.cssNumber[t]||"px"!==o&&+r)&&Zt.exec(tt.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,tt.style(n.elem,t,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};tt.Animation=tt.extend(P,{tweener:function(t,e){tt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),tt.speed=function(t,e,n){var r=t&&"object"==typeof t?tt.extend({},t):{complete:n||!n&&e||tt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!tt.isFunction(e)&&e};return r.duration=tt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in tt.fx.speeds?tt.fx.speeds[r.duration]:tt.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){tt.isFunction(r.old)&&r.old.call(this),r.queue&&tt.dequeue(this,r.queue)},r},tt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Et).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=tt.isEmptyObject(t),o=tt.speed(e,n,r),s=function(){var e=P(this,tt.extend({},t),o);(i||mt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=tt.timers,s=mt.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&te.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&tt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=mt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=tt.timers,s=r?r.length:0;for(n.finish=!0,tt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),tt.each(["toggle","show","hide"],function(t,e){var n=tt.fn[e];tt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(C(e,!0),t,r,i)}}),tt.each({slideDown:C("show"),slideUp:C("hide"),slideToggle:C("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){tt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),tt.timers=[],tt.fx.tick=function(){var t,e=0,n=tt.timers;for(Jt=tt.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||tt.fx.stop(),Jt=void 0},tt.fx.timer=function(t){tt.timers.push(t),t()?tt.fx.start():tt.timers.pop()},tt.fx.interval=13,tt.fx.start=function(){Qt||(Qt=setInterval(tt.fx.tick,tt.fx.interval))},tt.fx.stop=function(){clearInterval(Qt),Qt=null},tt.fx.speeds={slow:600,fast:200,_default:400},tt.fn.delay=function(t,e){return t=tt.fx?tt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=K.createElement("input"),e=K.createElement("select"),n=e.appendChild(K.createElement("option"));t.type="checkbox",Q.checkOn=""!==t.value,Q.optSelected=n.selected,e.disabled=!0,Q.optDisabled=!n.disabled,t=K.createElement("input"),t.value="t",t.type="radio",Q.radioValue="t"===t.value}();var re,ie,oe=tt.expr.attrHandle;tt.fn.extend({attr:function(t,e){return vt(this,tt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){tt.removeAttr(this,t)})}}),tt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Nt?tt.prop(t,e,n):(1===o&&tt.isXMLDoc(t)||(e=e.toLowerCase(),r=tt.attrHooks[e]||(tt.expr.match.bool.test(e)?ie:re)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=tt.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void tt.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(pt);if(o&&1===t.nodeType)for(;n=o[i++];)r=tt.propFix[n]||n,tt.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Q.radioValue&&"radio"===e&&tt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ie={set:function(t,e,n){return e===!1?tt.removeAttr(t,n):t.setAttribute(n,n),n}},tt.each(tt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=oe[e]||tt.find.attr;oe[e]=function(t,e,r){var i,o;return r||(o=oe[e],oe[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,oe[e]=o),i}});var se=/^(?:input|select|textarea|button)$/i;tt.fn.extend({prop:function(t,e){return vt(this,tt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[tt.propFix[t]||t]})}}),tt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!tt.isXMLDoc(t),o&&(e=tt.propFix[e]||e,i=tt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e];
},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||se.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Q.optSelected||(tt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),tt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){tt.propFix[this.toLowerCase()]=this});var ae=/[\t\r\n\f]/g;tt.fn.extend({addClass:function(t){var e,n,r,i,o,s,a="string"==typeof t&&t,u=0,c=this.length;if(tt.isFunction(t))return this.each(function(e){tt(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=tt.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,r,i,o,s,a=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(tt.isFunction(t))return this.each(function(e){tt(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=t?tt.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):tt.isFunction(t)?this.each(function(n){tt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,r=0,i=tt(this),o=t.match(pt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Nt||"boolean"===n)&&(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":mt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ae," ").indexOf(e)>=0)return!0;return!1}});var ue=/\r/g;tt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=tt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,tt(this).val()):t,null==i?i="":"number"==typeof i?i+="":tt.isArray(i)&&(i=tt.map(i,function(t){return null==t?"":t+""})),e=tt.valHooks[this.type]||tt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=tt.valHooks[i.type]||tt.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ue,""):null==n?"":n)}}}),tt.extend({valHooks:{select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],(n.selected||u===i)&&(Q.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!tt.nodeName(n.parentNode,"optgroup"))){if(e=tt(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=tt.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=tt.inArray(tt(r).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),tt.each(["radio","checkbox"],function(){tt.valHooks[this]={set:function(t,e){return tt.isArray(e)?t.checked=tt.inArray(tt(t).val(),e)>=0:void 0}},Q.checkOn||(tt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),tt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){tt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),tt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ce=tt.now(),le=/\?/;tt.parseJSON=function(t){return JSON.parse(t+"")},tt.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&tt.error("Invalid XML: "+t),e};var fe,he,pe=/#.*$/,de=/([?&])_=[^&]*/,ge=/^(.*?):[ \t]*([^\r\n]*)$/gm,ve=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,me=/^(?:GET|HEAD)$/,ye=/^\/\//,be=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xe={},we={},_e="*/".concat("*");try{he=location.href}catch(Ee){he=K.createElement("a"),he.href="",he=he.href}fe=be.exec(he.toLowerCase())||[],tt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:he,type:"GET",isLocal:ve.test(fe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":tt.parseJSON,"text xml":tt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?R(R(t,tt.ajaxSettings),e):R(tt.ajaxSettings,t)},ajaxPrefilter:I(xe),ajaxTransport:I(we),ajax:function(t,e){function n(t,e,n,s){var u,l,m,y,x,_=e;2!==b&&(b=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=q(f,w,n)),y=B(f,y,w,u),u?(f.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(tt.lastModified[i]=x),x=w.getResponseHeader("etag"),x&&(tt.etag[i]=x)),204===t||"HEAD"===f.type?_="nocontent":304===t?_="notmodified":(_=y.state,l=y.data,m=y.error,u=!m)):(m=_,(t||!_)&&(_="error",0>t&&(t=0))),w.status=t,w.statusText=(e||_)+"",u?d.resolveWith(h,[l,_,w]):d.rejectWith(h,[w,_,m]),w.statusCode(v),v=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?l:m]),g.fireWith(h,[w,_]),c&&(p.trigger("ajaxComplete",[w,f]),--tt.active||tt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,a,u,c,l,f=tt.ajaxSetup({},e),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?tt(h):tt.event,d=tt.Deferred(),g=tt.Callbacks("once memory"),v=f.statusCode||{},m={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=ge.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,m[t]=e),this},overrideMimeType:function(t){return b||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return r&&r.abort(e),n(0,e),this}};if(d.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||he)+"").replace(pe,"").replace(ye,fe[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=tt.trim(f.dataType||"*").toLowerCase().match(pt)||[""],null==f.crossDomain&&(u=be.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===fe[1]&&u[2]===fe[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(fe[3]||("http:"===fe[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=tt.param(f.data,f.traditional)),L(xe,f,e,w),2===b)return w;c=f.global,c&&0===tt.active++&&tt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!me.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(le.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=de.test(i)?i.replace(de,"$1_="+ce++):i+(le.test(i)?"&":"?")+"_="+ce++)),f.ifModified&&(tt.lastModified[i]&&w.setRequestHeader("If-Modified-Since",tt.lastModified[i]),tt.etag[i]&&w.setRequestHeader("If-None-Match",tt.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+_e+"; q=0.01":""):f.accepts["*"]);for(l in f.headers)w.setRequestHeader(l,f.headers[l]);if(f.beforeSend&&(f.beforeSend.call(h,w,f)===!1||2===b))return w.abort();x="abort";for(l in{success:1,error:1,complete:1})w[l](f[l]);if(r=L(we,f,e,w)){w.readyState=1,c&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,r.send(m,n)}catch(_){if(!(2>b))throw _;n(-1,_)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return tt.get(t,e,n,"json")},getScript:function(t,e){return tt.get(t,void 0,e,"script")}}),tt.each(["get","post"],function(t,e){tt[e]=function(t,n,r,i){return tt.isFunction(n)&&(i=i||r,r=n,n=void 0),tt.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),tt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){tt.fn[e]=function(t){return this.on(e,t)}}),tt._evalUrl=function(t){return tt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},tt.fn.extend({wrapAll:function(t){var e;return tt.isFunction(t)?this.each(function(e){tt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=tt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return tt.isFunction(t)?this.each(function(e){tt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=tt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=tt.isFunction(t);return this.each(function(n){tt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){tt.nodeName(this,"body")||tt(this).replaceWith(this.childNodes)}).end()}}),tt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},tt.expr.filters.visible=function(t){return!tt.expr.filters.hidden(t)};var Te=/%20/g,Ne=/\[\]$/,Ae=/\r?\n/g,je=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;tt.param=function(t,e){var n,r=[],i=function(t,e){e=tt.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=tt.ajaxSettings&&tt.ajaxSettings.traditional),tt.isArray(t)||t.jquery&&!tt.isPlainObject(t))tt.each(t,function(){i(this.name,this.value)});else for(n in t)F(n,t[n],e,i);return r.join("&").replace(Te,"+")},tt.fn.extend({serialize:function(){return tt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=tt.prop(this,"elements");return t?tt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!tt(this).is(":disabled")&&ke.test(this.nodeName)&&!je.test(t)&&(this.checked||!Tt.test(t))}).map(function(t,e){var n=tt(this).val();return null==n?null:tt.isArray(n)?tt.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}}),tt.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Oe=0,Ce={},Se={0:200,1223:204},De=tt.ajaxSettings.xhr();t.ActiveXObject&&tt(t).on("unload",function(){for(var t in Ce)Ce[t]()}),Q.cors=!!De&&"withCredentials"in De,Q.ajax=De=!!De,tt.ajaxTransport(function(t){var e;return Q.cors||De&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),s=++Oe;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Ce[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Se[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Ce[s]=e("abort"),o.send(t.hasContent&&t.data||null)},abort:function(){e&&e()}}:void 0}),tt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return tt.globalEval(t),t}}}),tt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),tt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=tt("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),K.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Me=[],Pe=/(=)\?(?=&|$)|\?\?/;tt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Me.pop()||tt.expando+"_"+ce++;return this[t]=!0,t}}),tt.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=e.jsonp!==!1&&(Pe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=tt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Pe,"$1"+i):e.jsonp!==!1&&(e.url+=(le.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||tt.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Me.push(i)),s&&tt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),tt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||K;var r=st.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=tt.buildFragment([t],e,i),i&&i.length&&tt(i).remove(),tt.merge([],r.childNodes))};var Ie=tt.fn.load;tt.fn.load=function(t,e,n){if("string"!=typeof t&&Ie)return Ie.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>=0&&(r=t.slice(a),t=t.slice(0,a)),tt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&tt.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?tt("<div>").append(tt.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},tt.expr.filters.animated=function(t){return tt.grep(tt.timers,function(e){return t===e.elem}).length};var Le=t.document.documentElement;tt.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=tt.css(t,"position"),f=tt(t),h={};"static"===l&&(t.style.position="relative"),a=f.offset(),o=tt.css(t,"top"),u=tt.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),tt.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):f.css(h)}},tt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){tt.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,tt.contains(e,r)?(typeof r.getBoundingClientRect!==Nt&&(i=r.getBoundingClientRect()),n=W(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===tt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),tt.nodeName(t[0],"html")||(r=t.offset()),r.top+=tt.css(t[0],"borderTopWidth",!0),r.left+=tt.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-tt.css(n,"marginTop",!0),left:e.left-r.left-tt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Le;t&&!tt.nodeName(t,"html")&&"static"===tt.css(t,"position");)t=t.offsetParent;return t||Le})}}),tt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;tt.fn[e]=function(i){return vt(this,function(e,i,o){var s=W(e);return void 0===o?s?s[n]:e[i]:void(s?s.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),tt.each(["top","left"],function(t,e){tt.cssHooks[e]=_(Q.pixelPosition,function(t,n){return n?(n=w(t,e),Ut.test(n)?tt(t).position()[e]+"px":n):void 0})}),tt.each({Height:"height",Width:"width"},function(t,e){tt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){tt.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return vt(this,function(e,n,r){var i;return tt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?tt.css(e,n,s):tt.style(e,n,r,s)},e,o?r:void 0,o,null)}})}),tt.fn.size=function(){return this.length},tt.fn.andSelf=tt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return tt});var Re=t.jQuery,qe=t.$;return tt.noConflict=function(e){return t.$===tt&&(t.$=qe),e&&t.jQuery===tt&&(t.jQuery=Re),tt},typeof e===Nt&&(t.jQuery=t.$=tt),tt}),window._Modernizr=window.Modernizr,function(t,e,n){function r(t,e){return typeof t===e}function i(){var t,e,n,i,s,c,l;for(var f in o){if(t=[],e=o[f],e.name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(n=0;n<e.options.aliases.length;n++)t.push(e.options.aliases[n].toLowerCase());for(i=r(e.fn,"function")?e.fn():e.fn,s=0;s<t.length;s++)c=t[s],l=c.split("."),1===l.length?a[l[0]]=i:(!a[l[0]]||a[l[0]]instanceof Boolean||(a[l[0]]=new Boolean(a[l[0]])),a[l[0]][l[1]]=i),u.push((i?"":"no-")+l.join("-"))}}var o=[],s={_version:"3.0.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var n=this;setTimeout(function(){e(n[t])},0)},addTest:function(t,e,n){o.push({name:t,fn:e,options:n})},addAsyncTest:function(t){o.push({name:null,fn:t})}},a=function(){};a.prototype=s,a=new a;var u=[];a.addTest("websocketsbinary",function(){var e,n="https:"==location.protocol?"wss":"ws";if("WebSocket"in t){if(e="binaryType"in WebSocket.prototype)return e;try{return!!new WebSocket(n+"://.").binaryType}catch(r){}}return!1}),i(),delete s.addTest,delete s.addAsyncTest;for(var c=0;c<a._q.length;c++)a._q[c]();t.Modernizr=a}(window,document),function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=t("underscore"),i=n.ValidationError=function(t){this.fields=t,this.message=r.map(r.pairs(t),function(t){return(t[0].length?t[0]:"/")+" : "+t[1]}).join("\n"),this.message="\n"+this.message};i.prototype=Object.create(Error.prototype),r.extend(i.prototype,{name:"ValidationError",addPrefix:function(t){this.fields=r.chain(this.fields).pair().map(function(e){return[t+e[0],e[1]]}).object().value()}})},{underscore:54}],2:[function(t,e,n){var r=t("buffer").Buffer,i=t("underscore"),o="undefined"!=typeof window,s=o?Uint8Array:r;n.validateArgs=function(t){if(!i.isArray(t))return"`args` should be an array";var e,n,r;for(n=0,r=t.length;r>n;n++)if(e=t[n],!(i.isString(e)||i.isNumber(e)||e instanceof s))return"argument "+n+", invalid type";return null},n.argsToString=function(t){return"["+t.map(function(t){return t instanceof s?"Blob("+t.length+")":t})+"]"};n.normalizeAddress=function(t){return"/"===t?t:"/"===i.last(t)?t.slice(0,-1):t};n.validateAddressForSub=function(t){return i.isString(t)?"/"!==t[0]?"should start with /":a.exec(t)?"system addresses are reserved for the system":null:"should be a string"},n.validateAddressForSend=function(t){return"/"!==t[0]?"should start with /":u.exec(t)?"broadcast addresses are reserved for the system":null};var a=n.sysAddressRe=/^\/sys.*$/;n.configureAddress="/sys/config",n.configuredAddress="/sys/configured",n.subscribeAddress="/sys/subscribe",n.subscribedAddress="/sys/subscribed",n.sendBlobAddress="/sys/blob",n.errorAddress="/sys/error",n.resendAddress="/sys/resend",n.connectionStatusAddress="/sys/connection",n.connectionsSendListAddress="/sys/connections/sendlist",n.connectionsTakeListAddress="/sys/connections";var u=n.broadcastAddressRe=/^\/broadcast.*$/;n.connectionCloseAddress="/broadcast/close",n.connectionOpenAddress="/broadcast/open"},{buffer:7,underscore:54}],3:[function(t,e,n){var r=t("underscore"),i=t("chai"),o=t("validation-pod"),s=t("./errors").ValidationError,a=n.ChaiValidator=function(){o.Validator.apply(this,arguments)};r.extend(a.prototype,o.Validator.prototype,{handleError:function(t){return t instanceof i.AssertionError?t.message:void 0}}),n.ValidateConfigMixin={validateConfig:function(t){this._config=this._config||{},r.defaults(this._config,this.configDefaults),this.configValidator.run(this._config,function(e,n){e?t(e):r.keys(n).length?t(new s(n)):t()})}}},{"./errors":1,chai:15,underscore:54,"validation-pod":55}],4:[function(t,e,n){(function(n){var r=t("events").EventEmitter,i=t("querystring"),o=t("buffer").Buffer,s=t("underscore"),a=t("ws"),u=t("chai").expect,c=t("osc-min"),l=t("cookies-js"),f=t("../core/messages"),h=t("../core/validation"),p="undefined"!=typeof window;if(a)var d=s.object([[a.CONNECTING,"stopped"],[a.OPEN,"started"],[a.CLOSING,"stopped"],[a.CLOSED,"stopped"]]);var g=e.exports=function(t){r.apply(this),this._socket=null,this._socketEmitter=null,this._rhizomeEmitter=null,this.id=null,this._config=t,this._isBrowser=p,this._reconnectTimeout=null,this._onConnectionLost=s.bind(this._onConnectionLost,this)};s.extend(g.prototype,r.prototype,h.ValidateConfigMixin,{start:function(t){var e=this;if(!this.isSupported()){var n=new y("the current browser is not supported");if(t)return t(n);throw n}this._socket&&(this._socket.close(),this._clean()),this.validateConfig(function(n){if(n)return t(n);e._isBrowser&&(e.id=l.get(e._config.cookieName)||null),e._rhizomeEmitter=new r;var i=function(n){if(n){if(t)return t(n);throw n}t&&t(),e.emit("connected")};e._config.reconnect?e._connectWithRetry(0,i):e._connect(i)})},stop:function(t){var e=this;this._socket?this._socket.readyState<=this._socket.OPEN?(this._socketEmitter.removeListener("close",this._onConnectionLost),this._socket.close(),this._socketEmitter.once("close",function(){e._clean(),t&&t(null)})):(this._clean(),t&&t(null)):t&&t(null)},send:function(t,e){e=e||[],s.isArray(e)&&(e=s.map(e,function(t){return t instanceof ArrayBuffer?new o(new Uint8Array(t)):t})),v(f.validateAddressForSend,t),v(f.validateArgs,e),this._socket.send(c.toBuffer({address:t,args:e}))},status:function(){return this._socket?null===this.id?"stopped":d[this._socket.readyState]:"stopped"},isSupported:function(){return this._isBrowser?rhizome.Modernizr.websocketsbinary:!0},log:function(){},_connect:function(t){var e,o=this,u={};this.id&&(u.id=this.id),this._isBrowser&&(u.os=("undefined"==typeof window?n:window).navigator.oscpu,u.browser=("undefined"==typeof window?n:window).navigator.userAgent),e="ws://"+this._config.hostname+":"+this._config.port+"/?"+i.stringify(u),this.log("connecting to "+e),this._socket=new a(e),this._socket.binaryType="arraybuffer",this._socketEmitter=new r,this._socket.onerror=function(t){o._socketEmitter.emit("error")},this._socket.onmessage=function(t){o._socketEmitter.emit("message",t.data)},this._socket.onclose=function(t){o._socketEmitter.emit("close")},this._socket.onopen=function(t){o._socketEmitter.emit("open")},this._socketEmitter.on("message",s.bind(this._onSocketMessage,this)),this._socketEmitter.once("open",function(e){o._socketEmitter.removeAllListeners("close"),o._socketEmitter.removeAllListeners("error"),o._socketEmitter.on("error",s.bind(o._onSocketError,o)),o._rhizomeEmitter.once(f.connectionStatusAddress,function(e){var n=e[0];if(0===n){if(o.id=e[1],o._socketEmitter.once("close",o._onConnectionLost),o._isBrowser&&l.set(o._config.cookieName,o.id),t)return t()}else if(1===n)return t(new m(n,e[1]))})});var c=function(e){o._socketEmitter.removeAllListeners(),t(new Error("connect error"))};this._socketEmitter.once("close",c),this._socketEmitter.once("error",c)},_connectWithRetry:function(t,e){var n=this;this._reconnectTimeout=setTimeout(function(){n._reconnectTimeout&&(n._reconnectTimeout=null,n.log("socket reconnecting"),n._connect(function(t){t?(n.log("socket failed reconnecting "+t.toString()),t instanceof m&&1===t.code&&n.emit("server full"),n._connectWithRetry(n._config.reconnect,e)):e()}))},t)},_clean:function(){this.id=null,this._reconnectTimeout&&(clearTimeout(this._reconnectTimeout),this._reconnectTimeout=null),this._socketEmitter.removeAllListeners(),this._rhizomeEmitter=null,this._socket=null,this._socketEmitter=null},configValidator:new h.ChaiValidator({port:function(t){u(t).to.be.a("number"),u(t).to.be.within(0,65535)},hostname:function(t){u(t).to.be.a("string")},reconnect:function(t){u(t).to.be.a("number")},cookieName:function(t){u(t).to.be.a("string")},useCookies:function(t){u(t).to.be.a("boolean")}}),configDefaults:{reconnect:2e3,cookieName:"rhizome",useCookies:!0},_onConnectionLost:function(t){var e=this;this.emit("connection lost"),this._rhizomeEmitter.removeAllListeners(),this._config.reconnect&&this._connectWithRetry(0,function(t){if(t)throw t;e.emit("connected")})},_onSocketError:function(t){this.listeners("error").length&&this.emit("error",t),this.log("socket error ",t.toString())},_onSocketMessage:function(t){var e=c.fromBuffer(t),n=e.address,r=s.pluck(e.args,"value");n===f.connectionStatusAddress?this._rhizomeEmitter.emit(n,r):this.emit("message",n,r)}});var v=function(t,e){var n=t(e);if(null!==n)throw new Error(n)},m=function(t,e){this.code=t,this.message=e};m.prototype=Object.create(Error.prototype),m.prototype.name="ConnectionRefused";var y=function(t){this.message=t};y.prototype=Object.create(Error.prototype),y.prototype.name="NotSupported"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/messages":2,"../core/validation":3,buffer:7,chai:15,"cookies-js":50,events:11,"osc-min":51,querystring:14,underscore:54,ws:59}],5:[function(t,e,n){var r;r=window.location.port.length?parseInt(window.location.port,10):{"http:":80,"https:":443}[window.location.protocol],window.rhizome=new(t("./Client"))({port:r,hostname:window.location.hostname}),window.rhizome.utils={},window.rhizome.utils.throttle=t("./utils").throttle,window.rhizome.Modernizr=window.Modernizr,window._Modernizr?(window.Modernizr=window._Modernizr,delete window._Modernizr):delete window.Modernizr},{"./Client":4,"./utils":6}],6:[function(t,e,n){(function(e){t("underscore"),n.Blob="undefined"==typeof window?e:window.Blob;n.throttle=function(t,e){var n=null,r=!1,i=!1,o=function(){e(n),r=!0,i=!1,setTimeout(function(){i===!0?o():r=!1},t)},s=function(t){i=!0,n=t,r===!1&&o()};return s}}).call(this,t("buffer").Buffer)},{buffer:7,underscore:54}],7:[function(t,e,n){(function(e){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t){return this instanceof i?(this.length=0,this.parent=void 0,"number"==typeof t?o(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):a(this,t)):arguments.length>1?new i(t,arguments[1]):new i(t)}function o(t,e){if(t=d(t,0>e?0:0|g(e)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;n++)t[n]=0;return t}function s(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|m(e,n);return t=d(t,r),t.write(e,n),t}function a(t,e){if(i.isBuffer(e))return u(t,e);if(X(e))return c(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return l(t,e);if(e instanceof ArrayBuffer)return f(t,e)}return e.length?h(t,e):p(t,e)}function u(t,e){var n=0|g(e.length);return t=d(t,n),e.copy(t,0,0,n),t}function c(t,e){var n=0|g(e.length);t=d(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function l(t,e){var n=0|g(e.length);t=d(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function f(t,e){return i.TYPED_ARRAY_SUPPORT?(e.byteLength,t=i._augment(new Uint8Array(e))):t=l(t,new Uint8Array(e)),t}function h(t,e){var n=0|g(e.length);t=d(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function p(t,e){var n,r=0;"Buffer"===e.type&&X(e.data)&&(n=e.data,r=0|g(n.length)),t=d(t,r);for(var i=0;r>i;i+=1)t[i]=255&n[i];return t}function d(t,e){i.TYPED_ARRAY_SUPPORT?(t=i._augment(new Uint8Array(e)),t.__proto__=i.prototype):(t.length=e,t._isBuffer=!0);var n=0!==e&&e<=i.poolSize>>>1;return n&&(t.parent=J),t}function g(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function v(t,e){if(!(this instanceof v))return new v(t,e);var n=new i(t,e);return delete n.parent,n}function m(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return k(this,e,n);case"binary":return O(this,e,n);case"base64":return N(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function x(t,e,n,r){return G(U(e,t.length-n),t,n,r)}function w(t,e,n,r){return G(z(e),t,n,r)}function _(t,e,n,r){return w(t,e,n,r)}function E(t,e,n,r){return G(V(e),t,n,r)}function T(t,e,n,r){return G(H(e,t.length-n),t,n,r)}function N(t,e,n){return 0===e&&n===t.length?$.fromByteArray(t):$.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;n>i;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(n>=i+a){var u,c,l,f;switch(a){case 1:128>o&&(s=o);break;case 2:u=t[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(s=f));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(55296>f||f>57343)&&(s=f));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&1114112>f&&(s=f))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return j(r)}function j(t){var e=t.length;if(Q>=e)return String.fromCharCode.apply(String,t);for(var n="",r=0;e>r;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Q));return n}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=W(t[o]);return i}function S(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,o,s){if(!i.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||s>e)throw new RangeError("value is out of bounds");
if(n+r>t.length)throw new RangeError("index out of range")}function P(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function R(t,e,n,r,i){return i||L(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(t,e,n,r,23,4),n+4}function q(t,e,n,r,i){return i||L(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(t,e,n,r,52,8),n+8}function B(t){if(t=F(t).replace(Z,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return 16>t?"0"+t.toString(16):t.toString(16)}function U(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;r>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function V(t){return $.toByteArray(B(t))}function G(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}var $=t("base64-js"),Y=t("ieee754"),X=t("is-array");n.Buffer=i,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var J={};i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}(),i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array),i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,s=Math.min(n,r);s>o&&t[o]===e[o];)++o;return o!==s&&(n=t[o],r=e[o]),r>n?-1:n>r?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!X(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new i(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var r=new i(e),o=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(r,o),o+=s.length}return r},i.byteLength=m,i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:i.compare(this,t)},i.prototype.indexOf=function(t,e){function n(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(i.isBuffer(t))return n(this,t,e);if("number"==typeof t)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return w(this,t,e,n);case"binary":return _(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;i.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(t,e));else{var o=e-t;r=new i(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+t]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},i.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},i.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},i.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),Y.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),Y.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),Y.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),Y.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||M(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||M(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):P(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):I(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):I(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=0,s=1,a=0>t?1:0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):P(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||M(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):I(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return q(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return q(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,s=r-n;if(this===t&&e>n&&r>e)for(o=s-1;o>=0;o--)t[o+e]=this[o+n];else if(1e3>s||!i.TYPED_ARRAY_SUPPORT)for(o=0;s>o;o++)t[o+e]=this[o+n];else t._set(this.subarray(n,n+s),e);return s},i.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=U(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var K=i.prototype;i._augment=function(t){return t.constructor=i,t._isBuffer=!0,t._set=t.set,t.get=K.get,t.set=K.set,t.write=K.write,t.toString=K.toString,t.toLocaleString=K.toString,t.toJSON=K.toJSON,t.equals=K.equals,t.compare=K.compare,t.indexOf=K.indexOf,t.copy=K.copy,t.slice=K.slice,t.readUIntLE=K.readUIntLE,t.readUIntBE=K.readUIntBE,t.readUInt8=K.readUInt8,t.readUInt16LE=K.readUInt16LE,t.readUInt16BE=K.readUInt16BE,t.readUInt32LE=K.readUInt32LE,t.readUInt32BE=K.readUInt32BE,t.readIntLE=K.readIntLE,t.readIntBE=K.readIntBE,t.readInt8=K.readInt8,t.readInt16LE=K.readInt16LE,t.readInt16BE=K.readInt16BE,t.readInt32LE=K.readInt32LE,t.readInt32BE=K.readInt32BE,t.readFloatLE=K.readFloatLE,t.readFloatBE=K.readFloatBE,t.readDoubleLE=K.readDoubleLE,t.readDoubleBE=K.readDoubleBE,t.writeUInt8=K.writeUInt8,t.writeUIntLE=K.writeUIntLE,t.writeUIntBE=K.writeUIntBE,t.writeUInt16LE=K.writeUInt16LE,t.writeUInt16BE=K.writeUInt16BE,t.writeUInt32LE=K.writeUInt32LE,t.writeUInt32BE=K.writeUInt32BE,t.writeIntLE=K.writeIntLE,t.writeIntBE=K.writeIntBE,t.writeInt8=K.writeInt8,t.writeInt16LE=K.writeInt16LE,t.writeInt16BE=K.writeInt16BE,t.writeInt32LE=K.writeInt32LE,t.writeInt32BE=K.writeInt32BE,t.writeFloatLE=K.writeFloatLE,t.writeFloatBE=K.writeFloatBE,t.writeDoubleLE=K.writeDoubleLE,t.writeDoubleBE=K.writeDoubleBE,t.fill=K.fill,t.inspect=K.inspect,t.toArrayBuffer=K.toArrayBuffer,t};var Z=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":8,ieee754:9,"is-array":10}],8:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===f?62:e===a||e===h?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function n(t){function n(t){c[f++]=t}var r,i,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var f=0;for(r=0,i=0;s>r;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;s>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],9:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+p]=255&s,p+=d,s/=256,c-=8);t[n+p-d]|=128*g}},{}],10:[function(t,e,n){var r=Array.isArray,i=Object.prototype.toString;e.exports=r||function(t){return!!t&&"[object Array]"==i.call(t)}},{}],11:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],12:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var f,h,p,d,g=t[l].replace(a,"%20"),v=g.indexOf(n);v>=0?(f=g.substr(0,v),h=g.substr(v+1)):(f=g,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),r(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],13:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(s(t),function(s){var a=encodeURIComponent(i(s))+n;return o(t[s])?r(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],14:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":12,"./encode":13}],15:[function(t,e,n){e.exports=t("./lib/chai")},{"./lib/chai":16}],16:[function(t,e,n){var r=[],n=e.exports={};n.version="3.3.0",n.AssertionError=t("assertion-error");var i=t("./chai/utils");n.use=function(t){return~r.indexOf(t)||(t(this,i),r.push(t)),this},n.util=i;var o=t("./chai/config");n.config=o;var s=t("./chai/assertion");n.use(s);var a=t("./chai/core/assertions");n.use(a);var u=t("./chai/interface/expect");n.use(u);var c=t("./chai/interface/should");n.use(c);var l=t("./chai/interface/assert");n.use(l)},{"./chai/assertion":17,"./chai/config":18,"./chai/core/assertions":19,"./chai/interface/assert":20,"./chai/interface/expect":21,"./chai/interface/should":22,"./chai/utils":35,"assertion-error":43}],17:[function(t,e,n){var r=t("./config");e.exports=function(t,e){function n(t,e,n){o(this,"ssfi",n||arguments.callee),o(this,"object",t),o(this,"message",e)}var i=t.AssertionError,o=e.flag;t.Assertion=n,Object.defineProperty(n,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack},set:function(t){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack=t}}),Object.defineProperty(n,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff},set:function(t){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff=t}}),n.addProperty=function(t,n){e.addProperty(this.prototype,t,n)},n.addMethod=function(t,n){e.addMethod(this.prototype,t,n)},n.addChainableMethod=function(t,n,r){e.addChainableMethod(this.prototype,t,n,r)},n.overwriteProperty=function(t,n){e.overwriteProperty(this.prototype,t,n)},n.overwriteMethod=function(t,n){e.overwriteMethod(this.prototype,t,n)},n.overwriteChainableMethod=function(t,n,r){e.overwriteChainableMethod(this.prototype,t,n,r)},n.prototype.assert=function(t,n,s,a,u,c){var l=e.test(this,arguments);if(!0!==c&&(c=!1),!0!==r.showDiff&&(c=!1),!l){var n=e.getMessage(this,arguments),f=e.getActual(this,arguments);throw new i(n,{actual:f,expected:a,showDiff:c},r.includeStack?this.assert:o(this,"ssfi"))}},Object.defineProperty(n.prototype,"_obj",{get:function(){return o(this,"object")},set:function(t){o(this,"object",t)}})}},{"./config":18}],18:[function(t,e,n){e.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},{}],19:[function(t,e,n){e.exports=function(t,e){function n(t,n){n&&j(this,"message",n),t=t.toLowerCase();var r=j(this,"object"),i=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(r),"expected #{this} to be "+i+t,"expected #{this} not to be "+i+t)}function r(){j(this,"contains",!0)}function i(t,n){n&&j(this,"message",n);var r=j(this,"object"),i=!1;if("array"===e.type(r)&&"object"===e.type(t)){for(var o in r)if(e.eql(r[o],t)){i=!0;break}}else if("object"===e.type(t)){if(!j(this,"negate")){for(var s in t)new A(r).property(s,t[s]);return}var a={};for(var s in t)a[s]=r[s];i=e.eql(a,t)}else i=void 0!=r&&~r.indexOf(t);this.assert(i,"expected #{this} to include "+e.inspect(t),"expected #{this} to not include "+e.inspect(t))}function o(){var t=j(this,"object"),e=Object.prototype.toString.call(t);this.assert("[object Arguments]"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function s(t,e){e&&j(this,"message",e);var n=j(this,"object");return j(this,"deep")?this.eql(t):void this.assert(t===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}function a(t,n){n&&j(this,"message",n),this.assert(e.eql(t,j(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function u(t,e){e&&j(this,"message",e);var n=j(this,"object");if(j(this,"doLength")){new A(n,e).to.have.property("length");var r=n.length;this.assert(r>t,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",t,r)}else this.assert(n>t,"expected #{this} to be above "+t,"expected #{this} to be at most "+t)}function c(t,e){e&&j(this,"message",e);var n=j(this,"object");if(j(this,"doLength")){new A(n,e).to.have.property("length");var r=n.length;this.assert(r>=t,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",t,r)}else this.assert(n>=t,"expected #{this} to be at least "+t,"expected #{this} to be below "+t)}function l(t,e){e&&j(this,"message",e);var n=j(this,"object");if(j(this,"doLength")){new A(n,e).to.have.property("length");var r=n.length;this.assert(t>r,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",t,r)}else this.assert(t>n,"expected #{this} to be below "+t,"expected #{this} to be at least "+t)}function f(t,e){e&&j(this,"message",e);var n=j(this,"object");if(j(this,"doLength")){new A(n,e).to.have.property("length");var r=n.length;this.assert(t>=r,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",t,r)}else this.assert(t>=n,"expected #{this} to be at most "+t,"expected #{this} to be above "+t)}function h(t,n){n&&j(this,"message",n);var r=e.getName(t);this.assert(j(this,"object")instanceof t,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function p(t,n){n&&j(this,"message",n);var r=j(this,"object");this.assert(r.hasOwnProperty(t),"expected #{this} to have own property "+e.inspect(t),"expected #{this} to not have own property "+e.inspect(t))}function d(t,n,r){"string"==typeof n&&(r=n,n=null),r&&j(this,"message",r);var i=j(this,"object"),o=Object.getOwnPropertyDescriptor(Object(i),t);o&&n?this.assert(e.eql(n,o),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to match "+e.inspect(n)+", got "+e.inspect(o),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to not match "+e.inspect(n),n,o,!0):this.assert(o,"expected #{this} to have an own property descriptor for "+e.inspect(t),"expected #{this} to not have an own property descriptor for "+e.inspect(t)),j(this,"object",o)}function g(){j(this,"doLength",!0)}function v(t,e){e&&j(this,"message",e);var n=j(this,"object");new A(n,e).to.have.property("length");var r=n.length;this.assert(r==t,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",t,r)}function m(t,e){e&&j(this,"message",e);var n=j(this,"object");this.assert(t.exec(n),"expected #{this} to match "+t,"expected #{this} not to match "+t)}function y(t){var n,r=j(this,"object"),i=!0,o="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(e.type(t)){case"array":if(arguments.length>1)throw new Error(o);break;case"object":if(arguments.length>1)throw new Error(o);t=Object.keys(t);break;default:t=Array.prototype.slice.call(arguments)}if(!t.length)throw new Error("keys required");var s=Object.keys(r),a=t,u=t.length,c=j(this,"any"),l=j(this,"all");if(c||l||(l=!0),c){var f=a.filter(function(t){return~s.indexOf(t)});i=f.length>0}if(l&&(i=t.every(function(t){return~s.indexOf(t)}),j(this,"negate")||j(this,"contains")||(i=i&&t.length==s.length)),u>1){t=t.map(function(t){return e.inspect(t)});var h=t.pop();l&&(n=t.join(", ")+", and "+h),c&&(n=t.join(", ")+", or "+h)}else n=e.inspect(t[0]);n=(u>1?"keys ":"key ")+n,n=(j(this,"contains")?"contain ":"have ")+n,this.assert(i,"expected #{this} to "+n,"expected #{this} to not "+n,a.slice(0).sort(),s.sort(),!0)}function b(t,n,r){r&&j(this,"message",r);var i=j(this,"object");new A(i,r).is.a("function");var o=!1,s=null,a=null,u=null;0===arguments.length?(n=null,t=null):t&&(t instanceof RegExp||"string"==typeof t)?(n=t,t=null):t&&t instanceof Error?(s=t,t=null,n=null):"function"==typeof t?(a=t.prototype.name||t.name,"Error"===a&&t!==Error&&(a=(new t).name)):t=null;try{i()}catch(c){if(s)return this.assert(c===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s instanceof Error?s.toString():s,c instanceof Error?c.toString():c),j(this,"object",c),this;if(t&&(this.assert(c instanceof t,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",a,c instanceof Error?c.toString():c),!n))return j(this,"object",c),this;var l="error"===e.type(c)&&"message"in c?c.message:""+c;if(null!=l&&n&&n instanceof RegExp)return this.assert(n.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,l),j(this,"object",c),this;if(null!=l&&n&&"string"==typeof n)return this.assert(~l.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,l),j(this,"object",c),this;o=!0,u=c}var f="",h=null!==a?a:s?"#{exp}":"an error";o&&(f=" but #{act} was thrown"),this.assert(o===!0,"expected #{this} to throw "+h+f,"expected #{this} to not throw "+h+f,s instanceof Error?s.toString():s,u instanceof Error?u.toString():u),j(this,"object",u)}function x(t,n){n&&j(this,"message",n);var r=j(this,"object"),i=j(this,"itself"),o="function"!==e.type(r)||i?r[t]:r.prototype[t];this.assert("function"==typeof o,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}function w(t,n){n&&j(this,"message",n);var r=j(this,"object"),i=t(r);this.assert(i,"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),this.negate?!1:!0,i)}function _(t,e,n){return t.every(function(t){return n?e.some(function(e){return n(t,e)}):-1!==e.indexOf(t)})}function E(t,e,n){n&&j(this,"message",n);var r=j(this,"object");new A(t,n).to.have.property(e),new A(r).is.a("function");var i=t[e];r(),this.assert(i!==t[e],"expected ."+e+" to change","expected ."+e+" to not change")}function T(t,e,n){n&&j(this,"message",n);var r=j(this,"object");new A(t,n).to.have.property(e),new A(r).is.a("function");var i=t[e];r(),this.assert(t[e]-i>0,"expected ."+e+" to increase","expected ."+e+" to not increase")}function N(t,e,n){n&&j(this,"message",n);var r=j(this,"object");new A(t,n).to.have.property(e),new A(r).is.a("function");var i=t[e];r(),this.assert(t[e]-i<0,"expected ."+e+" to decrease","expected ."+e+" to not decrease")}var A=t.Assertion,j=(Object.prototype.toString,e.flag);["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach(function(t){A.addProperty(t,function(){return this})}),
A.addProperty("not",function(){j(this,"negate",!0)}),A.addProperty("deep",function(){j(this,"deep",!0)}),A.addProperty("any",function(){j(this,"any",!0),j(this,"all",!1)}),A.addProperty("all",function(){j(this,"all",!0),j(this,"any",!1)}),A.addChainableMethod("an",n),A.addChainableMethod("a",n),A.addChainableMethod("include",i,r),A.addChainableMethod("contain",i,r),A.addChainableMethod("contains",i,r),A.addChainableMethod("includes",i,r),A.addProperty("ok",function(){this.assert(j(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),A.addProperty("true",function(){this.assert(!0===j(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),A.addProperty("false",function(){this.assert(!1===j(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),A.addProperty("null",function(){this.assert(null===j(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),A.addProperty("undefined",function(){this.assert(void 0===j(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),A.addProperty("NaN",function(){this.assert(isNaN(j(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),A.addProperty("exist",function(){this.assert(null!=j(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),A.addProperty("empty",function(){this.assert(0===Object.keys(Object(j(this,"object"))).length,"expected #{this} to be empty","expected #{this} not to be empty")}),A.addProperty("arguments",o),A.addProperty("Arguments",o),A.addMethod("equal",s),A.addMethod("equals",s),A.addMethod("eq",s),A.addMethod("eql",a),A.addMethod("eqls",a),A.addMethod("above",u),A.addMethod("gt",u),A.addMethod("greaterThan",u),A.addMethod("least",c),A.addMethod("gte",c),A.addMethod("below",l),A.addMethod("lt",l),A.addMethod("lessThan",l),A.addMethod("most",f),A.addMethod("lte",f),A.addMethod("within",function(t,e,n){n&&j(this,"message",n);var r=j(this,"object"),i=t+".."+e;if(j(this,"doLength")){new A(r,n).to.have.property("length");var o=r.length;this.assert(o>=t&&e>=o,"expected #{this} to have a length within "+i,"expected #{this} to not have a length within "+i)}else this.assert(r>=t&&e>=r,"expected #{this} to be within "+i,"expected #{this} to not be within "+i)}),A.addMethod("instanceof",h),A.addMethod("instanceOf",h),A.addMethod("property",function(t,n,r){r&&j(this,"message",r);var i=!!j(this,"deep"),o=i?"deep property ":"property ",s=j(this,"negate"),a=j(this,"object"),u=i?e.getPathInfo(t,a):null,c=i?u.exists:e.hasProperty(t,a),l=i?u.value:a[t];if(s&&arguments.length>1){if(void 0===l)throw r=null!=r?r+": ":"",new Error(r+e.inspect(a)+" has no "+o+e.inspect(t))}else this.assert(c,"expected #{this} to have a "+o+e.inspect(t),"expected #{this} to not have "+o+e.inspect(t));arguments.length>1&&this.assert(n===l,"expected #{this} to have a "+o+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have a "+o+e.inspect(t)+" of #{act}",n,l),j(this,"object",l)}),A.addMethod("ownProperty",p),A.addMethod("haveOwnProperty",p),A.addMethod("ownPropertyDescriptor",d),A.addMethod("haveOwnPropertyDescriptor",d),A.addChainableMethod("length",v,g),A.addMethod("lengthOf",v),A.addMethod("match",m),A.addMethod("matches",m),A.addMethod("string",function(t,n){n&&j(this,"message",n);var r=j(this,"object");new A(r,n).is.a("string"),this.assert(~r.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))}),A.addMethod("keys",y),A.addMethod("key",y),A.addMethod("throw",b),A.addMethod("throws",b),A.addMethod("Throw",b),A.addMethod("respondTo",x),A.addMethod("respondsTo",x),A.addProperty("itself",function(){j(this,"itself",!0)}),A.addMethod("satisfy",w),A.addMethod("satisfies",w),A.addMethod("closeTo",function(t,n,r){r&&j(this,"message",r);var i=j(this,"object");if(new A(i,r).is.a("number"),"number"!==e.type(t)||"number"!==e.type(n))throw new Error("the arguments to closeTo must be numbers");this.assert(Math.abs(i-t)<=n,"expected #{this} to be close to "+t+" +/- "+n,"expected #{this} not to be close to "+t+" +/- "+n)}),A.addMethod("members",function(t,n){n&&j(this,"message",n);var r=j(this,"object");new A(r).to.be.an("array"),new A(t).to.be.an("array");var i=j(this,"deep")?e.eql:void 0;return j(this,"contains")?this.assert(_(t,r,i),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",r,t):void this.assert(_(r,t,i)&&_(t,r,i),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",r,t)}),A.addChainableMethod("change",E),A.addChainableMethod("changes",E),A.addChainableMethod("increase",T),A.addChainableMethod("increases",T),A.addChainableMethod("decrease",N),A.addChainableMethod("decreases",N),A.addProperty("extensible",function(){var t,e=j(this,"object");try{t=Object.isExtensible(e)}catch(n){if(!(n instanceof TypeError))throw n;t=!1}this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")}),A.addProperty("sealed",function(){var t,e=j(this,"object");try{t=Object.isSealed(e)}catch(n){if(!(n instanceof TypeError))throw n;t=!0}this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")}),A.addProperty("frozen",function(){var t,e=j(this,"object");try{t=Object.isFrozen(e)}catch(n){if(!(n instanceof TypeError))throw n;t=!0}this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")})}},{}],20:[function(t,e,n){e.exports=function(t,e){var n=t.Assertion,r=e.flag,i=t.assert=function(e,r){var i=new n(null,null,t.assert);i.assert(e,r,"[ negation message unavailable ]")};i.fail=function(e,n,r,o){throw r=r||"assert.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:o},i.fail)},i.isOk=function(t,e){new n(t,e).is.ok},i.isNotOk=function(t,e){new n(t,e).is.not.ok},i.equal=function(t,e,o){var s=new n(t,o,i.equal);s.assert(e==r(s,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t)},i.notEqual=function(t,e,o){var s=new n(t,o,i.notEqual);s.assert(e!=r(s,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t)},i.strictEqual=function(t,e,r){new n(t,r).to.equal(e)},i.notStrictEqual=function(t,e,r){new n(t,r).to.not.equal(e)},i.deepEqual=function(t,e,r){new n(t,r).to.eql(e)},i.notDeepEqual=function(t,e,r){new n(t,r).to.not.eql(e)},i.isAbove=function(t,e,r){new n(t,r).to.be.above(e)},i.isAtLeast=function(t,e,r){new n(t,r).to.be.least(e)},i.isBelow=function(t,e,r){new n(t,r).to.be.below(e)},i.isAtMost=function(t,e,r){new n(t,r).to.be.most(e)},i.isTrue=function(t,e){new n(t,e).is["true"]},i.isNotTrue=function(t,e){new n(t,e).to.not.equal(!0)},i.isFalse=function(t,e){new n(t,e).is["false"]},i.isNotFalse=function(t,e){new n(t,e).to.not.equal(!1)},i.isNull=function(t,e){new n(t,e).to.equal(null)},i.isNotNull=function(t,e){new n(t,e).to.not.equal(null)},i.isNaN=function(t,e){new n(t,e).to.be.NaN},i.isNotNaN=function(t,e){new n(t,e).not.to.be.NaN},i.isUndefined=function(t,e){new n(t,e).to.equal(void 0)},i.isDefined=function(t,e){new n(t,e).to.not.equal(void 0)},i.isFunction=function(t,e){new n(t,e).to.be.a("function")},i.isNotFunction=function(t,e){new n(t,e).to.not.be.a("function")},i.isObject=function(t,e){new n(t,e).to.be.a("object")},i.isNotObject=function(t,e){new n(t,e).to.not.be.a("object")},i.isArray=function(t,e){new n(t,e).to.be.an("array")},i.isNotArray=function(t,e){new n(t,e).to.not.be.an("array")},i.isString=function(t,e){new n(t,e).to.be.a("string")},i.isNotString=function(t,e){new n(t,e).to.not.be.a("string")},i.isNumber=function(t,e){new n(t,e).to.be.a("number")},i.isNotNumber=function(t,e){new n(t,e).to.not.be.a("number")},i.isBoolean=function(t,e){new n(t,e).to.be.a("boolean")},i.isNotBoolean=function(t,e){new n(t,e).to.not.be.a("boolean")},i.typeOf=function(t,e,r){new n(t,r).to.be.a(e)},i.notTypeOf=function(t,e,r){new n(t,r).to.not.be.a(e)},i.instanceOf=function(t,e,r){new n(t,r).to.be.instanceOf(e)},i.notInstanceOf=function(t,e,r){new n(t,r).to.not.be.instanceOf(e)},i.include=function(t,e,r){new n(t,r,i.include).include(e)},i.notInclude=function(t,e,r){new n(t,r,i.notInclude).not.include(e)},i.match=function(t,e,r){new n(t,r).to.match(e)},i.notMatch=function(t,e,r){new n(t,r).to.not.match(e)},i.property=function(t,e,r){new n(t,r).to.have.property(e)},i.notProperty=function(t,e,r){new n(t,r).to.not.have.property(e)},i.deepProperty=function(t,e,r){new n(t,r).to.have.deep.property(e)},i.notDeepProperty=function(t,e,r){new n(t,r).to.not.have.deep.property(e)},i.propertyVal=function(t,e,r,i){new n(t,i).to.have.property(e,r)},i.propertyNotVal=function(t,e,r,i){new n(t,i).to.not.have.property(e,r)},i.deepPropertyVal=function(t,e,r,i){new n(t,i).to.have.deep.property(e,r)},i.deepPropertyNotVal=function(t,e,r,i){new n(t,i).to.not.have.deep.property(e,r)},i.lengthOf=function(t,e,r){new n(t,r).to.have.length(e)},i["throws"]=function(t,e,i,o){("string"==typeof e||e instanceof RegExp)&&(i=e,e=null);var s=new n(t,o).to["throw"](e,i);return r(s,"object")},i.doesNotThrow=function(t,e,r){"string"==typeof e&&(r=e,e=null),new n(t,r).to.not.Throw(e)},i.operator=function(t,i,o,s){var a;switch(i){case"==":a=t==o;break;case"===":a=t===o;break;case">":a=t>o;break;case">=":a=t>=o;break;case"<":a=o>t;break;case"<=":a=o>=t;break;case"!=":a=t!=o;break;case"!==":a=t!==o;break;default:throw new Error('Invalid operator "'+i+'"')}var u=new n(a,s);u.assert(!0===r(u,"object"),"expected "+e.inspect(t)+" to be "+i+" "+e.inspect(o),"expected "+e.inspect(t)+" to not be "+i+" "+e.inspect(o))},i.closeTo=function(t,e,r,i){new n(t,i).to.be.closeTo(e,r)},i.sameMembers=function(t,e,r){new n(t,r).to.have.same.members(e)},i.sameDeepMembers=function(t,e,r){new n(t,r).to.have.same.deep.members(e)},i.includeMembers=function(t,e,r){new n(t,r).to.include.members(e)},i.changes=function(t,e,r){new n(t).to.change(e,r)},i.doesNotChange=function(t,e,r){new n(t).to.not.change(e,r)},i.increases=function(t,e,r){new n(t).to.increase(e,r)},i.doesNotIncrease=function(t,e,r){new n(t).to.not.increase(e,r)},i.decreases=function(t,e,r){new n(t).to.decrease(e,r)},i.doesNotDecrease=function(t,e,r){new n(t).to.not.decrease(e,r)},i.ifError=function(t){if(t)throw t},i.isExtensible=function(t,e){new n(t,e).to.be.extensible},i.isNotExtensible=function(t,e){new n(t,e).to.not.be.extensible},i.isSealed=function(t,e){new n(t,e).to.be.sealed},i.isNotSealed=function(t,e){new n(t,e).to.not.be.sealed},i.isFrozen=function(t,e){new n(t,e).to.be.frozen},i.isNotFrozen=function(t,e){new n(t,e).to.not.be.frozen},function o(t,e){return i[e]=i[t],o}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")}},{}],21:[function(t,e,n){e.exports=function(t,e){t.expect=function(e,n){return new t.Assertion(e,n)},t.expect.fail=function(e,n,r,i){throw r=r||"expect.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:i},t.expect.fail)}}},{}],22:[function(t,e,n){e.exports=function(t,e){function n(){function e(){return this instanceof String||this instanceof Number||this instanceof Boolean?new r(this.valueOf(),null,e):new r(this,null,e)}function n(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:n,get:e,configurable:!0});var i={};return i.fail=function(e,n,r,o){throw r=r||"should.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:o},i.fail)},i.equal=function(t,e,n){new r(t,n).to.equal(e)},i.Throw=function(t,e,n,i){new r(t,i).to.Throw(e,n)},i.exist=function(t,e){new r(t,e).to.exist},i.not={},i.not.equal=function(t,e,n){new r(t,n).to.not.equal(e)},i.not.Throw=function(t,e,n,i){new r(t,i).to.not.Throw(e,n)},i.not.exist=function(t,e){new r(t,e).to.not.exist},i["throw"]=i.Throw,i.not["throw"]=i.not.Throw,i}var r=t.Assertion;t.should=n,t.Should=n}},{}],23:[function(t,e,n){var r=t("./transferFlags"),i=t("./flag"),o=t("../config"),s="__proto__"in Object,a=/^(?:length|name|arguments|caller)$/,u=Function.prototype.call,c=Function.prototype.apply;e.exports=function(t,e,n,l){"function"!=typeof l&&(l=function(){});var f={method:n,chainingBehavior:l};t.__methods||(t.__methods={}),t.__methods[e]=f,Object.defineProperty(t,e,{get:function(){f.chainingBehavior.call(this);var e=function h(){var t=i(this,"ssfi");t&&o.includeStack===!1&&i(this,"ssfi",h);var e=f.method.apply(this,arguments);return void 0===e?this:e};if(s){var n=e.__proto__=Object.create(this);n.call=u,n.apply=c}else{var l=Object.getOwnPropertyNames(t);l.forEach(function(n){if(!a.test(n)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r)}})}return r(this,e),e},configurable:!0})}},{"../config":18,"./flag":26,"./transferFlags":42}],24:[function(t,e,n){var r=t("../config"),i=t("./flag");e.exports=function(t,e,n){t[e]=function(){var o=i(this,"ssfi");o&&r.includeStack===!1&&i(this,"ssfi",t[e]);var s=n.apply(this,arguments);return void 0===s?this:s}}},{"../config":18,"./flag":26}],25:[function(t,e,n){var r=t("../config"),i=t("./flag");e.exports=function(t,e,n){Object.defineProperty(t,e,{get:function o(){var t=i(this,"ssfi");t&&r.includeStack===!1&&i(this,"ssfi",o);var e=n.call(this);return void 0===e?this:e},configurable:!0})}},{"../config":18,"./flag":26}],26:[function(t,e,n){e.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));return 3!==arguments.length?r[e]:void(r[e]=n)}},{}],27:[function(t,e,n){e.exports=function(t,e){return e.length>4?e[4]:t._obj}},{}],28:[function(t,e,n){e.exports=function(t){var e=[];for(var n in t)e.push(n);return e}},{}],29:[function(t,e,n){var r=t("./flag"),i=t("./getActual"),o=(t("./inspect"),t("./objDisplay"));e.exports=function(t,e){var n=r(t,"negate"),s=r(t,"object"),a=e[3],u=i(t,e),c=n?e[2]:e[1],l=r(t,"message");return"function"==typeof c&&(c=c()),c=c||"",c=c.replace(/#{this}/g,o(s)).replace(/#{act}/g,o(u)).replace(/#{exp}/g,o(a)),l?l+": "+c:c}},{"./flag":26,"./getActual":27,"./inspect":36,"./objDisplay":37}],30:[function(t,e,n){e.exports=function(t){if(t.name)return t.name;var e=/^\s?function ([^(]*)\(/.exec(t);return e&&e[1]?e[1]:""}},{}],31:[function(t,e,n){function r(t){var e=t.replace(/([^\\])\[/g,"$1.["),n=e.match(/(\\\.|[^.]+?)+/g);return n.map(function(t){var e=/^\[(\d+)\]$/,n=e.exec(t);return n?{i:parseFloat(n[1])}:{p:t.replace(/\\([.\[\]])/g,"$1")}})}function i(t,e,n){var r,i=e;n=void 0===n?t.length:n;for(var o=0,s=n;s>o;o++){var a=t[o];i?("undefined"!=typeof a.p?i=i[a.p]:"undefined"!=typeof a.i&&(i=i[a.i]),o==s-1&&(r=i)):r=void 0}return r}var o=t("./hasProperty");e.exports=function(t,e){var n=r(t),s=n[n.length-1],a={parent:n.length>1?i(n,e,n.length-1):e,name:s.p||s.i,value:i(n,e)};return a.exists=o(a.name,a.parent),a}},{"./hasProperty":34}],32:[function(t,e,n){var r=t("./getPathInfo");e.exports=function(t,e){var n=r(t,e);return n.value}},{"./getPathInfo":31}],33:[function(t,e,n){e.exports=function(t){function e(t){-1===n.indexOf(t)&&n.push(t)}for(var n=Object.getOwnPropertyNames(t),r=Object.getPrototypeOf(t);null!==r;)Object.getOwnPropertyNames(r).forEach(e),r=Object.getPrototypeOf(r);return n}},{}],34:[function(t,e,n){var r=t("type-detect"),i={number:Number,string:String};e.exports=function(t,e){var n=r(e);return"null"===n||"undefined"===n?!1:(i[n]&&"object"!=typeof e&&(e=new i[n](e)),t in e)}},{"type-detect":48}],35:[function(t,e,n){var n=e.exports={};n.test=t("./test"),n.type=t("type-detect"),n.getMessage=t("./getMessage"),n.getActual=t("./getActual"),n.inspect=t("./inspect"),n.objDisplay=t("./objDisplay"),n.flag=t("./flag"),n.transferFlags=t("./transferFlags"),n.eql=t("deep-eql"),n.getPathValue=t("./getPathValue"),n.getPathInfo=t("./getPathInfo"),n.hasProperty=t("./hasProperty"),n.getName=t("./getName"),n.addProperty=t("./addProperty"),n.addMethod=t("./addMethod"),n.overwriteProperty=t("./overwriteProperty"),n.overwriteMethod=t("./overwriteMethod"),n.addChainableMethod=t("./addChainableMethod"),n.overwriteChainableMethod=t("./overwriteChainableMethod")},{"./addChainableMethod":23,"./addMethod":24,"./addProperty":25,"./flag":26,"./getActual":27,"./getMessage":29,"./getName":30,"./getPathInfo":31,"./getPathValue":32,"./hasProperty":34,"./inspect":36,"./objDisplay":37,"./overwriteChainableMethod":38,"./overwriteMethod":39,"./overwriteProperty":40,"./test":41,"./transferFlags":42,"deep-eql":44,"type-detect":48}],36:[function(t,e,n){function r(t,e,n,r){var o={showHidden:e,seen:[],stylize:function(t){return t}};return i(o,t,"undefined"==typeof n?2:n)}function i(t,e,r){if(e&&"function"==typeof e.inspect&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var d=e.inspect(r);return"string"!=typeof d&&(d=i(t,d,r)),d}var b=o(t,e);if(b)return b;if(y(e)){if("outerHTML"in e)return e.outerHTML;try{if(document.xmlVersion){var x=new XMLSerializer;return x.serializeToString(e)}var w="http://www.w3.org/1999/xhtml",_=document.createElementNS(w,"_");return _.appendChild(e.cloneNode(!1)),html=_.innerHTML.replace("><",">"+e.innerHTML+"<"),_.innerHTML="",html}catch(E){}}var T=m(e),N=t.showHidden?v(e):T;if(0===N.length||p(e)&&(1===N.length&&"stack"===N[0]||2===N.length&&"description"===N[0]&&"stack"===N[1])){if("function"==typeof e){var A=g(e),j=A?": "+A:"";return t.stylize("[Function"+j+"]","special")}if(f(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(h(e))return t.stylize(Date.prototype.toUTCString.call(e),"date");if(p(e))return s(e)}var k="",O=!1,C=["{","}"];if(l(e)&&(O=!0,C=["[","]"]),"function"==typeof e){var A=g(e),j=A?": "+A:"";k=" [Function"+j+"]"}if(f(e)&&(k=" "+RegExp.prototype.toString.call(e)),h(e)&&(k=" "+Date.prototype.toUTCString.call(e)),p(e))return s(e);if(0===N.length&&(!O||0==e.length))return C[0]+k+C[1];if(0>r)return f(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var S;return S=O?a(t,e,r,T,N):N.map(function(n){return u(t,e,r,T,n,O)}),t.seen.pop(),c(S,k,C)}function o(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string");case"number":return 0===e&&1/e===-(1/0)?t.stylize("-0","number"):t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean")}return null===e?t.stylize("null","null"):void 0}function s(t){return"["+Error.prototype.toString.call(t)+"]"}function a(t,e,n,r,i){for(var o=[],s=0,a=e.length;a>s;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(u(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(u(t,e,n,r,i,!0))}),o}function u(t,e,n,r,o,s){var a,u;if(e.__lookupGetter__&&(e.__lookupGetter__(o)?u=e.__lookupSetter__(o)?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.__lookupSetter__(o)&&(u=t.stylize("[Setter]","special"))),r.indexOf(o)<0&&(a="["+o+"]"),u||(t.seen.indexOf(e[o])<0?(u=null===n?i(t,e[o],null):i(t,e[o],n-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),"undefined"==typeof a){if(s&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function c(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function l(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===d(t)}function f(t){return"object"==typeof t&&"[object RegExp]"===d(t)}function h(t){return"object"==typeof t&&"[object Date]"===d(t)}function p(t){return"object"==typeof t&&"[object Error]"===d(t)}function d(t){return Object.prototype.toString.call(t)}var g=t("./getName"),v=t("./getProperties"),m=t("./getEnumerableProperties");e.exports=r;var y=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}},{"./getEnumerableProperties":28,"./getName":30,"./getProperties":33}],37:[function(t,e,n){var r=t("./inspect"),i=t("../config");e.exports=function(t){var e=r(t),n=Object.prototype.toString.call(t);if(i.truncateThreshold&&e.length>=i.truncateThreshold){if("[object Function]"===n)return t.name&&""!==t.name?"[Function: "+t.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+t.length+") ]";if("[object Object]"===n){var o=Object.keys(t),s=o.length>2?o.splice(0,2).join(", ")+", ...":o.join(", ");return"{ Object ("+s+") }"}return e}return e}},{"../config":18,"./inspect":36}],38:[function(t,e,n){e.exports=function(t,e,n,r){var i=t.__methods[e],o=i.chainingBehavior;i.chainingBehavior=function(){var t=r(o).call(this);return void 0===t?this:t};var s=i.method;i.method=function(){var t=n(s).apply(this,arguments);return void 0===t?this:t}}},{}],39:[function(t,e,n){e.exports=function(t,e,n){var r=t[e],i=function(){return this};r&&"function"==typeof r&&(i=r),t[e]=function(){var t=n(i).apply(this,arguments);return void 0===t?this:t}}},{}],40:[function(t,e,n){e.exports=function(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e),i=function(){};r&&"function"==typeof r.get&&(i=r.get),Object.defineProperty(t,e,{get:function(){var t=n(i).call(this);return void 0===t?this:t},configurable:!0})}},{}],41:[function(t,e,n){var r=t("./flag");e.exports=function(t,e){var n=r(t,"negate"),i=e[0];return n?!i:i}},{"./flag":26}],42:[function(t,e,n){e.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));e.__flags||(e.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var i in r)(n||"object"!==i&&"ssfi"!==i&&"message"!=i)&&(e.__flags[i]=r[i])}},{}],43:[function(t,e,n){function r(){function t(t,n){Object.keys(n).forEach(function(r){~e.indexOf(r)||(t[r]=n[r])})}var e=[].slice.call(arguments);return function(){for(var e=[].slice.call(arguments),n=0,r={};n<e.length;n++)t(r,e[n]);return r}}function i(t,e,n){var i=r("name","message","stack","constructor","toJSON"),o=i(e||{});this.message=t||"Unspecified AssertionError",this.showDiff=!1;for(var s in o)this[s]=o[s];n=n||arguments.callee,n&&Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=(new Error).stack}e.exports=i,i.prototype=Object.create(Error.prototype),i.prototype.name="AssertionError",i.prototype.constructor=i,i.prototype.toJSON=function(t){var e=r("constructor","toJSON","stack"),n=e({name:this.name},this);return!1!==t&&this.stack&&(n.stack=this.stack),n}},{}],44:[function(t,e,n){e.exports=t("./lib/eql")},{"./lib/eql":45}],45:[function(t,e,n){function r(t,e,n){return i(t,e)?!0:"date"===g(t)?s(t,e):"regexp"===g(t)?a(t,e):d.isBuffer(t)?f(t,e):"arguments"===g(t)?u(t,e,n):o(t,e)?"object"!==g(t)&&"object"!==g(e)&&"array"!==g(t)&&"array"!==g(e)?i(t,e):p(t,e,n):!1}function i(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function o(t,e){return g(t)===g(e)}function s(t,e){return"date"!==g(e)?!1:i(t.getTime(),e.getTime())}function a(t,e){return"regexp"!==g(e)?!1:i(t.toString(),e.toString())}function u(t,e,n){return"arguments"!==g(e)?!1:(t=[].slice.call(t),e=[].slice.call(e),r(t,e,n))}function c(t){var e=[];for(var n in t)e.push(n);return e}function l(t,e){if(t.length!==e.length)return!1;for(var n=0,r=!0;n<t.length;n++)if(t[n]!==e[n]){r=!1;break}return r}function f(t,e){return d.isBuffer(e)?l(t,e):!1}function h(t){return null!==t&&void 0!==t}function p(t,e,n){if(!h(t)||!h(e))return!1;if(t.prototype!==e.prototype)return!1;var i;if(n){for(i=0;i<n.length;i++)if(n[i][0]===t&&n[i][1]===e||n[i][0]===e&&n[i][1]===t)return!0}else n=[];try{var o=c(t),s=c(e)}catch(a){return!1}if(o.sort(),s.sort(),!l(o,s))return!1;n.push([t,e]);var u;for(i=o.length-1;i>=0;i--)if(u=o[i],!r(t[u],e[u],n))return!1;return!0}var d,g=t("type-detect");try{d=t("buffer").Buffer}catch(v){d={},d.isBuffer=function(){return!1}}e.exports=r},{buffer:7,"type-detect":46}],46:[function(t,e,n){e.exports=t("./lib/type")},{"./lib/type":47}],47:[function(t,e,n){function r(t){var e=Object.prototype.toString.call(t);return o[e]?o[e]:null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}function i(){this.tests={}}var n=e.exports=r,o={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};n.Library=i,i.prototype.of=r,i.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},i.prototype.test=function(t,e){if(e===r(t))return!0;var n=this.tests[e];if(n&&"regexp"===r(n))return n.test(t);if(n&&"function"===r(n))return n(t);throw new ReferenceError('Type test "'+e+'" not defined or invalid.')}},{}],48:[function(t,e,n){arguments[4][46][0].apply(n,arguments)},{"./lib/type":49,dup:46}],49:[function(t,e,n){function r(t){var e=Object.prototype.toString.call(t).match(o)[1].toLowerCase();return"function"==typeof Promise&&t instanceof Promise?"promise":null===t?"null":void 0===t?"undefined":e}function i(){return this instanceof i?void(this.tests={}):new i}var n=e.exports=r,o=/^\[object (.*)\]$/;n.Library=i,i.prototype.of=r,i.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},i.prototype.test=function(t,e){if(e===r(t))return!0;var n=this.tests[e];if(n&&"regexp"===r(n))return n.test(t);if(n&&"function"===r(n))return n(t);throw new ReferenceError('Type test "'+e+'" not defined or invalid.')}},{}],50:[function(t,e,n){!function(t,r){"use strict";var i=function(t){if("object"!=typeof t.document)throw new Error("Cookies.js requires a `window` with a `document` object");var e=function(t,n,r){return 1===arguments.length?e.get(t):e.set(t,n,r)};return e._document=t.document,e._cacheKeyPrefix="cookey.",e._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),e.defaults={path:"/",secure:!1},e.get=function(t){e._cachedDocumentCookie!==e._document.cookie&&e._renewCache();var n=e._cache[e._cacheKeyPrefix+t];return n===r?r:decodeURIComponent(n)},e.set=function(t,n,i){return i=e._getExtendedOptions(i),i.expires=e._getExpiresDate(n===r?-1:i.expires),e._document.cookie=e._generateCookieString(t,n,i),e},e.expire=function(t,n){return e.set(t,r,n)},e._getExtendedOptions=function(t){return{path:t&&t.path||e.defaults.path,domain:t&&t.domain||e.defaults.domain,expires:t&&t.expires||e.defaults.expires,secure:t&&t.secure!==r?t.secure:e.defaults.secure}},e._isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},e._getExpiresDate=function(t,n){if(n=n||new Date,"number"==typeof t?t=t===1/0?e._maxExpireDate:new Date(n.getTime()+1e3*t):"string"==typeof t&&(t=new Date(t)),t&&!e._isValidDate(t))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return t},e._generateCookieString=function(t,e,n){t=t.replace(/[^#$&+\^`|]/g,encodeURIComponent),t=t.replace(/\(/g,"%28").replace(/\)/g,"%29"),e=(e+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=t+"="+e;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},e._getCacheFromString=function(t){for(var n={},i=t?t.split("; "):[],o=0;o<i.length;o++){var s=e._getKeyValuePairFromCookieString(i[o]);n[e._cacheKeyPrefix+s.key]===r&&(n[e._cacheKeyPrefix+s.key]=s.value)}return n},e._getKeyValuePairFromCookieString=function(t){var e=t.indexOf("=");e=0>e?t.length:e;var n,r=t.substr(0,e);try{n=decodeURIComponent(r)}catch(i){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+r+'"',i)}return{key:n,value:t.substr(e+1)}},e._renewCache=function(){e._cache=e._getCacheFromString(e._document.cookie),e._cachedDocumentCookie=e._document.cookie},e._areEnabled=function(){var t="cookies.js",n="1"===e.set(t,1).get(t);return e.expire(t),n},e.enabled=e._areEnabled(),e},o="object"==typeof t.document?i(t):i;"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof n?("object"==typeof e&&"object"==typeof e.exports&&(n=e.exports=o),n.Cookies=o):t.Cookies=o}("undefined"==typeof window?this:window)},{}],51:[function(t,e,n){(function(e){(function(){var r;r=t("./osc-utilities"),n.fromBuffer=function(t,n){return t instanceof ArrayBuffer?t=new e(new Uint8Array(t)):t instanceof Uint8Array&&(t=new e(t)),r.fromOscPacket(t,n)},n.toBuffer=function(t,e,n){return"string"==typeof t?r.toOscPacket({address:t,args:e},n):r.toOscPacket(t,e)},n.applyAddressTransform=function(t,e){return r.applyTransform(t,r.addressTransform(e))},n.applyMessageTransform=function(t,e){return r.applyTransform(t,r.messageTransform(e))}}).call(this)}).call(this,t("buffer").Buffer)},{"./osc-utilities":52,buffer:7}],52:[function(t,e,n){(function(e){(function(){var r,i,o,s,a,u,c,l,f,h={}.hasOwnProperty;o=t("binpack"),n.concat=function(t){var n,i,o,s,a,u,c,l,f,h;if(!r(t))throw new Error("concat must take an array of buffers");for(a=0,l=t.length;l>a;a++)if(n=t[a],!e.isBuffer(n))throw new Error("concat must take an array of buffers");for(s=0,u=0,f=t.length;f>u;u++)n=t[u],s+=n.length;for(o=new e(s),i=0,c=0,h=t.length;h>c;c++)n=t[c],n.copy(o,i),i+=n.length;return o},n.toOscString=function(t,n){var r,o,s,a;if("string"!=typeof t)throw new Error("can't pack a non-string into an osc-string");if(o=t.indexOf("\x00"),-1!==o&&n)throw i("Can't pack an osc-string that contains NULL characters");for(-1!==o&&(t=t.slice(0,o)),r=s=0,a=l(t);a>=0?a>s:s>a;r=a>=0?++s:--s)t+="\x00";return new e(t)},n.splitOscString=function(t,n){var r,o,s,a,u,c,f,h;if(!e.isBuffer(t))throw i("Can't split something that isn't a buffer");if(s=t.toString("utf8"),o=s.indexOf("\x00"),-1===o){if(n)throw new Error("All osc-strings must contain a null character");return{string:s,rest:new e(0)}}if(c=s.slice(0,o),u=e.byteLength(c)+l(c),n&&u>t.length)throw i("Not enough padding for osc-string");if(n)for(r=f=h=e.byteLength(c);u>=h?u>f:f>u;r=u>=h?++f:--f)if(0!==t[r])throw i("Not enough or incorrect padding for osc-string");return a=t.slice(u,t.length),{string:c,rest:a}},n.splitInteger=function(t,e){var n,r,i,s;if(null==e&&(e="Int32"),n=o["pack"+e](0).length,t.length<n)throw new Error("buffer is not big enough for integer type");return r=0,s=o["unpack"+e](t.slice(0,n),"big"),i=t.slice(n,t.length),{integer:s,rest:i}},n.toIntegerBuffer=function(t,e){if(null==e&&(e="Int32"),"number"!=typeof t)throw new Error("cannot pack a non-number into an integer buffer");return o["pack"+e](t,"big")},c={s:{representation:"string",split:function(t,e){var r;return r=n.splitOscString(t,e),{value:r.string,rest:r.rest}},toArg:function(t,e){if("string"!=typeof t)throw new Error("expected string");return n.toOscString(t,e)}},i:{representation:"integer",split:function(t,e){var r;return r=n.splitInteger(t),{value:r.integer,rest:r.rest}},toArg:function(t,e){if("number"!=typeof t)throw new Error("expected number");return n.toIntegerBuffer(t)}},t:{representation:"timetag",split:function(t,e){var r;return r=n.splitInteger(t,"UInt64"),{value:r.integer,rest:r.rest}},toArg:function(t,e){if("number"!=typeof t)throw new Error("expected number");return n.toIntegerBuffer(t,"UInt64")}},f:{representation:"float",split:function(t,e){return{value:o.unpackFloat32(t.slice(0,4),"big"),rest:t.slice(4,t.length)}},toArg:function(t,e){if("number"!=typeof t)throw new Error("expected number");return o.packFloat32(t,"big")}},d:{representation:"double",split:function(t,e){return{value:o.unpackFloat64(t.slice(0,8),"big"),rest:t.slice(8,t.length)}},toArg:function(t,e){if("number"!=typeof t)throw new Error("expected number");return o.packFloat64(t,"big")}},b:{representation:"blob",split:function(t,e){var r,i;return i=n.splitInteger(t),
r=i.integer,t=i.rest,{value:t.slice(0,r),rest:t.slice(r,t.length)}},toArg:function(t,r){var i;if(!e.isBuffer(t))throw new Error("expected node.js Buffer");return i=n.toIntegerBuffer(t.length),n.concat([i,t])}},T:{representation:"true",split:function(t,e){return{rest:t,value:!0}},toArg:function(t,n){if(!t&&n)throw new Error("true must be true");return new e(0)}},F:{representation:"false",split:function(t,e){return{rest:t,value:!1}},toArg:function(t,n){if(t&&n)throw new Error("false must be false");return new e(0)}},N:{representation:"null",split:function(t,e){return{rest:t,value:null}},toArg:function(t,n){if(t&&n)throw new Error("null must be false");return new e(0)}},I:{representation:"bang",split:function(t,e){return{rest:t,value:"bang"}},toArg:function(t,n){return new e(0)}}},n.oscTypeCodeToTypeString=function(t){var e;return null!=(e=c[t])?e.representation:void 0},n.typeStringToOscTypeCode=function(t){var e,n;for(e in c)if(h.call(c,e)&&(n=c[e].representation,n===t))return e;return null},n.argToTypeCode=function(t,r){var i,o;if(null!=(null!=t?t.type:void 0)&&"string"==typeof t.type&&null!=(i=n.typeStringToOscTypeCode(t.type)))return i;if(o=null!=(null!=t?t.value:void 0)?t.value:t,r&&null==o)throw new Error("Argument has no value");if("string"==typeof o)return"s";if("number"==typeof o)return"f";if(e.isBuffer(o))return"b";if("boolean"==typeof o)return o?"T":"F";if(null===o)return"N";throw new Error("I don't know what type this is supposed to be.")},n.splitOscArgument=function(t,e,r){var i;if(i=n.typeStringToOscTypeCode(e),null!=i)return c[i].split(t,r);throw new Error("I don't understand how I'm supposed to unpack "+e)},n.toOscArgument=function(t,e,r){var i;if(i=n.typeStringToOscTypeCode(e),null!=i)return c[i].toArg(t,r);throw new Error("I don't know how to pack "+e)},n.fromOscMessage=function(t,e){var r,o,s,a,u,c,l,f,h,p,d,g;if(d=n.splitOscString(t,e),r=d.string,t=d.rest,e&&"/"!==r[0])throw i("addresses must start with /");if(!t.length)return{address:r,args:[]};if(g=n.splitOscString(t,e),f=g.string,t=g.rest,","!==f[0]){if(e)throw i("Argument lists must begin with ,");return{address:r,args:[]}}for(f=f.slice(1,+f.length+1||9e9),s=[],a=[s],h=0,p=f.length;p>h;h++)if(c=f[h],"["!==c)if("]"!==c){if(l=n.oscTypeCodeToTypeString(c),null==l)throw new Error("I don't understand the argument code "+c);o=n.splitOscArgument(t,l,e),null!=o&&(t=o.rest),a[a.length-1].push({type:l,value:null!=o?o.value:void 0})}else if(a.length<=1){if(e)throw new i("Mismatched ']' character.")}else u=a.pop(),a[a.length-1].push({type:"array",value:u});else a.push([]);if(1!==a.length&&e)throw new i("Mismatched '[' character");return{address:r,args:s,oscType:"message"}},n.fromOscBundle=function(t,e){var r,i,o,s,a;if(s=n.splitOscString(t,e),r=s.string,t=s.rest,"#bundle"!==r)throw new Error("osc-bundles must begin with #bundle");return a=n.splitInteger(t,"UInt64"),o=a.integer,t=a.rest,i=u(t,function(t){return n.fromOscPacket(t,e)}),{timetag:o,elements:i,oscType:"bundle"}},n.fromOscPacket=function(t,e){return a(t,e)?n.fromOscBundle(t,e):n.fromOscMessage(t,e)},s=function(t){return r(t)?t:"array"===(null!=t?t.type:void 0)&&r(null!=t?t.value:void 0)?t.value:null!=t&&null==t.type&&r(t.value)?t.value:null},f=function(t,e){var r,i,o,a,u,c,l,h,p,d,g;for(a="",o=[],p=0,d=t.length;d>p;p++)r=t[p],null==s(r)?(l=n.argToTypeCode(r,e),null!=l&&(h=null!=r?r.value:void 0,void 0===h&&(h=r),i=n.toOscArgument(h,n.oscTypeCodeToTypeString(l),e),null!=i&&(o.push(i),a+=l))):(g=f(s(r),e),c=g[0],u=g[1],a+="["+c+"]",o=o.concat(u));return[a,o]},n.toOscMessage=function(t,e){var i,o,s,a,u,c,l,h;if(i=null!=(null!=t?t.address:void 0)?t.address:t,"string"!=typeof i)throw new Error("message must contain an address");return s=null!=t?t.args:void 0,void 0===s&&(s=[]),r(s)||(a=s,s=[],s[0]=a),u=n.toOscString(i,e),h=f(s,e),l=h[0],c=h[1],l=","+l,o=n.concat(c),l=n.toOscString(l),n.concat([u,l,o])},n.toOscBundle=function(t,e){var o,s,a,u,c,l,f,h,p,d,g,v,m,y,b;if(e&&null==(null!=t?t.timetag:void 0))throw i("bundles must have timetags.");for(g=null!=(y=null!=t?t.timetag:void 0)?y:0,c=null!=(b=null!=t?t.elements:void 0)?b:[],r(c)||(l=c,c=[],c.push(l)),f=n.toOscString("#bundle"),p=n.toIntegerBuffer(g,"UInt64"),h=[],v=0,m=c.length;m>v;v++){u=c[v];try{s=n.toOscPacket(u,e),d=n.toIntegerBuffer(s.length),h.push(n.concat([d,s]))}catch(x){a=x}}return o=n.concat(h),n.concat([f,p,o])},n.toOscPacket=function(t,e){return null!=(null!=t?t.oscType:void 0)?"bundle"===t.oscType?n.toOscBundle(t,e):n.toOscMessage(t,e):null!=(null!=t?t.timetag:void 0)||null!=(null!=t?t.elements:void 0)?n.toOscBundle(t,e):n.toOscMessage(t,e)},n.applyMessageTranformerToBundle=function(t){return function(r){var i,o,s,a,c,l,f,h,p,d,g,v,m,y;if(y=n.splitOscString(r),f=y.string,r=y.rest,"#bundle"!==f)throw new Error("osc-bundles must begin with #bundle");for(i=n.toOscString(f),h=r.slice(0,8),r=r.slice(8,r.length),a=u(r,function(e){return n.applyTransform(e,t,n.applyMessageTranformerToBundle(t))}),p=i.length+h.length,d=0,v=a.length;v>d;d++)s=a[d],p+=4+s.length;for(l=new e(p),i.copy(l,0),h.copy(l,i.length),o=i.length+h.length,g=0,m=a.length;m>g;g++)s=a[g],c=n.toIntegerBuffer(s.length),c.copy(l,o),o+=4,s.copy(l,o),o+=s.length;return l}},n.applyTransform=function(t,e,r){return null==r&&(r=n.applyMessageTranformerToBundle(e)),a(t)?r(t):e(t)},n.addressTransform=function(t){return function(e){var r,i,o;return o=n.splitOscString(e),i=o.string,r=o.rest,i=t(i),n.concat([n.toOscString(i),r])}},n.messageTransform=function(t){return function(e){var r;return r=n.fromOscMessage(e),n.toOscMessage(t(r))}},r=Array.isArray,i=function(t){return new Error("Strict Error: "+t)},l=function(t){var n;return n=e.byteLength(t),4-n%4},a=function(t,e){var r;return r=n.splitOscString(t,e).string,"#bundle"===r},u=function(t,e){var r,i,o,s,a,u,c,l;for(o=function(){var i,o;for(o=[];t.length;){if(i=n.splitInteger(t),a=i.integer,t=i.rest,a>t.length)throw new Error("Invalid bundle list: size of element is bigger than buffer");u=t.slice(0,a),t=t.slice(a,t.length);try{o.push(e(u))}catch(s){r=s,o.push(null)}}return o}(),s=[],c=0,l=o.length;l>c;c++)i=o[c],null!=i&&s.push(i);return s}}).call(this)}).call(this,t("buffer").Buffer)},{binpack:53,buffer:7}],53:[function(t,e,n){(function(t){var n=function(t){return"U"===t[0]&&(t=t.slice(1)),{Float32:4,Float64:8,Int8:1,Int16:2,Int32:4,Int64:8}[t]},r=function(t,e){return"8"===e[e.length-1]?"":"big"===t?"BE":"LE"},i=function(i,o){("undefined"==typeof o||null===o)&&(o=i),e.exports["pack"+i]=function(e,s){return b=new t(n(i)),b["write"+o+r(s,i)](e,0,!0),b},e.exports["unpack"+i]=function(t,e){return t["read"+o+r(e,i)](0)}},o=function(t){i("Int"+t),i("UInt"+t)};o(8),o(16),o(32),twoToThe32=Math.pow(2,32);var s=function(t){return function(e,n){var i,o,s=r(n,""),a=t?"U":"";return"LE"===s?(i=e.readUInt32LE(0),o=e["read"+a+"Int32LE"](4)):(i=e.readUInt32BE(4),o=e["read"+a+"Int32BE"](0)),o*twoToThe32+i}},a=function(e){return function(n,i){var o=r(i,""),s=e?"U":"",a=new t(8),u=Math.floor(n/twoToThe32),c=Math.floor(n-u*twoToThe32);return"LE"==o?(a.writeUInt32LE(c,0,!0),a["write"+s+"Int32LE"](u,4,!0)):(a.writeUInt32BE(c,4,!0),a["write"+s+"Int32BE"](u,0,!0)),a}};e.exports.unpackInt64=s(!1),e.exports.unpackUInt64=s(!0),e.exports.packInt64=a(!1),e.exports.packUInt64=a(!0),i("Float32","Float"),i("Float64","Double")}).call(this,t("buffer").Buffer)},{buffer:7}],54:[function(t,e,n){(function(){function t(t){function e(e,n,r,i,o,s){for(;o>=0&&s>o;o+=t){var a=i?i[o]:o;r=n(r,e[a],a,e)}return r}return function(n,r,i,o){r=w(r,o,4);var s=!k(n)&&x.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(i=n[s?s[u]:u],u+=t),e(n,r,i,s,u,a)}}function r(t){return function(e,n,r){n=_(n,r);for(var i=j(e),o=t>0?0:i-1;o>=0&&i>o;o+=t)if(n(e[o],o,e))return o;return-1}}function i(t,e,n){return function(r,i,o){var s=0,a=j(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(h.call(r,s,a),x.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(r[o]===i)return o;return-1}}function o(t,e){var n=M.length,r=t.constructor,i=x.isFunction(r)&&r.prototype||c,o="constructor";for(x.has(t,o)&&!x.contains(e,o)&&e.push(o);n--;)o=M[n],o in t&&t[o]!==i[o]&&!x.contains(e,o)&&e.push(o)}var s=this,a=s._,u=Array.prototype,c=Object.prototype,l=Function.prototype,f=u.push,h=u.slice,p=c.toString,d=c.hasOwnProperty,g=Array.isArray,v=Object.keys,m=l.bind,y=Object.create,b=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=x),n._=x):s._=x,x.VERSION="1.8.3";var w=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},_=function(t,e,n){return null==t?x.identity:x.isFunction(t)?w(t,e,n):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return _(t,e,1/0)};var E=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;a>u;u++){var c=s[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}},T=function(t){if(!x.isObject(t))return{};if(y)return y(t);b.prototype=t;var e=new b;return b.prototype=null,e},N=function(t){return function(e){return null==e?void 0:e[t]}},A=Math.pow(2,53)-1,j=N("length"),k=function(t){var e=j(t);return"number"==typeof e&&e>=0&&A>=e};x.each=x.forEach=function(t,e,n){e=w(e,n);var r,i;if(k(t))for(r=0,i=t.length;i>r;r++)e(t[r],r,t);else{var o=x.keys(t);for(r=0,i=o.length;i>r;r++)e(t[o[r]],o[r],t)}return t},x.map=x.collect=function(t,e,n){e=_(e,n);for(var r=!k(t)&&x.keys(t),i=(r||t).length,o=Array(i),s=0;i>s;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o},x.reduce=x.foldl=x.inject=t(1),x.reduceRight=x.foldr=t(-1),x.find=x.detect=function(t,e,n){var r;return r=k(t)?x.findIndex(t,e,n):x.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},x.filter=x.select=function(t,e,n){var r=[];return e=_(e,n),x.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},x.reject=function(t,e,n){return x.filter(t,x.negate(_(e)),n)},x.every=x.all=function(t,e,n){e=_(e,n);for(var r=!k(t)&&x.keys(t),i=(r||t).length,o=0;i>o;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0},x.some=x.any=function(t,e,n){e=_(e,n);for(var r=!k(t)&&x.keys(t),i=(r||t).length,o=0;i>o;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,n,r){return k(t)||(t=x.values(t)),("number"!=typeof n||r)&&(n=0),x.indexOf(t,e,n)>=0},x.invoke=function(t,e){var n=h.call(arguments,2),r=x.isFunction(e);return x.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,n){var r,i,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=k(t)?t:x.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],r>o&&(o=r)}else e=_(e,n),x.each(t,function(t,n,r){i=e(t,n,r),(i>s||i===-(1/0)&&o===-(1/0))&&(o=t,s=i)});return o},x.min=function(t,e,n){var r,i,o=1/0,s=1/0;if(null==e&&null!=t){t=k(t)?t:x.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],o>r&&(o=r)}else e=_(e,n),x.each(t,function(t,n,r){i=e(t,n,r),(s>i||i===1/0&&o===1/0)&&(o=t,s=i)});return o},x.shuffle=function(t){for(var e,n=k(t)?t:x.values(t),r=n.length,i=Array(r),o=0;r>o;o++)e=x.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},x.sample=function(t,e,n){return null==e||n?(k(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,n){return e=_(e,n),x.pluck(x.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var O=function(t){return function(e,n,r){var i={};return n=_(n,r),x.each(e,function(r,o){var s=n(r,o,e);t(i,r,s)}),i}};x.groupBy=O(function(t,e,n){x.has(t,n)?t[n].push(e):t[n]=[e]}),x.indexBy=O(function(t,e,n){t[n]=e}),x.countBy=O(function(t,e,n){x.has(t,n)?t[n]++:t[n]=1}),x.toArray=function(t){return t?x.isArray(t)?h.call(t):k(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:k(t)?t.length:x.keys(t).length},x.partition=function(t,e,n){e=_(e,n);var r=[],i=[];return x.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},x.first=x.head=x.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:x.initial(t,t.length-e)},x.initial=function(t,e,n){return h.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},x.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:x.rest(t,Math.max(0,t.length-e))},x.rest=x.tail=x.drop=function(t,e,n){return h.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var C=function(t,e,n,r){for(var i=[],o=0,s=r||0,a=j(t);a>s;s++){var u=t[s];if(k(u)&&(x.isArray(u)||x.isArguments(u))){e||(u=C(u,e,n));var c=0,l=u.length;for(i.length+=l;l>c;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};x.flatten=function(t,e){return C(t,e,!1)},x.without=function(t){return x.difference(t,h.call(arguments,1))},x.uniq=x.unique=function(t,e,n,r){x.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=_(n,r));for(var i=[],o=[],s=0,a=j(t);a>s;s++){var u=t[s],c=n?n(u,s,t):u;e?(s&&o===c||i.push(u),o=c):n?x.contains(o,c)||(o.push(c),i.push(u)):x.contains(i,u)||i.push(u)}return i},x.union=function(){return x.uniq(C(arguments,!0,!0))},x.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=j(t);i>r;r++){var o=t[r];if(!x.contains(e,o)){for(var s=1;n>s&&x.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},x.difference=function(t){var e=C(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,j).length||0,n=Array(e),r=0;e>r;r++)n[r]=x.pluck(t,r);return n},x.object=function(t,e){for(var n={},r=0,i=j(t);i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},x.findIndex=r(1),x.findLastIndex=r(-1),x.sortedIndex=function(t,e,n,r){n=_(n,r,1);for(var i=n(e),o=0,s=j(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o},x.indexOf=i(1,x.findIndex,x.sortedIndex),x.lastIndexOf=i(-1,x.findLastIndex),x.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;r>o;o++,t+=n)i[o]=t;return i};var S=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=T(t.prototype),s=t.apply(o,i);return x.isObject(s)?s:o};x.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,h.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),r=function(){return S(t,r,e,this,n.concat(h.call(arguments)))};return r},x.partial=function(t){var e=h.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),s=0;i>s;s++)o[s]=e[s]===x?arguments[r++]:e[s];for(;r<arguments.length;)o.push(arguments[r++]);return S(t,n,this,this,o)};return n},x.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=x.bind(t[n],t);return t},x.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return x.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},x.delay=function(t,e){var n=h.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:x.now(),s=null,o=t.apply(r,i),s||(r=i=null)};return function(){var c=x.now();a||n.leading!==!1||(a=c);var l=e-(c-a);return r=this,i=arguments,0>=l||l>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(r,i),s||(r=i=null)):s||n.trailing===!1||(s=setTimeout(u,l)),o}},x.debounce=function(t,e,n){var r,i,o,s,a,u=function(){var c=x.now()-s;e>c&&c>=0?r=setTimeout(u,e-c):(r=null,n||(a=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=x.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},x.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},x.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},x.once=x.partial(x.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(v)return v(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return D&&o(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&o(t,e),e},x.values=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},x.mapObject=function(t,e,n){e=_(e,n);for(var r,i=x.keys(t),o=i.length,s={},a=0;o>a;a++)r=i[a],s[r]=e(t[r],r,t);return s},x.pairs=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},x.invert=function(t){for(var e={},n=x.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=E(x.allKeys),x.extendOwn=x.assign=E(x.keys),x.findKey=function(t,e,n){e=_(e,n);for(var r,i=x.keys(t),o=0,s=i.length;s>o;o++)if(r=i[o],e(t[r],r,t))return r},x.pick=function(t,e,n){var r,i,o={},s=t;if(null==s)return o;x.isFunction(e)?(i=x.allKeys(s),r=w(e,n)):(i=C(arguments,!1,!1,1),r=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=i.length;u>a;a++){var c=i[a],l=s[c];r(l,c,s)&&(o[c]=l)}return o},x.omit=function(t,e,n){if(x.isFunction(e))e=x.negate(e);else{var r=x.map(C(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(r,e)}}return x.pick(t,e,n)},x.defaults=E(x.allKeys,!0),x.create=function(t,e){var n=T(t);return e&&x.extendOwn(n,e),n},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var n=x.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;r>o;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var P=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var i=p.call(t);if(i!==p.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!P(t[u],e[u],n,r))return!1}else{var c,l=x.keys(t);if(u=l.length,x.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!x.has(e,c)||!P(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(t,e){return P(t,e)},x.isEmpty=function(t){return null==t?!0:k(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=g||function(t){return"[object Array]"===p.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return p.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===p.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&d.call(t,e)},x.noConflict=function(){return s._=a,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=N,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,n){var r=Array(Math.max(0,t));e=w(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=x.invert(I),R=function(t){var e=function(e){return t[e]},n="(?:"+x.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};x.escape=R(I),x.unescape=R(L),x.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),x.isFunction(r)?r.call(t):r};var q=0;x.uniqueId=function(t){var e=++q+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+F[t]};x.template=function(t,e,n){!e&&n&&(e=n),e=x.defaults({},e,x.templateSettings);var r=RegExp([(e.escape||B).source,(e.interpolate||B).source,(e.evaluate||B).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,s,a){return o+=t.slice(i,a).replace(W,U),i=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(t){return s.call(this,t,x)},c=e.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u},x.chain=function(t){var e=x(t);return e._chain=!0,e};var z=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),z(this,n.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=u[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),x.each(["concat","join","slice"],function(t){var e=u[t];x.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this)},{}],55:[function(t,e,n){var r=t("lodash.isobject"),i=t("lodash.isstring"),o=n.Validator=function(t,e){this.validators=t,e=e||{},this.before=e.before,this.after=e.after};o.prototype.run=function(t,e,n){var r={validationErrors:{},prefix:null};if(3===arguments.length)e.validationErrors=e.validationErrors||r.validationErrors,e.prefix=e.prefix||r.prefix;else{if(2!==arguments.length)throw new Error("unvalid arguments");n=e,e=r}var i=this,o=Object.keys(this.validators),s=e.validationErrors,a=e.prefix,u=!0,c=function(){var e=[];for(var r in t)i.validators.hasOwnProperty(r)||e.push(r);if(e.length&&i._merge(s,"unknown attributes ["+e.join(", ")+"]",a),u&&i.after)try{i.after.call(t)}catch(o){if(!l(o))return n(o)}n(null,s)},l=function(t){var e=i.handleError(t);return e?(i._merge(s,e,a),u=!1,!0):!1};if(this.before)try{this.before.call(t)}catch(f){return void(l(f)?c():n(f))}for(var h=function(t){return function(e,r){if(p++,!d){if(e)return d=!0,n(e);r&&(i._merge(s,r,(a||"")+"."+t),u=!1),p===o.length&&c()}}},p=0,d=!1,g=0,v=o.length;v>g;g++)i.validate(t,o[g],h(o[g]))},o.prototype.validate=function(t,e,n){var r=this,i=t[e],o=this.validators[e],s=function(t,e){t?a(t):e?n(null,e):n()},a=function(t){var e=r.handleError(t);e?n(null,e):n(t)};if(2===o.length)try{o.call(t,i,s)}catch(u){a(u)}else{try{o.call(t,i)}catch(u){return a(u)}n()}},o.prototype._merge=function(t,e,n){if(i(e))t[n||"."]=e;else{if(!r(e))throw new Error("unvalid handleError return : "+returned);for(var o in e)t[(n||".")+o]=e[o]}}},{"lodash.isobject":56,"lodash.isstring":58}],56:[function(t,e,n){function r(t){return!(!t||!i[typeof t])}var i=t("lodash._objecttypes");e.exports=r},{"lodash._objecttypes":57}],57:[function(t,e,n){var r={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};e.exports=r},{}],58:[function(t,e,n){function r(t){return"string"==typeof t||t&&"object"==typeof t&&s.call(t)==i||!1}var i="[object String]",o=Object.prototype,s=o.toString;e.exports=r},{}],59:[function(t,e,n){function r(t,e,n){var r;return r=e?new o(t,e):new o(t)}var i=function(){return this}(),o=i.WebSocket||i.MozWebSocket;e.exports=o?r:null,o&&(r.prototype=o.prototype)},{}]},{},[5]),function n(t,e,r){function i(s,a){if(!e[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,n,t,e,r)}return e[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,i=t("./core/waa"),o=t("async"),s=t("underscore"),a=t("waaclock"),u=!1,c=window.fields={position:null,sound:{clock:null,masterMixer:null,fftDataHandler:null,audioContext:null,supportedFormats:null,preferredFormat:null},core:{BaseInstrument:t("./core/BaseInstrument"),ports:t("./core/ports"),waa:t("./core/waa"),declareInstrumentClass:function(t,e){f[t]=e}}};c.log=function(t){},c.statusChanged=function(t){},c.isSupported=function(){return("undefined"==typeof rhizome||rhizome.isSupported())&&window.AudioContext?!0:!1};var l={},f={},h=function(){Object.keys(l).forEach(function(t){rhizome.send("/sys/subscribe",["/"+t])})};c.start=function(e){if(c.statusChanged("connecting ..."),c.sound.audioContext=i.kickStartWAA(),c.sound.masterMixer=c.sound.audioContext.createGain(),c.sound.masterMixer.gain.value=1,c.sound.masterMixer.connect(c.sound.audioContext.destination),c.sound.clock=new a(c.sound.audioContext),c.sound.clock.onexpired=function(){c.log("expired")},c.sound.clock.start(),c.sound.fftDataHandler){var n;c.sound.analyserNode=c.sound.audioContext.createAnalyser(),c.sound.analyserNode.fftSize=128,c.sound.masterMixer.connect(c.sound.analyserNode),c.sound.clock.callbackAtTime(function(){n=new Float32Array(c.sound.analyserNode.frequencyBinCount),c.sound.analyserNode.getFloatFrequencyData(n),c.sound.fftDataHandler(n)},0).repeat(.05)}c.core.declareInstrumentClass("DistributedSequencer",t("./instruments/DistributedSequencer")),c.core.declareInstrumentClass("Granulator",t("./instruments/Granulator")),c.core.declareInstrumentClass("Osc",t("./instruments/Osc")),c.core.declareInstrumentClass("Sine",t("./instruments/Sine")),c.core.declareInstrumentClass("Trigger",t("./instruments/Trigger")),c.core.declareInstrumentClass("WebPdInstrument",t("./instruments/WebPdInstrument")),c.core.declareInstrumentClass("WhiteNoise",t("./instruments/WhiteNoise")),o.waterfall([s.bind(i.formatSupport,i),function(t,n){c.log("formats supported "+t),c.sound.supportedFormats=t,-1!==c.sound.supportedFormats.indexOf("ogg")?c.sound.preferredFormat="ogg":-1!==c.sound.supportedFormats.indexOf("mp3")?c.sound.preferredFormat="mp3":-1!==c.sound.supportedFormats.indexOf("wav")&&(c.sound.preferredFormat="wav"),c.log("format used "+c.sound.preferredFormat),Object.keys(e).forEach(function(t){var n=e[t],r=f[n.instrument];l[t]=new r(t,n.args)}),n()},s.bind(rhizome.start,rhizome),function(t){o.forEach(s.values(l),function(t,e){t.load(e)},t)}],function(t){return t?c.log("ERROR: "+t):(u=!0,void c.log("all instruments loaded"))})},rhizome.on("connected",function(){h(),c.statusChanged("connected"),u&&(r&&clearTimeout(r),Object.keys(l).forEach(function(t){l[t].restore()}))}),rhizome.on("message",function(t,e){if("/sys/subscribed"===t)c.log("subscribed "+e[0]);else{c.log(""+t+" "+e);var n=t.split("/"),r=l[n[1]],i=n[2];r.receive(i,e)}}),rhizome.on("queued",function(){c.statusChanged("waiting ...")}),rhizome.on("connection lost",function(){c.statusChanged("waiting ..."),r=setTimeout(function(){s.forEach(s.values(l),function(t){t.mixer.gain.setTargetAtTime(1e-4,0,.002)})},8e3)})},{"./core/BaseInstrument":2,"./core/ports":5,"./core/waa":7,"./instruments/DistributedSequencer":8,"./instruments/Granulator":9,"./instruments/Osc":10,"./instruments/Sine":11,"./instruments/Trigger":12,"./instruments/WebPdInstrument":13,"./instruments/WhiteNoise":14,async:15,underscore:18,waaclock:19}],2:[function(t,e,n){var r=t("underscore"),i=t("./math"),o=t("./utils"),s=t("./ports"),a=e.exports=function(t,e){var n=this;this.mixer=fields.sound.audioContext.createGain(),this.mixer.gain.value=0,this.mixer.connect(fields.sound.masterMixer),this.started=!1,this.instrumentId=t,this.ports={},Object.keys(this.portDefinitions).forEach(function(t){n.addPort(t,n.portDefinitions[t])}),this.init(e)};a.extend=o.chainExtend,r.extend(a.prototype,{init:function(t){var e=this,n=function(){var t=function(t,e){return 1-Math.abs(t-.5)+(e-.5)*(t-.5)*2},n=e.ports.volume.value,r=e.ports.panning.value,i=fields.position,o=t(r[0],i.x)*t(r[1],i.y);e.mixer.gain.setTargetAtTime(o*n,0,.05)};this.ports.volume.on("value",n),this.ports.panning.on("value",n),this.ports.state.on("value",function(t){t?e.start():e.stop()})},portDefinitions:{volume:s.NumberPort.extend({mapping:function(t){return 2*i.valExp(t,2.5)}}),panning:s.PointPort,state:s.TogglePort},start:function(){this.started===!1&&(this.started=!0,this.onStart())},stop:function(){this.started===!0&&(this.started=!1,this.onStop())},receive:function(t,e){return this.ports.hasOwnProperty(t)?void this.ports[t].receive(e):console.error('unknown port "'+t+'" for "'+this.instrumentId+'"')},restore:function(){r.values(this.ports).forEach(function(t){t.restore()})},addPort:function(t,e){this.ports[t]=new e(this,t)},load:function(t){},onStart:function(){},onStop:function(){}})},{"./math":4,"./ports":5,"./utils":6,underscore:18}],3:[function(t,e,n){var r=n.HTTPError=function(t){this.message=t||""};r.prototype=Object.create(Error.prototype),r.prototype.name="HTTPError";var i=n.DecodeError=function(t){this.message=t||""};i.prototype=Object.create(Error.prototype),i.prototype.name="DecodeError"},{}],4:[function(t,e,n){n.pickVal=function(t,e){return t+t*e*(1-2*Math.random())},n.floor=function(t,e){return Math.floor(t*Math.pow(10,e))/Math.pow(10,e)},n.valExp=function(t,e){return e=e||2,(Math.exp(t*e)-Math.exp(0))/(Math.exp(e)-Math.exp(0))}},{}],5:[function(t,e,n){var r=t("events").EventEmitter,i=t("underscore"),o=t("./utils"),s=n.BasePort=function(t,e){r.apply(this),this.instrument=t,this.path="/"+this.instrument.instrumentId+"/"+e,this.value=this.defaultValue};s.extend=o.chainExtend,i.extend(s.prototype,r.prototype,{defaultValue:null,restore:function(){rhizome.send("/sys/resend",[this.path])},receive:function(t){try{validated=this.validate(t)}catch(e){return void console.error(e)}this.value=validated,this.emit("value",validated);
},validate:function(t){throw new Error("implement me!")}}),n.TogglePort=s.extend({defaultValue:!1,validate:function(t){return 1!==t.length?(console.error("unvalid number of args for "+this.path+" : "+t),!1):"number"!=typeof t[0]?(console.error("unvalid args type for "+this.path+" : "+t),!1):!!t[0]}}),n.NumberPort=s.extend({defaultValue:0,validate:function(t){return 1!==t.length?(console.error("unvalid number of args for "+this.path+" : "+t),!1):"number"!=typeof t[0]?(console.error("unvalid args type for "+this.path+" : "+t),!1):this.mapping(t[0])},mapping:function(t){return t}}),n.PointPort=s.extend({defaultValue:[0,0],validate:function(t){return 2!==t.length?(console.error("unvalid number of args for "+this.path+" : "+t),!1):"number"!=typeof t[0]||"number"!=typeof t[1]?(console.error("unvalid args type for "+this.path+" : "+t),!1):[this.mappingX(t[0]),this.mappingY(t[1])]},mappingX:function(t){return t},mappingY:function(t){return t}})},{"./utils":6,events:16,underscore:18}],6:[function(t,e,n){var r=t("underscore"),i=t("./errors");n.chainExtend=function(){var t=Array.prototype.slice.call(arguments,0),e=this,n=function(){e.apply(this,arguments)};return r.extend.apply(this,[n.prototype,e.prototype].concat(t)),n.extend=this.extend,n},n.loadFile=function(t,e){var n=new XMLHttpRequest;n.open("GET",t.url,!0),n.responseType=t.responseType,n.onload=function(t){200===n.status?e(null,n.response):e(new i.HTTPError(n.statusText))},n.onerror=function(t){e(t||new Error("unexpected request error"),null)},n.send()}},{"./errors":3,underscore:18}],7:[function(t,e,n){var r=t("./utils"),o=t("./errors");n.kickStartWAA=function(){audioContext=new AudioContext;var t=audioContext.createOscillator(),e=audioContext.createGain();return e.gain.value=0,t.connect(e),e.connect(audioContext.destination),t.start(0),t.stop(1),audioContext};var s=n.loadBuffer=function(t,e){r.loadFile({url:t,responseType:"arraybuffer"},function(n,r){return n?e(n):void u(r,function(n,r){return n?(n instanceof o.DecodeError&&(n.message+=" "+t),e(n)):void e(null,r)})})},a=(n.formatSupport=function(t){var e,n=[],r=[["wav","baseAssets/format-support/sample.wav"],["mp3","baseAssets/format-support/sample.mp3"],["ogg","baseAssets/format-support/sample.ogg"]],i=function(a,u,c){var l;if(u){if(!(u instanceof o.DecodeError))return t(u);l=!1}else l=1===c.numberOfChannels&&50===Math.round(1e3*c.duration)?!0:!1;l===!0&&n.push(a),r.length>0?(e=r.pop(),s(e[1],i.bind(this,e[0]))):t(null,n)};e=r.pop(),s(e[1],i.bind(this,e[0]))},[]);n.plotBuffer=function(t,e){var n=100,r=t.getChannelData(0),o=t.sampleRate,s=e.attr("width")||300,u=e.attr("height")||300,c=[];for(i=0,length=t.length;i<length;i+=n)c.push([i/o,r[i]]);var l=d3.scale.linear().range([0,s]),f=d3.scale.linear().range([u,0]),h=d3.svg.line().x(function(t){return l(t[0])}).y(function(t){return f(t[1])});l.domain(d3.extent(c,function(t){return t[0]})),f.domain(d3.extent(c,function(t){return t[1]})),e.append("path").datum(c).attr("class","plot plot-"+a.length%2).attr("d",h),a.push(t)};var u=function(t,e){fields.sound.audioContext.decodeAudioData(t,function(t){e(null,t)},function(t){e(t||new o.DecodeError("decoding error"),null)})}},{"./errors":3,"./utils":6}],8:[function(t,e,n){var r=t("underscore"),i=t("async"),o=t("../core/waa"),s=t("../core/BaseInstrument"),a=t("../core/ports");e.exports=s.extend({portDefinitions:r.extend({},s.prototype.portDefinitions,{sequence:a.BasePort.extend({defaultValue:[],validate:function(t){var e,n,i=[];for(e=0,n=1;e<t.length;e+=2,n+=2)i.push([t[e],t[n]]);return r.sortBy(i,function(t){return t[1]})}})}),init:function(t){var e=this;s.prototype.init.apply(this,arguments),this.stepCount=t[0],this.tracks=t[1],this.buffers=[],this._setTempo(t[2]),this.bufferNode=null,this.ports.sequence.on("value",function(){e.started&&e._playSequence()})},load:function(t){var e=this;i.map(this.tracks,o.loadBuffer,function(n,r){n||(e.buffers=r,fields.log(e.instrumentId+" loaded, tempo "+e.tempo),e.restore()),t(n)})},onStart:function(){this._playSequence()},onStop:function(){this.bufferNode.stop(0),this.bufferNode=null},_setTempo:function(t){this.tempo=t,this.beatDurInSec=60/t,this.samplesPerBeat=this.beatDurInSec*fields.sound.audioContext.sampleRate,this.samplesPerLoop=this.samplesPerBeat*this.stepCount},_playSequence:function(){var t=this,e=fields.sound.audioContext.createBuffer(1,this.samplesPerLoop,fields.sound.audioContext.sampleRate),n=e.getChannelData(0);r.forEach(t.ports.sequence.value,function(e){var r=e[1],i=e[0],o=t.samplesPerBeat*r,s=t.buffers[i].getChannelData(0);o+s.length>=n.length?subarray=s.subarray(0,n.length-o):subarray=s,n.set(subarray,o)}),this.bufferNode&&this.bufferNode.stop(0),this.bufferNode=fields.sound.audioContext.createBufferSource(),this.bufferNode.connect(this.mixer),this.bufferNode.loop=!0,this.bufferNode.buffer=e,this.bufferNode.start(0)}})},{"../core/BaseInstrument":2,"../core/ports":5,"../core/waa":7,async:15,underscore:18}],9:[function(t,e,n){var r=t("underscore"),i=t("../core/waa"),o=t("../core/math"),s=t("../core/BaseInstrument"),a=t("../core/ports");e.exports=s.extend({portDefinitions:r.extend({},s.prototype.portDefinitions,{position:a.PointPort,duration:a.PointPort.extend({defaultValue:[.1,0]}),ratio:a.PointPort.extend({defaultValue:[1,0]}),env:a.NumberPort,density:a.NumberPort}),init:function(t){s.prototype.init.apply(this,arguments),this.url=t[0]},load:function(t){var e=this;i.loadBuffer(this.url+"."+fields.sound.preferredFormat,function(n,r){n||(e.buffer=r,fields.log(e.instrumentId+" loaded, buffer length :"+e.buffer.length),e.restore()),t(n)})},onStart:function(){this.grainEvent&&this.grainEvent.clear();var t=this;this.grainEvent=fields.sound.clock.setTimeout(function(){var e=t._getDuration();t._enjoyTheSilence()?t.grainEvent.repeat(e/2||.005):(e=t._playSound(t.url,t.mixer,t._getPosition(),e,t._getRatio(),t.ports.env.value),t.grainEvent.repeat(e||.005))},.1).repeat(.1)},onStop:function(){this.grainEvent&&this.grainEvent.clear()},_getPosition:function(){var t=this.ports.position.value[0]*(this.buffer.length/fields.sound.audioContext.sampleRate);return o.pickVal(t,this.ports.position.value[1])},_getDuration:function(){var t=this.ports.duration.value[0];return Math.max(.01,o.pickVal(4*o.valExp(t),this.ports.duration.value[1]))},_getRatio:function(){var t=this.ports.ratio.value[0];return Math.max(.05,o.pickVal(t,this.ports.ratio.value[1]))},_enjoyTheSilence:function(){var t=Math.random()>this.ports.density.value,e=Math.random()>this.ports.density.value;return t||e},_playSound:function(t,e,n,r,i,o){var s=this.buffer.length/fields.sound.audioContext.sampleRate,a=s-n;if(r=Math.min(a/i,r),0>=r)return 0;var u=fields.sound.audioContext.createBufferSource(),c=fields.sound.audioContext.createGain();u.playbackRate.value=i,u.buffer=this.buffer;var l=Math.max(r*(o/2),.002);return c.gain.setValueAtTime(0,fields.sound.audioContext.currentTime),c.gain.linearRampToValueAtTime(1,fields.sound.audioContext.currentTime+l),c.gain.linearRampToValueAtTime(1,fields.sound.audioContext.currentTime+r-l),c.gain.linearRampToValueAtTime(0,fields.sound.audioContext.currentTime+r),u.connect(c),c.connect(e),u.start(0,n,r),r}})},{"../core/BaseInstrument":2,"../core/math":4,"../core/ports":5,"../core/waa":7,underscore:18}],10:[function(t,e,n){var r=(t("async"),t("underscore")),i=t("waaoffset"),o=(t("../core/waa"),t("../core/math")),s=t("../core/BaseInstrument"),a=t("../core/ports");e.exports=s.extend({portDefinitions:r.extend({},s.prototype.portDefinitions,{carrierFreq:a.NumberPort.extend({defaultValue:100,mapping:function(t){return 1e3*o.valExp(t,4)}}),freqModFreq:a.NumberPort.extend({mapping:function(t){return 100*o.valExp(t,4)}}),freqModAmount:a.NumberPort,ampModFreq:a.NumberPort.extend({mapping:function(t){return 100*o.valExp(t,4)}}),ampModAmount:a.NumberPort}),init:function(t){s.prototype.init.apply(this,arguments);var e=this;this.ports.carrierFreq.on("value",function(t){e.started&&e.freqModOffset.offset.linearRampToValueAtTime(t,fields.sound.audioContext.currentTime+.05)}),this.ports.freqModFreq.on("value",function(t){e.started&&e.freqModOsc.frequency.linearRampToValueAtTime(t,fields.sound.audioContext.currentTime+.05)}),this.ports.freqModAmount.on("value",function(t){e.started&&(e.freqModAmountGain.gain.value=e.ports.carrierFreq.value*t)}),this.ports.ampModFreq.on("value",function(t){e.started&&e.ampModOsc.frequency.linearRampToValueAtTime(t,fields.sound.audioContext.currentTime+.05)}),this.ports.ampModAmount.on("value",function(t){e.started&&(e.ampModAmountGain.gain.value=t)})},load:function(t){this.restore(),t()},onStart:function(){this.freqModOffset=new i(fields.sound.audioContext),this.carrierOsc=fields.sound.audioContext.createOscillator(),this.carrierOsc.type="square",this.ampModOsc=fields.sound.audioContext.createOscillator(),this.freqModOsc=fields.sound.audioContext.createOscillator(),this.ampModAmountGain=fields.sound.audioContext.createGain(),this.ampModGain=fields.sound.audioContext.createGain(),this.freqModGain=fields.sound.audioContext.createGain(),this.freqModAmountGain=fields.sound.audioContext.createGain(),this.freqModOsc.connect(this.freqModAmountGain),this.freqModAmountGain.connect(this.freqModGain),this.freqModOffset.connect(this.freqModGain),this.freqModGain.connect(this.carrierOsc.frequency),this.ampModOsc.connect(this.ampModAmountGain),this.ampModAmountGain.connect(this.ampModGain.gain),this.carrierOsc.connect(this.ampModGain),this.ampModGain.connect(this.mixer),this.ampModOsc.start(0),this.freqModOsc.start(0),this.carrierOsc.start(0),this.ports.carrierFreq.emit("value",this.ports.carrierFreq.value),this.ports.freqModFreq.emit("value",this.ports.freqModFreq.value),this.ports.freqModAmount.emit("value",this.ports.freqModAmount.value),this.ports.ampModFreq.emit("value",this.ports.ampModFreq.value),this.ports.ampModAmount.emit("value",this.ports.ampModAmount.value)},onStop:function(){this.ampModOsc.stop(0),this.freqModOsc.stop(0),this.carrierOsc.stop(0),this.ampModGain.disconnect()}})},{"../core/BaseInstrument":2,"../core/math":4,"../core/ports":5,"../core/waa":7,async:15,underscore:18,waaoffset:21}],11:[function(t,e,n){var r=(t("async"),t("underscore")),i=(t("../core/waa"),t("../core/BaseInstrument")),o=t("../core/ports");e.exports=i.extend({portDefinitions:r.extend({},i.prototype.portDefinitions,{play:o.BasePort.extend({validate:function(t){return t}}),f0:o.NumberPort.extend({mapping:function(t){return 500+3e3*t}})}),init:function(t){i.prototype.init.apply(this,arguments);var e=this;this.ports.play.on("value",function(t){if(e.oscillatorNode){var n=[[0,.05],[t[0],t[1]],[1,.05]],i=[[0,0],[t[2],t[3]],[1,0]],o=1+10*t[4],s=fields.sound.audioContext.currentTime,a=1+3*Math.random(),u=e.ports.f0.value;e.envGain.gain.cancelScheduledValues(0),e.envGain.gain.setValueAtTime(0,a+s),r.forEach(n,function(t){e.envGain.gain.linearRampToValueAtTime(t[1],a+s+t[0]*o)}),e.oscillatorNode.frequency.cancelScheduledValues(0),e.oscillatorNode.frequency.setValueAtTime(u,a+s),r.forEach(i,function(t){e.oscillatorNode.frequency.linearRampToValueAtTime(u+u*t[1],a+s+t[0]*o)})}}),this.ports.f0.on("value",function(t){e.oscillatorNode&&e.oscillatorNode.frequency.setValueAtTime(t,fields.sound.audioContext.currentTime+1)})},load:function(t){this.restore(),t()},onStart:function(){this.envGain=fields.sound.audioContext.createGain(),this.envGain.connect(this.mixer),this.envGain.gain.value=.05,this.oscillatorNode=fields.sound.audioContext.createOscillator(),this.oscillatorNode.type="sawtooth",this.oscillatorNode.connect(this.envGain),this.oscillatorNode.start(0)},onStop:function(){this.envGain.disconnect(),this.envGain=null,this.oscillatorNode.stop(),this.oscillatorNode.disconnect(),this.oscillatorNode=null}})},{"../core/BaseInstrument":2,"../core/ports":5,"../core/waa":7,async:15,underscore:18}],12:[function(t,e,n){var r=(t("underscore"),t("../core/waa")),i=(t("../core/math"),t("../core/BaseInstrument"));e.exports=i.extend({init:function(t){i.prototype.init.apply(this,arguments),this.url=t[0]},load:function(t){var e=this;r.loadBuffer(this.url,function(n,r){n||(e.buffer=r,fields.log(e.instrumentId+" loaded, buffer length :"+e.buffer.length)),t(n),e.mixer.gain.value=1})},onStart:function(){this.bufferNode=fields.sound.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.connect(this.mixer),this.bufferNode.start(0)},onStop:function(){}})},{"../core/BaseInstrument":2,"../core/math":4,"../core/waa":7,underscore:18}],13:[function(t,e,n){var r=(t("async"),t("underscore")),i=(t("../core/waa"),t("../core/BaseInstrument")),o=t("../core/ports"),s=t("../core/utils");Pd.start({audioContext:fields.sound.audioContext});var a=o.BasePort.extend({validate:function(t){return t}});Pd.registerExternal("fields/preferred-format",Pd.core.PdObject.extend({inletDefs:[Pd.core.portlets.Inlet.extend({message:function(t){this.obj.o(0).message([fields.sound.preferredFormat])}})],outletDefs:[Pd.core.portlets.Outlet]})),Pd.registerExternal("fields/id",Pd.core.PdObject.extend({inletDefs:[Pd.core.portlets.Inlet.extend({message:function(t){this.obj.o(0).message([rhizome.id])}})],outletDefs:[Pd.core.portlets.Outlet]})),e.exports=i.extend({portDefinitions:r.extend({},i.prototype.portDefinitions,{debug:o.BasePort.extend({validate:function(t){return t},restore:function(){}})}),init:function(t){var e=this;i.prototype.init.apply(this,arguments),this.patchUrl=t[0],this._patchPortsInitialized=!1,this.patch=null,this._pdReceivePaths=[],this.ports.debug.on("value",function(t){"reload"===t[0]&&(e.patch&&(Pd.destroyPatch(this.patch),this.patch=null),e._clearPatchPorts(),e.stop(),e.load(function(){}))})},load:function(t){var e=this;s.loadFile({url:this.patchUrl,responseType:"text"},function(n,r){fields.log("Patch "+e.patchUrl+" loaded"),e.patchStr=r,e.restore(),t(n)})},onStart:function(){var t=this;this.patch=Pd.loadPatch(this.patchStr),this._patchPortsInitialized?this._pdReceivePaths.forEach(function(e){var n=t.ports[e];r.isArray(t.ports[e].value)&&Pd.send(n.path,n.value)}):this._initPatchPorts(),this.patch.outlets.length&&this.patch.o(0)instanceof Pd.core.portlets.DspOutlet?this.patch.o(0).obj._gainNode.connect(this.mixer):console.warn('WebPdInstrument "'+this.instrumentId+'" patch has no [outlet~]')},onStop:function(){this.patch&&(Pd.destroyPatch(this.patch),this.patch=null)},_clearPatchPorts:function(){var t=this,e=Object.keys(this.portDefinitions);Object.keys(this.ports).forEach(function(n){r.contains(e,n)||delete t.ports[n]}),this._patchPortsInitialized=!1},_initPatchPorts:function(){var t=this,e="/"+t.instrumentId+"/";this.patch.objects.filter(function(t){return"receive"===t.type}).forEach(function(n){var r,i=n.name,o=i.indexOf(e);0===o&&(r=i.slice(e.length),t.addPort(r,a),t._pdReceivePaths.push(r),t.ports[r].on("value",function(t){Pd.send(i,t)}))}),this.restore(),this._patchPortsInitialized=!0}})},{"../core/BaseInstrument":2,"../core/ports":5,"../core/utils":6,"../core/waa":7,async:15,underscore:18}],14:[function(t,e,n){var r=(t("async"),t("underscore"),t("../core/waa"),t("../core/BaseInstrument"));e.exports=r.extend({init:function(t){r.prototype.init.apply(this,arguments);var e=44100;this.noiseBuffer=fields.sound.audioContext.createBuffer(1,e,44100);for(var n=this.noiseBuffer.getChannelData(0),i=0;e>i;i++)n[i]=Math.random()},load:function(t){this.restore(),t()},onStart:function(){this.bufferNode=fields.sound.audioContext.createBufferSource(),this.bufferNode.buffer=this.noiseBuffer,this.bufferNode.loop=!0,this.bufferNode.connect(this.mixer),this.bufferNode.start(0)},onStop:function(){this.bufferNode.stop(0)}})},{"../core/BaseInstrument":2,"../core/waa":7,async:15,underscore:18}],15:[function(t,e,n){(function(t){!function(){function n(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(r,arguments)}}var r,i,o={};r=this,null!=r&&(i=r.async),o.noConflict=function(){return r.async=i,o};var s=Object.prototype.toString,a=Array.isArray||function(t){return"[object Array]"===s.call(t)},u=function(t,e){for(var n=0;n<t.length;n+=1)e(t[n],n,t)},c=function(t,e){if(t.map)return t.map(e);var n=[];return u(t,function(t,r,i){n.push(e(t,r,i))}),n},l=function(t,e,n){return t.reduce?t.reduce(e,n):(u(t,function(t,r,i){n=e(n,t,r,i)}),n)},f=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof t&&t.nextTick?(o.nextTick=t.nextTick,"undefined"!=typeof setImmediate?o.setImmediate=function(t){setImmediate(t)}:o.setImmediate=o.nextTick):"function"==typeof setImmediate?(o.nextTick=function(t){setImmediate(t)},o.setImmediate=o.nextTick):(o.nextTick=function(t){setTimeout(t,0)},o.setImmediate=o.nextTick),o.each=function(t,e,r){function i(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;u(t,function(t){e(t,n(i))})},o.forEach=o.each,o.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,i=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n():i())})};i()},o.forEachSeries=o.eachSeries,o.eachLimit=function(t,e,n,r){var i=h(e);i.apply(null,[t,n,r])},o.forEachLimit=o.eachLimit;var h=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var i=0,o=0,s=0;!function a(){if(i>=e.length)return r();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(r(t),r=function(){}):(i+=1,s-=1,i>=e.length?r():a())})}()}},p=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[o.each].concat(e))}},d=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[h(t)].concat(n))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[o.eachSeries].concat(e))}},v=function(t,e,n,r){if(e=c(e,function(t,e){return{index:e,value:t}}),r){var i=[];t(e,function(t,e){n(t.value,function(n,r){i[t.index]=r,e(n)})},function(t){r(t,i)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};o.map=p(v),o.mapSeries=g(v),o.mapLimit=function(t,e,n,r){return m(e)(t,n,r)};var m=function(t){return d(t,v)};o.reduce=function(t,e,n,r){o.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},o.inject=o.reduce,o.foldl=o.reduce,o.reduceRight=function(t,e,n,r){var i=c(t,function(t){return t}).reverse();o.reduce(i,e,n,r)},o.foldr=o.reduceRight;var y=function(t,e,n,r){var i=[];e=c(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&i.push(t),e()})},function(t){r(c(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};o.filter=p(y),o.filterSeries=g(y),o.select=o.filter,o.selectSeries=o.filterSeries;var b=function(t,e,n,r){var i=[];e=c(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||i.push(t),e()})},function(t){r(c(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};o.reject=p(b),o.rejectSeries=g(b);var x=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(t){r()})};o.detect=p(x),o.detectSeries=g(x),o.some=function(t,e,n){o.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(t){n(!1)})},o.any=o.some,o.every=function(t,e,n){o.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(t){n(!0)})},o.all=o.every,o.sortBy=function(t,e,n){o.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0};n(null,c(e.sort(r),function(t){return t.value}))})},o.auto=function(t,e){e=e||function(){};var n=f(t),r=n.length;if(!r)return e();var i={},s=[],c=function(t){s.unshift(t)},h=function(t){for(var e=0;e<s.length;e+=1)if(s[e]===t)return void s.splice(e,1)},p=function(){r--,u(s.slice(0),function(t){t()})};c(function(){if(!r){var t=e;e=function(){},t(null,i)}}),u(n,function(n){var r=a(t[n])?t[n]:[t[n]],s=function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),t){var s={};u(f(i),function(t){s[t]=i[t]}),s[n]=r,e(t,s),e=function(){}}else i[n]=r,o.setImmediate(p)},d=r.slice(0,Math.abs(r.length-1))||[],g=function(){return l(d,function(t,e){return t&&i.hasOwnProperty(e)},!0)&&!i.hasOwnProperty(n)};if(g())r[r.length-1](s,i);else{var v=function(){g()&&(h(v),r[r.length-1](s,i))};c(v)}})},o.retry=function(t,e,n){var r=5,i=[];"function"==typeof t&&(n=e,e=t,t=r),t=parseInt(t,10)||r;var s=function(r,s){for(var a=function(t,e){return function(n){t(function(t,r){n(!t||e,{err:t,result:r})},s)}};t;)i.push(a(e,!(t-=1)));o.series(i,function(t,e){e=e[e.length-1],(r||n)(e.err,e.result)})};return n?s():s},o.waterfall=function(t,e){if(e=e||function(){},!a(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),s=t.next();s?i.push(r(s)):i.push(e),o.setImmediate(function(){t.apply(null,i)})}}};r(o.iterator(t))()};var w=function(t,e,n){if(n=n||function(){},a(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(f(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(t){n(t,r)})}};o.parallel=function(t,e){w({map:o.map,each:o.each},t,e)},o.parallelLimit=function(t,e,n){w({map:m(e),each:h(e)},t,n)},o.series=function(t,e){if(e=e||function(){},a(t))o.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};o.eachSeries(f(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(t){e(t,n)})}},o.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)},o.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var _=function(t,e,n,r){var i=[];t(e,function(t,e){n(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){r(t,i)})};o.concat=p(_),o.concatSeries=g(_),o.whilst=function(t,e,n){t()?e(function(r){return r?n(r):void o.whilst(t,e,n)}):n()},o.doWhilst=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?o.doWhilst(t,e,n):n()})},o.until=function(t,e,n){t()?n():e(function(r){return r?n(r):void o.until(t,e,n)})},o.doUntil=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?n():o.doUntil(t,e,n)})},o.queue=function(t,e){function r(t,e,n,r){return t.started||(t.started=!0),a(e)||(e=[e]),0==e.length?o.setImmediate(function(){t.drain&&t.drain()}):void u(e,function(e){var i={data:e,callback:"function"==typeof r?r:null};n?t.tasks.unshift(i):t.tasks.push(i),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),o.setImmediate(t.process)})}void 0===e&&(e=1);var i=0,s={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(s,t,!1,e)},kill:function(){s.drain=null,s.tasks=[]},unshift:function(t,e){r(s,t,!0,e)},process:function(){if(!s.paused&&i<s.concurrency&&s.tasks.length){var e=s.tasks.shift();s.empty&&0===s.tasks.length&&s.empty(),i+=1;var r=function(){i-=1,e.callback&&e.callback.apply(e,arguments),s.drain&&s.tasks.length+i===0&&s.drain(),s.process()},o=n(r);t(e.data,o)}},length:function(){return s.tasks.length},running:function(){return i},idle:function(){return s.tasks.length+i===0},pause:function(){s.paused!==!0&&(s.paused=!0)},resume:function(){if(s.paused!==!1){s.paused=!1;for(var t=1;t<=s.concurrency;t++)o.setImmediate(s.process)}}};return s},o.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function r(t,e,n){for(var r=-1,i=t.length-1;i>r;){var o=r+(i-r+1>>>1);n(e,t[o])>=0?r=o:i=o-1}return r}function i(t,e,i,s){return t.started||(t.started=!0),a(e)||(e=[e]),0==e.length?o.setImmediate(function(){t.drain&&t.drain()}):void u(e,function(e){var a={data:e,priority:i,callback:"function"==typeof s?s:null};t.tasks.splice(r(t.tasks,a,n)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),o.setImmediate(t.process)})}var s=o.queue(t,e);return s.push=function(t,e,n){i(s,t,e,n)},delete s.unshift,s},o.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){a(t)||(t=[t]),u(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===e&&i.saturated()}),o.setImmediate(i.process)},process:function s(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var o="number"==typeof e?r.splice(0,e):r.splice(0,r.length),a=c(o,function(t){return t.data});i.empty&&i.empty(),n=!0,t(a,function(){n=!1;var t=arguments;u(o,function(e){e.callback&&e.callback.apply(null,t)}),s()})}},length:function(){return r.length},running:function(){return n}};return i};var E=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&u(n,function(e){console[t](e)}))}]))}};o.log=E("log"),o.dir=E("dir"),o.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),s=i.pop(),a=e.apply(null,i);a in n?o.nextTick(function(){s.apply(null,n[a])}):a in r?r[a].push(s):(r[a]=[s],t.apply(null,i.concat([function(){n[a]=arguments;var t=r[a];delete r[a];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},o.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},o.times=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return o.map(r,e,n)},o.timesSeries=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return o.mapSeries(r,e,n)},o.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();o.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}},o.compose=function(){return o.seq.apply(null,Array.prototype.reverse.call(arguments))};var T=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};o.applyEach=p(T),o.applyEachSeries=g(T),o.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},"undefined"!=typeof e&&e.exports?e.exports=o:"undefined"!=typeof define&&define.amd?define([],function(){return o}):r.async=o}()}).call(this,t("_process"))},{_process:17}],16:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],17:[function(t,e,n){function r(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],18:[function(t,e,n){(function(){var t=this,r=t._,i={},o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,l=o.concat,f=s.toString,h=s.hasOwnProperty,p=o.forEach,d=o.map,g=o.reduce,v=o.reduceRight,m=o.filter,y=o.every,b=o.some,x=o.indexOf,w=o.lastIndexOf,_=Array.isArray,E=Object.keys,T=a.bind,N=function(t){return t instanceof N?t:this instanceof N?void(this._wrapped=t):new N(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=N),
n._=N):t._=N,N.VERSION="1.6.0";var A=N.each=N.forEach=function(t,e,n){if(null==t)return t;if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var s=N.keys(t),r=0,o=s.length;o>r;r++)if(e.call(n,t[s[r]],s[r],t)===i)return;return t};N.map=N.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(A(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r)};var j="Reduce of empty array with no initial value";N.reduce=N.foldl=N.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return r&&(e=N.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(A(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError(j);return n},N.reduceRight=N.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return r&&(e=N.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=N.keys(t);o=s.length}if(A(t,function(a,u,c){u=s?s[--o]:--o,i?n=e.call(r,n,t[u],u,c):(n=t[u],i=!0)}),!i)throw new TypeError(j);return n},N.find=N.detect=function(t,e,n){var r;return k(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},N.filter=N.select=function(t,e,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(e,n):(A(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r)},N.reject=function(t,e,n){return N.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},N.every=N.all=function(t,e,n){e||(e=N.identity);var r=!0;return null==t?r:y&&t.every===y?t.every(e,n):(A(t,function(t,o,s){return(r=r&&e.call(n,t,o,s))?void 0:i}),!!r)};var k=N.some=N.any=function(t,e,n){e||(e=N.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(A(t,function(t,o,s){return r||(r=e.call(n,t,o,s))?i:void 0}),!!r)};N.contains=N.include=function(t,e){return null==t?!1:x&&t.indexOf===x?-1!=t.indexOf(e):k(t,function(t){return t===e})},N.invoke=function(t,e){var n=c.call(arguments,2),r=N.isFunction(e);return N.map(t,function(t){return(r?e:t[e]).apply(t,n)})},N.pluck=function(t,e){return N.map(t,N.property(e))},N.where=function(t,e){return N.filter(t,N.matches(e))},N.findWhere=function(t,e){return N.find(t,N.matches(e))},N.max=function(t,e,n){if(!e&&N.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-(1/0),i=-(1/0);return A(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;a>i&&(r=t,i=a)}),r},N.min=function(t,e,n){if(!e&&N.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return A(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;i>a&&(r=t,i=a)}),r},N.shuffle=function(t){var e,n=0,r=[];return A(t,function(t){e=N.random(n++),r[n-1]=r[e],r[e]=t}),r},N.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=N.values(t)),t[N.random(t.length-1)]):N.shuffle(t).slice(0,Math.max(0,e))};var O=function(t){return null==t?N.identity:N.isFunction(t)?t:N.property(t)};N.sortBy=function(t,e,n){return e=O(e),N.pluck(N.map(t,function(t,r,i){return{value:t,index:r,criteria:e.call(n,t,r,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var C=function(t){return function(e,n,r){var i={};return n=O(n),A(e,function(o,s){var a=n.call(r,o,s,e);t(i,a,o)}),i}};N.groupBy=C(function(t,e,n){N.has(t,e)?t[e].push(n):t[e]=[n]}),N.indexBy=C(function(t,e,n){t[e]=n}),N.countBy=C(function(t,e){N.has(t,e)?t[e]++:t[e]=1}),N.sortedIndex=function(t,e,n,r){n=O(n);for(var i=n.call(r,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(r,t[a])<i?o=a+1:s=a}return o},N.toArray=function(t){return t?N.isArray(t)?c.call(t):t.length===+t.length?N.map(t,N.identity):N.values(t):[]},N.size=function(t){return null==t?0:t.length===+t.length?t.length:N.keys(t).length},N.first=N.head=N.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:c.call(t,0,e)},N.initial=function(t,e,n){return c.call(t,0,t.length-(null==e||n?1:e))},N.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},N.rest=N.tail=N.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},N.compact=function(t){return N.filter(t,N.identity)};var S=function(t,e,n){return e&&N.every(t,N.isArray)?l.apply(n,t):(A(t,function(t){N.isArray(t)||N.isArguments(t)?e?u.apply(n,t):S(t,e,n):n.push(t)}),n)};N.flatten=function(t,e){return S(t,e,[])},N.without=function(t){return N.difference(t,c.call(arguments,1))},N.partition=function(t,e){var n=[],r=[];return A(t,function(t){(e(t)?n:r).push(t)}),[n,r]},N.uniq=N.unique=function(t,e,n,r){N.isFunction(e)&&(r=n,n=e,e=!1);var i=n?N.map(t,n,r):t,o=[],s=[];return A(i,function(n,r){(e?r&&s[s.length-1]===n:N.contains(s,n))||(s.push(n),o.push(t[r]))}),o},N.union=function(){return N.uniq(N.flatten(arguments,!0))},N.intersection=function(t){var e=c.call(arguments,1);return N.filter(N.uniq(t),function(t){return N.every(e,function(e){return N.contains(e,t)})})},N.difference=function(t){var e=l.apply(o,c.call(arguments,1));return N.filter(t,function(t){return!N.contains(e,t)})},N.zip=function(){for(var t=N.max(N.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=N.pluck(arguments,""+n);return e},N.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},N.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=N.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(x&&t.indexOf===x)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},N.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(w&&t.lastIndexOf===w)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},N.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o};var D=function(){};N.bind=function(t,e){var n,r;if(T&&t.bind===T)return T.apply(t,c.call(arguments,1));if(!N.isFunction(t))throw new TypeError;return n=c.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(c.call(arguments)));D.prototype=t.prototype;var i=new D;D.prototype=null;var o=t.apply(i,n.concat(c.call(arguments)));return Object(o)===o?o:i}},N.partial=function(t){var e=c.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,o=r.length;o>i;i++)r[i]===N&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},N.bindAll=function(t){var e=c.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return A(e,function(e){t[e]=N.bind(t[e],t)}),t},N.memoize=function(t,e){var n={};return e||(e=N.identity),function(){var r=e.apply(this,arguments);return N.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},N.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},N.defer=function(t){return N.delay.apply(N,[t,1].concat(c.call(arguments,1)))},N.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:N.now(),s=null,o=t.apply(r,i),r=i=null};return function(){var c=N.now();a||n.leading!==!1||(a=c);var l=e-(c-a);return r=this,i=arguments,0>=l?(clearTimeout(s),s=null,a=c,o=t.apply(r,i),r=i=null):s||n.trailing===!1||(s=setTimeout(u,l)),o}},N.debounce=function(t,e,n){var r,i,o,s,a,u=function(){var c=N.now()-s;e>c?r=setTimeout(u,e-c):(r=null,n||(a=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,s=N.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},N.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},N.wrap=function(t,e){return N.partial(e,t)},N.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},N.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},N.keys=function(t){if(!N.isObject(t))return[];if(E)return E(t);var e=[];for(var n in t)N.has(t,n)&&e.push(n);return e},N.values=function(t){for(var e=N.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},N.pairs=function(t){for(var e=N.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},N.invert=function(t){for(var e={},n=N.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},N.functions=N.methods=function(t){var e=[];for(var n in t)N.isFunction(t[n])&&e.push(n);return e.sort()},N.extend=function(t){return A(c.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},N.pick=function(t){var e={},n=l.apply(o,c.call(arguments,1));return A(n,function(n){n in t&&(e[n]=t[n])}),e},N.omit=function(t){var e={},n=l.apply(o,c.call(arguments,1));for(var r in t)N.contains(n,r)||(e[r]=t[r]);return e},N.defaults=function(t){return A(c.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},N.clone=function(t){return N.isObject(t)?N.isArray(t)?t.slice():N.extend({},t):t},N.tap=function(t,e){return e(t),t};var M=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof N&&(t=t._wrapped),e instanceof N&&(e=e._wrapped);var i=f.call(t);if(i!=f.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(N.isFunction(s)&&s instanceof s&&N.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),r.push(e);var u=0,c=!0;if("[object Array]"==i){if(u=t.length,c=u==e.length)for(;u--&&(c=M(t[u],e[u],n,r)););}else{for(var l in t)if(N.has(t,l)&&(u++,!(c=N.has(e,l)&&M(t[l],e[l],n,r))))break;if(c){for(l in e)if(N.has(e,l)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};N.isEqual=function(t,e){return M(t,e,[],[])},N.isEmpty=function(t){if(null==t)return!0;if(N.isArray(t)||N.isString(t))return 0===t.length;for(var e in t)if(N.has(t,e))return!1;return!0},N.isElement=function(t){return!(!t||1!==t.nodeType)},N.isArray=_||function(t){return"[object Array]"==f.call(t)},N.isObject=function(t){return t===Object(t)},A(["Arguments","Function","String","Number","Date","RegExp"],function(t){N["is"+t]=function(e){return f.call(e)=="[object "+t+"]"}}),N.isArguments(arguments)||(N.isArguments=function(t){return!(!t||!N.has(t,"callee"))}),"function"!=typeof/./&&(N.isFunction=function(t){return"function"==typeof t}),N.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},N.isNaN=function(t){return N.isNumber(t)&&t!=+t},N.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==f.call(t)},N.isNull=function(t){return null===t},N.isUndefined=function(t){return void 0===t},N.has=function(t,e){return h.call(t,e)},N.noConflict=function(){return t._=r,this},N.identity=function(t){return t},N.constant=function(t){return function(){return t}},N.property=function(t){return function(e){return e[t]}},N.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},N.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=e.call(n,i);return r},N.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},N.now=Date.now||function(){return(new Date).getTime()};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=N.invert(P.escape);var I={escape:new RegExp("["+N.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+N.keys(P.unescape).join("|")+")","g")};N.each(["escape","unescape"],function(t){N[t]=function(e){return null==e?"":(""+e).replace(I[t],function(e){return P[t][e]})}}),N.result=function(t,e){if(null==t)return void 0;var n=t[e];return N.isFunction(n)?n.call(t):n},N.mixin=function(t){A(N.functions(t),function(e){var n=N[e]=t[e];N.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),F.call(this,n.apply(N,t))}})};var L=0;N.uniqueId=function(t){var e=++L+"";return t?t+e:e},N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;N.template=function(t,e,n){var r;n=N.defaults({},n,N.templateSettings);var i=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,function(e,n,r,i,a){return s+=t.slice(o,a).replace(B,function(t){return"\\"+q[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return r(e,N);var u=function(t){return r.call(this,t,N)};return u.source="function("+(n.variable||"obj")+"){\n"+s+"}",u},N.chain=function(t){return N(t).chain()};var F=function(t){return this._chain?N(t).chain():t};N.mixin(N),A(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];N.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],F.call(this,n)}}),A(["concat","join","slice"],function(t){var e=o[t];N.prototype[t]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),N.extend(N.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return N})}).call(this)},{}],19:[function(t,e,n){var r=t("./lib/WAAClock");e.exports=r,"undefined"!=typeof window&&(window.WAAClock=r)},{"./lib/WAAClock":20}],20:[function(t,e,n){(function(t){var n=("undefined"!=typeof window,{toleranceLate:.1,toleranceEarly:.001}),r=function(t,e,n){this.clock=t,this.func=n,this._cleared=!1,this.toleranceLate=t.toleranceLate,this.toleranceEarly=t.toleranceEarly,this._latestTime=null,this._earliestTime=null,this.deadline=null,this.repeatTime=null,this.schedule(e)};r.prototype.clear=function(){return this.clock._removeEvent(this),this._cleared=!0,this},r.prototype.repeat=function(t){if(0===t)throw new Error("delay cannot be 0");return this.repeatTime=t,this.clock._hasEvent(this)||this.schedule(this.deadline+this.repeatTime),this},r.prototype.tolerance=function(t){return"number"==typeof t.late&&(this.toleranceLate=t.late),"number"==typeof t.early&&(this.toleranceEarly=t.early),this._refreshEarlyLateDates(),this.clock._hasEvent(this)&&(this.clock._removeEvent(this),this.clock._insertEvent(this)),this},r.prototype.isRepeated=function(){return null!==this.repeatTime},r.prototype.schedule=function(t){this._cleared=!1,this.deadline=t,this._refreshEarlyLateDates(),this.clock.context.currentTime>=this._earliestTime?this._execute():this.clock._hasEvent(this)?(this.clock._removeEvent(this),this.clock._insertEvent(this)):this.clock._insertEvent(this)},r.prototype.timeStretch=function(t,e){this.isRepeated()&&(this.repeatTime=this.repeatTime*e);var n=t+e*(this.deadline-t);if(this.isRepeated())for(;this.clock.context.currentTime>=n-this.toleranceEarly;)n+=this.repeatTime;this.schedule(n)},r.prototype._execute=function(){this.clock._started!==!1&&(this.clock._removeEvent(this),this.clock.context.currentTime<this._latestTime?this.func(this):(this.onexpired&&this.onexpired(this),console.warn("event expired")),this.clock._hasEvent(this)||!this.isRepeated()||this._cleared||this.schedule(this.deadline+this.repeatTime))},r.prototype._refreshEarlyLateDates=function(){this._latestTime=this.deadline+this.toleranceLate,this._earliestTime=this.deadline-this.toleranceEarly};var i=e.exports=function(t,e){e=e||{},this.tickMethod=e.tickMethod||"ScriptProcessorNode",this.toleranceEarly=e.toleranceEarly||n.toleranceEarly,this.toleranceLate=e.toleranceLate||n.toleranceLate,this.context=t,this._events=[],this._started=!1};i.prototype.setTimeout=function(t,e){return this._createEvent(t,this._absTime(e))},i.prototype.callbackAtTime=function(t,e){return this._createEvent(t,e)},i.prototype.timeStretch=function(t,e,n){return e.forEach(function(e){e.timeStretch(t,n)}),e},i.prototype.start=function(){if(this._started===!1){var e=this;if(this._started=!0,this._events=[],"ScriptProcessorNode"===this.tickMethod){var n=256;this._clockNode=this.context.createScriptProcessor(n,1,1),this._clockNode.connect(this.context.destination),this._clockNode.onaudioprocess=function(){t.nextTick(function(){e._tick()})}}else if("manual"!==this.tickMethod)throw new Error("invalid tickMethod "+this.tickMethod)}},i.prototype.stop=function(){this._started===!0&&(this._started=!1,this._clockNode.disconnect())},i.prototype._tick=function(){for(var t=this._events.shift();t&&t._earliestTime<=this.context.currentTime;)t._execute(),t=this._events.shift();t&&this._events.unshift(t)},i.prototype._createEvent=function(t,e){return new r(this,e,t)},i.prototype._insertEvent=function(t){this._events.splice(this._indexByTime(t._earliestTime),0,t)},i.prototype._removeEvent=function(t){var e=this._events.indexOf(t);-1!==e&&this._events.splice(e,1)},i.prototype._hasEvent=function(t){return-1!==this._events.indexOf(t)},i.prototype._indexByTime=function(t){for(var e,n=0,r=this._events.length;r>n;)e=Math.floor((n+r)/2),this._events[e]._earliestTime<t?n=e+1:r=e;return n},i.prototype._absTime=function(t){return t+this.context.currentTime},i.prototype._relTime=function(t){return t-this.context.currentTime}}).call(this,t("_process"))},{_process:17}],21:[function(t,e,n){var r=t("./lib/WAAOffset");e.exports=r,"undefined"!=typeof window&&(window.WAAOffset=r)},{"./lib/WAAOffset":22}],22:[function(t,e,n){var r=e.exports=function(t){this.context=t,this._ones=t.createOscillator(),this._ones.frequency.value=0,this._ones.setPeriodicWave(t.createPeriodicWave(new Float32Array([0,1]),new Float32Array([0,0]))),this._ones.start(0),this._output=t.createGain(),this._ones.connect(this._output),this.offset=this._output.gain,this.offset.value=0};r.prototype.connect=function(){this._output.connect.apply(this._output,arguments)},r.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments)}},{}]},{},[1]);